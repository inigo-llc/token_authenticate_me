  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:58:43.305647"], ["email", "test@email.com"], ["password_digest", "$2a$04$hTEY39JHKEShZb4f4XSUyeJt2clwy6vo9W9Yu0MlfI.pCi2n5U6We"], ["updated_at", "2014-11-15 21:58:43.305647"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 21:58:43.315286"], ["email", "test@email.com"], ["password_digest", "$2a$04$ohnRe8u.QCkKJCuhs590H.GYQTxneCHcU8exq2e5pNdOwOkQrkUw."], ["updated_at", "2014-11-15 21:58:43.315286"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:58:43.325957"], ["email", "test@email.com"], ["password_digest", "$2a$04$YAefqdTDbgzA/eY0JcS5dujC52pCwdWb10qV4RsgiqcUUDKdNXcWS"], ["updated_at", "2014-11-15 21:58:43.325957"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 21:58:43.340270"], ["email", "test@email.com"], ["password_digest", "$2a$04$9g8T6VTYzt2MpVvJ/RZaiumHz7Xa.JiObeWV9/r0DMnvQCQ44LjWa"], ["updated_at", "2014-11-15 21:58:43.340270"], ["username", "test"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:58:43.352641"], ["email", "test@email.com"], ["password_digest", "$2a$04$ssV9S4gXAL/7orZnorVGbOEreD21vsOODIcNqmS8Wi5IryvdJfIQ."], ["updated_at", "2014-11-15 21:58:43.352641"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 21:58:43.366642"], ["email", "test@email.com"], ["password_digest", "$2a$04$cnzkKPUAEt0x2hn2PpsbEOwhjiWI5tOacPHcpjsOxYYPgRWnshjwy"], ["updated_at", "2014-11-15 21:58:43.366642"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 13:58:43 -0800
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:58:43.413080"], ["email", "test@email.com"], ["password_digest", "$2a$04$r9s1z9dQeyVfIvH9/B0awOa/r.d/yDOxBEI8mG6GgmkVFpVvL3/GC"], ["updated_at", "2014-11-15 21:58:43.413080"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 13:58:43 -0800
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 21:58:43.423496"], ["email", "test@email.com"], ["password_digest", "$2a$04$JOM/TrqFslaXZQkYUrBJx.Uuo3xGJLq4IlFWq9ybD0/Li6RYJvjbO"], ["updated_at", "2014-11-15 21:58:43.423496"], ["username", "test"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 13:58:43 -0800
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:58:43.436009"], ["email", "test@email.com"], ["password_digest", "$2a$04$LromWTrBIqkXw2fNoAEyweWkK2Xyyar3e/XmaauTV0AdwAHOToDTG"], ["updated_at", "2014-11-15 21:58:43.436009"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 13:58:43 -0800
  [1m[36m (55.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:59:11.349728"], ["email", "test@email.com"], ["password_digest", "$2a$04$W2GFR2H7ZDMYdR0kzTZOJ.nSx55yXcsRHxXiKpmcnBM9p/rV5Qv/i"], ["updated_at", "2014-11-15 21:59:11.349728"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 21:59:11.361709"], ["email", "test@email.com"], ["password_digest", "$2a$04$6/pQwhvzO3ydavcm8hnkwuVqQXywtQafyLG.agl5rz3u9elDL1E.m"], ["updated_at", "2014-11-15 21:59:11.361709"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:59:11.372389"], ["email", "test@email.com"], ["password_digest", "$2a$04$bV45MtGX7wa5eh0NhBlqJOmyBA5n60Xd2wbb7vrRLk7N0MrIGWNni"], ["updated_at", "2014-11-15 21:59:11.372389"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 21:59:11.383223"], ["email", "test@email.com"], ["password_digest", "$2a$04$rdVGqpYKwG4D0oW1dxRYduUdEhBQzg3XvK6nSfWqqq8VJSKsDNI.e"], ["updated_at", "2014-11-15 21:59:11.383223"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:59:11.397767"], ["email", "test@email.com"], ["password_digest", "$2a$04$v1fZSa0XuapayzzYU0SBF.TsYkswoTQlmJXuqpQwr1b6ariQfq9Um"], ["updated_at", "2014-11-15 21:59:11.397767"], ["username", "test"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 21:59:11.411477"], ["email", "test@email.com"], ["password_digest", "$2a$04$sqhqoqa9hAubBrCxYsutUeEL6OE76NiLfpz5ZSoC5XYU3yzcWpA8i"], ["updated_at", "2014-11-15 21:59:11.411477"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 13:59:11 -0800
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:59:11.440360"], ["email", "test@email.com"], ["password_digest", "$2a$04$yW0Z1yYnCWz9.Rom/E4qVu8cmWxR9sJ0YXpmHGqeqCOLI9NMpiS0q"], ["updated_at", "2014-11-15 21:59:11.440360"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 13:59:11 -0800
  [1m[36m (4.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 21:59:11.533825"], ["email", "test@email.com"], ["password_digest", "$2a$04$vcGRIzDNiX/sPxeYDIV2o.onSt/ONR8vhqne9wif1.Qjfc9Wb3JwK"], ["updated_at", "2014-11-15 21:59:11.533825"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 13:59:11 -0800
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 21:59:11.546145"], ["email", "test@email.com"], ["password_digest", "$2a$04$zLrwm/mbalcnjqbdGUhVp.MlUSnnSbCF5ZKZhcDk3XGM0qkHjCchm"], ["updated_at", "2014-11-15 21:59:11.546145"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 13:59:11 -0800
  [1m[36m (2.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:06:18.735333"], ["email", "test@email.com"], ["password_digest", "$2a$04$cE8Yh5ETJXLMvjbKWZk0EeJgpXjjwXCs/qg.UMESFpabkYSxVBkdW"], ["updated_at", "2014-11-15 22:06:18.735333"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:06:18.753300"], ["email", "test@email.com"], ["password_digest", "$2a$04$SHWs9HmhLW3hmv4BIovGyuRDTcffyPAa8ZqjI2vnh5QGp1qhAk1De"], ["updated_at", "2014-11-15 22:06:18.753300"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:06:18.760080"], ["email", "test@email.com"], ["password_digest", "$2a$04$rINdAtJwLcnMIsDnR7nOWu.F4.vZzsGDmN.ozQ3dKAxqGVYXe94BO"], ["updated_at", "2014-11-15 22:06:18.760080"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:06:18.766539"], ["email", "test@email.com"], ["password_digest", "$2a$04$L5pam90wPEgdCpDU8ok8OO1aLJhxqb/Rz8sGhyIYkL6s6xrtbAdcC"], ["updated_at", "2014-11-15 22:06:18.766539"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:06:18.777618"], ["email", "test@email.com"], ["password_digest", "$2a$04$IJGaNQ7efyD1Fc4q1sDJ8OCNCOELNC4as/Ej/HZ0quWEC34aVpaTa"], ["updated_at", "2014-11-15 22:06:18.777618"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:06:18.787909"], ["email", "test@email.com"], ["password_digest", "$2a$04$QY/Mxsf8Iw38o5gFk2jrjuCbHRxPnHl9QHVzElBAC1j8ncRwnxaJG"], ["updated_at", "2014-11-15 22:06:18.787909"], ["username", "test"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:06:18 -0800
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:06:18.813000"], ["email", "test@email.com"], ["password_digest", "$2a$04$lnVOvUjXeVpKqUqKJh.T3ucynyB5ggSlLmOmJNu0wTIjZrsq5ZKRC"], ["updated_at", "2014-11-15 22:06:18.813000"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:06:18 -0800
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:06:18.824697"], ["email", "test@email.com"], ["password_digest", "$2a$04$XaTd1BWm778XIuHExA5Jau9E1osbIlV5JcN3nh6CcyJc0Kn3x.6Ta"], ["updated_at", "2014-11-15 22:06:18.824697"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:06:18 -0800
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:06:18.834777"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZM0LvO8UEA1gRaP0d7.j7O8My2ESuGEnISctEkg7k3d8fOO4Q6wIi"], ["updated_at", "2014-11-15 22:06:18.834777"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:06:18 -0800
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:16:53.566252"], ["email", "test@email.com"], ["password_digest", "$2a$04$QiuMEZQqvP3RkWR7T1rG6eo8G4ONH9od7NfZ7Xz3IeX/mLRJ4YCgC"], ["updated_at", "2014-11-15 22:16:53.566252"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:16:53.576287"], ["email", "test@email.com"], ["password_digest", "$2a$04$zFeaqGHfzTlNQzRubogw5.VUdEDXjBWX9uTqEZ772c9781vucj3pG"], ["updated_at", "2014-11-15 22:16:53.576287"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:16:53.582595"], ["email", "test@email.com"], ["password_digest", "$2a$04$9n76XNM/Qdn/g8XIv/BCV.nNePlaFIHDvQgf9QmsYYcYSesS.hCl."], ["updated_at", "2014-11-15 22:16:53.582595"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:16:53.587931"], ["email", "test@email.com"], ["password_digest", "$2a$04$Nz4sg6P731AVZ82MGyDox.Jboxibif4nwAVODb/ejazkcPFOjJIfW"], ["updated_at", "2014-11-15 22:16:53.587931"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:16:53.597082"], ["email", "test@email.com"], ["password_digest", "$2a$04$v/.IERpUcxfS7KSlR16bz.EzgZTIvUKatyVVY91RSOCR4E/lE2JjK"], ["updated_at", "2014-11-15 22:16:53.597082"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:16:53.609674"], ["email", "test@email.com"], ["password_digest", "$2a$04$XRRQ960ZGk8zt7.bnpt.ueSL4sxUChTaAjc6.xsaqwQme2Wo.iP3S"], ["updated_at", "2014-11-15 22:16:53.609674"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:16:53 -0800
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:16:53.635646"], ["email", "test@email.com"], ["password_digest", "$2a$04$Nmhnm8Y3IpGzF25SxNppC.zQ1TnyFaYWoxjU2.GrICdEYZVmV1rSy"], ["updated_at", "2014-11-15 22:16:53.635646"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:16:53 -0800
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:16:53.642850"], ["email", "test@email.com"], ["password_digest", "$2a$04$EpnXEZx9V42cYZjFqExxmu4Z8oXQEPqXUpblJuc34kCdQrEeoMO4q"], ["updated_at", "2014-11-15 22:16:53.642850"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:16:53 -0800
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:16:53.651250"], ["email", "test@email.com"], ["password_digest", "$2a$04$9dFIT0I/bDfYfF1jVAkC1eN3MumLkyl50rvGD9PScdpvkM/qxPequ"], ["updated_at", "2014-11-15 22:16:53.651250"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:16:53 -0800
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:37.530489"], ["email", "test@email.com"], ["password_digest", "$2a$04$ObmpDROliDZIkHV20aW4NOJYIO/Ln/9ah7g1juBQN1yAdA4AF9lJu"], ["updated_at", "2014-11-15 22:17:37.530489"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:17:37.544144"], ["email", "test@email.com"], ["password_digest", "$2a$04$fCbdH2Q/3Y04GyGr5ZbUxesYC3Yjw9NNYZ0Lo2MZrFa7eosbR9Go6"], ["updated_at", "2014-11-15 22:17:37.544144"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (3.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:37.570877"], ["email", "test@email.com"], ["password_digest", "$2a$04$bFroNVewqVTSAVgKx.f7ZuUVrzsPnBXHMkbMNAGu8oH9fDhz9n3lm"], ["updated_at", "2014-11-15 22:17:37.570877"], ["username", "test"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:17:37.650017"], ["email", "test@email.com"], ["password_digest", "$2a$04$loflj4PHNbpUAI8Jkw5QzeiucGxy2JmZSdO3oIKGNdbVUHjdknrd."], ["updated_at", "2014-11-15 22:17:37.650017"], ["username", "test"]]
  [1m[36m (1.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:37.747955"], ["email", "test@email.com"], ["password_digest", "$2a$04$Nfts2LbXEQ85iqwWR6Zt.OWsUqKmYiK2MB4AH9VGwcUMQ8yIMCM.G"], ["updated_at", "2014-11-15 22:17:37.747955"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:17:37.766461"], ["email", "test@email.com"], ["password_digest", "$2a$04$afMUKnehqM6kcWU9m2QdVuil2uGImOQaLwHKgumbiUe2uPJMlkXlC"], ["updated_at", "2014-11-15 22:17:37.766461"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:17:37 -0800
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:37.848960"], ["email", "test@email.com"], ["password_digest", "$2a$04$T/fXCH2ISE4ReNUYxO9h1emEtYTPfUUnaAzsvagXmgPbh1YTz6RNK"], ["updated_at", "2014-11-15 22:17:37.848960"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:17:37 -0800
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:17:37.871118"], ["email", "test@email.com"], ["password_digest", "$2a$04$058VHJkEWtAOajRdcftUrOLt.YlWwAOayS/8NjCd6tGTTkNZocSO6"], ["updated_at", "2014-11-15 22:17:37.871118"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:17:37 -0800
  [1m[35m (3.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:37.936420"], ["email", "test@email.com"], ["password_digest", "$2a$04$CLpX3f4LV.9d8TuVZJiiPOxeiD92vMPohM7zXqpbLWheANKmxZlx6"], ["updated_at", "2014-11-15 22:17:37.936420"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:17:37 -0800
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:52.920670"], ["email", "test@email.com"], ["password_digest", "$2a$04$nAKC/FcxXcqC2RdZFgkIWeeh14OSF68EwUGPkmQPj4I5zDaNw/Z4C"], ["updated_at", "2014-11-15 22:17:52.920670"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (2.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:17:52.942805"], ["email", "test@email.com"], ["password_digest", "$2a$04$LMOWTptKlOVsAMGcsLtrtOZtFSv0uDCYVNowoSGabsmRhUUlYI0bu"], ["updated_at", "2014-11-15 22:17:52.942805"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:52.979113"], ["email", "test@email.com"], ["password_digest", "$2a$04$3U7/V20kp5Z7O9GBX4IkJO3BRROwPxb4.h4nRGL8s10w623keqFC."], ["updated_at", "2014-11-15 22:17:52.979113"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:17:53.109654"], ["email", "test@email.com"], ["password_digest", "$2a$04$cZFNfS30LkMqt2M3ShTEs.zxzXRta4vQ6LrKWL2a2wn7NQag2vSSG"], ["updated_at", "2014-11-15 22:17:53.109654"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (18.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:53.121877"], ["email", "test@email.com"], ["password_digest", "$2a$04$mWZJ3UtKKVdTux1kNQ0ZgOvp5A.i84mHqgDvyTznF3jSPfz.b8fAC"], ["updated_at", "2014-11-15 22:17:53.121877"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (9.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:17:53.161853"], ["email", "test@email.com"], ["password_digest", "$2a$04$pQRikVyKoOp6rFt7Jz7PLuc3bunCwQi3SFZdpGwUGw4a4krRFrOSu"], ["updated_at", "2014-11-15 22:17:53.161853"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:17:53 -0800
  [1m[35m (17.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:53.302262"], ["email", "test@email.com"], ["password_digest", "$2a$04$uQFoJMvath6UcndbcOJzcuCKLI3Zc4NBbfhdMhYqUcPFa01Z6mWr2"], ["updated_at", "2014-11-15 22:17:53.302262"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:17:53 -0800
  [1m[36m (4.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (52.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:17:53.405200"], ["email", "test@email.com"], ["password_digest", "$2a$04$e3hDzS2gsw5SN0.i3zqYO.cGSACeCkTw9REC55XtoK1PyOSYCxuLC"], ["updated_at", "2014-11-15 22:17:53.405200"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:17:53 -0800
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (5.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:17:53.431128"], ["email", "test@email.com"], ["password_digest", "$2a$04$45E/9qTtvxeMdpasmBS4l.fZ8C0lO/d1vJO3BbfmfFdyGiFTC8lO."], ["updated_at", "2014-11-15 22:17:53.431128"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:17:53 -0800
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:18:49.967692"], ["email", "test@email.com"], ["password_digest", "$2a$04$lvb0Kb4RSxgMDxIProXYvORfsqL.dBaTL71fjknHHV3cU7xGzA/oK"], ["updated_at", "2014-11-15 22:18:49.967692"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a9a90374e525fd10a6970bb13416534a' LIMIT 1[0m
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (13.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:18:50.017564"], ["email", "test@email.com"], ["password_digest", "$2a$04$LxaCcKqKWYdGorkGX2sdOeSP9CkYDVZYHFaLJMsiiJhlskCLZ760W"], ["updated_at", "2014-11-15 22:18:50.017564"], ["username", "test"]]
  [1m[35m (1.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '920b675ee7eb2c29607764af20b271ac' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:18:50.106479"], ["email", "test@email.com"], ["password_digest", "$2a$04$.TnmXYCnmjdopqbwCITL5e.bPwoJS3OI25fUEwUvUxeJckEKOfE.y"], ["updated_at", "2014-11-15 22:18:50.106479"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5e6cd090a6f1615dd8b638439bc691c0' LIMIT 1[0m
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:18:50.233577"], ["email", "test@email.com"], ["password_digest", "$2a$04$dBROYKom38rdANvO/OKlNOqJLsw2U//j3DVRvxYkpR2nTlTcZ4fLS"], ["updated_at", "2014-11-15 22:18:50.233577"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f4971dd55adc212176158155be4c1795' LIMIT 1[0m
  [1m[35m (26.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (9.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:18:50.335422"], ["email", "test@email.com"], ["password_digest", "$2a$04$d.dYdEROzoQRyjd9aCK8s.LfIrAyA/iuo7aPhD9S/s2bkI1Jm6N1C"], ["updated_at", "2014-11-15 22:18:50.335422"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ac6c302e8ea638a8c90744036c13f9f4' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (22.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:18:50.397020"], ["email", "test@email.com"], ["password_digest", "$2a$04$UtpUgxGWC3uLxmaZzh.xNuUBpvjbTOexSf5DqEgoE9NO/WSeamwtq"], ["updated_at", "2014-11-15 22:18:50.397020"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:18:50 -0800
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (2.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:18:50.481445"], ["email", "test@email.com"], ["password_digest", "$2a$04$BNZFyjxgv82HignVgt1Uy.cCpMOniybMIKdOE/b7tyx9YychhNNau"], ["updated_at", "2014-11-15 22:18:50.481445"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:18:50 -0800
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:18:50.496544"], ["email", "test@email.com"], ["password_digest", "$2a$04$22eiONgia9gzhrvgHdlyXeMJmw4PI32OLj./IUSLprkE6phqyYM52"], ["updated_at", "2014-11-15 22:18:50.496544"], ["username", "test"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:18:50 -0800
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:18:50.520452"], ["email", "test@email.com"], ["password_digest", "$2a$04$gp0imxO7bvV5Sv6r7GAKYeVx.IK5VT0kFKSDBHLUtKdzqYJqqFsca"], ["updated_at", "2014-11-15 22:18:50.520452"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:18:50 -0800
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:20:00.280117"], ["email", "test@email.com"], ["password_digest", "$2a$04$Pt1euUA5nAnANVl8o/U4UuLruRixfjbHs5/Oi/kep/1tqs4mNJZU6"], ["updated_at", "2014-11-15 22:20:00.280117"], ["username", "test"]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a7414a634bf5407035dd37d54633eea8' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a7414a634bf5407035dd37d54633eea8"], ["reset_password_token_exp", "2014-11-16 06:20:00.291958"], ["updated_at", "2014-11-15 22:20:00.308700"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (3.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (10.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:20:00.378093"], ["email", "test@email.com"], ["password_digest", "$2a$04$fpxbT4u7biJtpOl9PsojtOnjk//LMWM9xsDj8o6ss2OnaPr51f9oW"], ["updated_at", "2014-11-15 22:20:00.378093"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '764f913b0929c789561ecd916147cb24' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "764f913b0929c789561ecd916147cb24"], ["reset_password_token_exp", "2014-11-16 06:20:00.394014"], ["updated_at", "2014-11-15 22:20:00.427072"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (26.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:20:00.485000"], ["email", "test@email.com"], ["password_digest", "$2a$04$n5knBnbLg8RInaAjJNYB7./L9C8C6vX86qj2enc5ST1AiJ0KZdGqS"], ["updated_at", "2014-11-15 22:20:00.485000"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '90637eb697023cb04b75ed045f21e66c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "90637eb697023cb04b75ed045f21e66c"], ["reset_password_token_exp", "2014-11-16 06:20:00.515432"], ["updated_at", "2014-11-15 22:20:00.527866"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (4.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:20:00.579985"], ["email", "test@email.com"], ["password_digest", "$2a$04$WbubngzFuyIwwgLvZqlzYe8fRjoGY9.rYvRYuUuZ3jF1M2I4hvHZG"], ["updated_at", "2014-11-15 22:20:00.579985"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '84f5dd6296ff73472b74e0a4b6a24450' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "84f5dd6296ff73472b74e0a4b6a24450"], ["reset_password_token_exp", "2014-11-16 06:20:00.589006"], ["updated_at", "2014-11-15 22:20:00.592976"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords//" for 127.0.0.1 at 2014-11-15 14:20:00 -0800
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (6.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:20:00.659404"], ["email", "test@email.com"], ["password_digest", "$2a$04$RKrRUCUkT6RHeuUkXvuirumAr9aEtLxgEX2bB4mhroGsc/M0EGkjm"], ["updated_at", "2014-11-15 22:20:00.659404"], ["username", "test"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e2688136802fabf1b7f95ecbe1b9967c' LIMIT 1
  [1m[36m (1.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e2688136802fabf1b7f95ecbe1b9967c"], ["reset_password_token_exp", "2014-11-16 06:20:00.705081"], ["updated_at", "2014-11-15 22:20:00.717048"]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords/1909b844fe115def6103033115178001/" for 127.0.0.1 at 2014-11-15 14:20:00 -0800
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:20:00.755114"], ["email", "test@email.com"], ["password_digest", "$2a$04$y2aaSSaZwfOgonE8kDbwwuJ0AoUn43lQ.riwfDui3eAi1s3wLfC.m"], ["updated_at", "2014-11-15 22:20:00.755114"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:20:00 -0800
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:20:00.812218"], ["email", "test@email.com"], ["password_digest", "$2a$04$chNS0WOsmI9cWO4bxYRwW.J5hb2RSbLaLe.KoUfgbdXbS3LOl9TCy"], ["updated_at", "2014-11-15 22:20:00.812218"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:20:00 -0800
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:20:00.844480"], ["email", "test@email.com"], ["password_digest", "$2a$04$xvpTc8Svkj7v401.xJ5inefbijv9lBVWVh.E5E55v9SB0wJ3nDmEK"], ["updated_at", "2014-11-15 22:20:00.844480"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:20:00 -0800
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (19.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:20:00.890102"], ["email", "test@email.com"], ["password_digest", "$2a$04$pLUA.4F4mvstrWwjtpiu9uHOGx.b1vC2vf8I2kYjGY.XLfVXTCfEi"], ["updated_at", "2014-11-15 22:20:00.890102"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:20:00 -0800
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:22:04.637826"], ["email", "test@email.com"], ["password_digest", "$2a$04$Fk3XAq48sXwpTEAfsp2yoeVyTdM2lU/zHfWwxvhTMw.7ZwfwssGRC"], ["updated_at", "2014-11-15 22:22:04.637826"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '78d6133eef1672333e2df00570c9156e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "78d6133eef1672333e2df00570c9156e"], ["reset_password_token_exp", "2014-11-16 06:22:04.652271"], ["updated_at", "2014-11-15 22:22:04.656615"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/reset_passwords/78d6133eef1672333e2df00570c9156e/" for 127.0.0.1 at 2014-11-15 14:22:04 -0800
  [1m[36m (9.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (5.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:22:04.709836"], ["email", "test@email.com"], ["password_digest", "$2a$04$drTHwx5BQUCCrPXwpxQhsupZ3CgYMsn0QIzlUwJtphVLs4yjN11mi"], ["updated_at", "2014-11-15 22:22:04.709836"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e3670a964185d05dd6620d3d5c93521e' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (19.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e3670a964185d05dd6620d3d5c93521e"], ["reset_password_token_exp", "2014-11-16 06:22:04.719280"], ["updated_at", "2014-11-15 22:22:04.748974"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords/e3670a964185d05dd6620d3d5c93521e/" for 127.0.0.1 at 2014-11-15 14:22:04 -0800
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:22:04.830814"], ["email", "test@email.com"], ["password_digest", "$2a$04$lRnT.u4Tx/kmuIM.AkyVxexim/gm4CBzmGbsP15zGdPKxi1kJIveC"], ["updated_at", "2014-11-15 22:22:04.830814"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4428afb68720c7f11013b405f1b2606e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "4428afb68720c7f11013b405f1b2606e"], ["reset_password_token_exp", "2014-11-16 06:22:04.844249"], ["updated_at", "2014-11-15 22:22:04.859538"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/reset_passwords/4428afb68720c7f11013b405f1b2606e/" for 127.0.0.1 at 2014-11-15 14:22:04 -0800
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:22:04.886055"], ["email", "test@email.com"], ["password_digest", "$2a$04$.7BOLuzlvF.HT4jiZj9YXuVRDANDb36kbuvRob80C7lUnzkGWJh4O"], ["updated_at", "2014-11-15 22:22:04.886055"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6c0d860ea97b17dd46aa1af7e047496a' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (27.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6c0d860ea97b17dd46aa1af7e047496a"], ["reset_password_token_exp", "2014-11-16 06:22:04.888966"], ["updated_at", "2014-11-15 22:22:04.896296"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords//" for 127.0.0.1 at 2014-11-15 14:22:04 -0800
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:22:04.988253"], ["email", "test@email.com"], ["password_digest", "$2a$04$IMJGHJVdGq5hEa1zka7Gt.K4khdLimahkTTdfAyml9uSGAFyZP64u"], ["updated_at", "2014-11-15 22:22:04.988253"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f944ef61115bacb0ecca4d21f495dbbb' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (2.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "f944ef61115bacb0ecca4d21f495dbbb"], ["reset_password_token_exp", "2014-11-16 06:22:04.996753"], ["updated_at", "2014-11-15 22:22:05.027354"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords/33c2245dc38fe4b708febedbbd6af47a/" for 127.0.0.1 at 2014-11-15 14:22:05 -0800
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:22:05.052670"], ["email", "test@email.com"], ["password_digest", "$2a$04$GBqHWlnuby2QLluIKSkJn.IUpQo2ODs5qlsKzwrvgPJ2JGyhb9JQS"], ["updated_at", "2014-11-15 22:22:05.052670"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:22:05 -0800
  [1m[36m (7.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:22:05.119416"], ["email", "test@email.com"], ["password_digest", "$2a$04$hWmXT72CbAZkz.Iz/fg55e/zBzasIUTC4gzW1YH.NgIPO2jjU/5VS"], ["updated_at", "2014-11-15 22:22:05.119416"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:22:05 -0800
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:22:05.151886"], ["email", "test@email.com"], ["password_digest", "$2a$04$ObecI0Q.xHTg9Q63Myeqj.L4ioSYbueFegkujJHulK.Vwtj24.HwS"], ["updated_at", "2014-11-15 22:22:05.151886"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:22:05 -0800
  [1m[36m (4.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:22:05.198406"], ["email", "test@email.com"], ["password_digest", "$2a$04$p5YwQz6tuK7RtJh008qlse6GTi5QtZPxYprjZYDPaFSXhMJ0Kf9n."], ["updated_at", "2014-11-15 22:22:05.198406"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:22:05 -0800
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:24:08.738834"], ["email", "test@email.com"], ["password_digest", "$2a$04$IFC9PTq8OoZ71Y1hjZiHoOX8bdZdfPvyV1QYtwWl8Ji/tsehmBm0m"], ["updated_at", "2014-11-15 22:24:08.738834"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0899c275e7bcd69cef65b604034ffaa3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0899c275e7bcd69cef65b604034ffaa3"], ["reset_password_token_exp", "2014-11-16 06:24:08.749890"], ["updated_at", "2014-11-15 22:24:08.774341"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/reset_passwords/0899c275e7bcd69cef65b604034ffaa3/" for 127.0.0.1 at 2014-11-15 14:24:08 -0800
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (14.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:08.816476"], ["email", "test@email.com"], ["password_digest", "$2a$04$TkOwbfd8i/fh0qWJNR2fFue7p5dnRAjGn2XLrL0xixUrMCi7KntdS"], ["updated_at", "2014-11-15 22:24:08.816476"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '757984403d8f6f1ac5956cd3fbfca7de' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "757984403d8f6f1ac5956cd3fbfca7de"], ["reset_password_token_exp", "2014-11-16 06:24:08.858537"], ["updated_at", "2014-11-15 22:24:08.861499"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords/757984403d8f6f1ac5956cd3fbfca7de/" for 127.0.0.1 at 2014-11-15 14:24:08 -0800
  [1m[35m (12.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:24:08.893376"], ["email", "test@email.com"], ["password_digest", "$2a$04$7d2KG.7UjQpbSXQrULUc2uweBOAngq43vzksDAi88EHgS7ooGMjUW"], ["updated_at", "2014-11-15 22:24:08.893376"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2000c1198b8ca20047a714764b1725a2' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2000c1198b8ca20047a714764b1725a2"], ["reset_password_token_exp", "2014-11-16 06:24:08.920880"], ["updated_at", "2014-11-15 22:24:08.922211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/reset_passwords/2000c1198b8ca20047a714764b1725a2/" for 127.0.0.1 at 2014-11-15 14:24:08 -0800
  [1m[36m (6.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (24.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:08.955346"], ["email", "test@email.com"], ["password_digest", "$2a$04$n1F73OdLFhvQOCzCYgynl.X/DfNdPA4L6LRPBxmb4r1afagkUo34S"], ["updated_at", "2014-11-15 22:24:08.955346"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7765e98f2e90436cb659cbdbb53a7660' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7765e98f2e90436cb659cbdbb53a7660"], ["reset_password_token_exp", "2014-11-16 06:24:08.986860"], ["updated_at", "2014-11-15 22:24:09.012324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords//" for 127.0.0.1 at 2014-11-15 14:24:09 -0800
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (9.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:09.054635"], ["email", "test@email.com"], ["password_digest", "$2a$04$ix.kNRcxKweCSEvbHfVz1ehh9bRHMNOsSAhMlA1Ee7RHIt9sBpabS"], ["updated_at", "2014-11-15 22:24:09.054635"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '903f681b7aec9aa804d5360e38a0da4c' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (3.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "903f681b7aec9aa804d5360e38a0da4c"], ["reset_password_token_exp", "2014-11-16 06:24:09.066443"], ["updated_at", "2014-11-15 22:24:09.093445"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords/96e6050b307297a8c329411a7930fc33/" for 127.0.0.1 at 2014-11-15 14:24:09 -0800
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:24:09.119651"], ["email", "test@email.com"], ["password_digest", "$2a$04$E7cR0S9NWrwxhudmA6HN7euE1sEMnD9/YIkcfVAZ7yI/oIupTnPHW"], ["updated_at", "2014-11-15 22:24:09.119651"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:24:09 -0800
  [1m[36m (11.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:09.152252"], ["email", "test@email.com"], ["password_digest", "$2a$04$Zn95HWXpWORW5P/fTY1.mOo.kJDS1RB9hK.Uwe1mgGe4vtW8Zds8a"], ["updated_at", "2014-11-15 22:24:09.152252"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:24:09 -0800
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (8.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:24:09.188238"], ["email", "test@email.com"], ["password_digest", "$2a$04$yaGQFPjRPxGWPVjVklNgn.8Vmtua5hQfLVTZm7eQejUnnRERM1sIi"], ["updated_at", "2014-11-15 22:24:09.188238"], ["username", "test"]]
  [1m[35m (8.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:24:09 -0800
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (6.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:09.247853"], ["email", "test@email.com"], ["password_digest", "$2a$04$zF9y0Ri8p8BFIwYg9MdeuecjoAcfVcCNKaHzvGRSWICgj8q0gBcD2"], ["updated_at", "2014-11-15 22:24:09.247853"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:24:09 -0800
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:24:49.537963"], ["email", "test@email.com"], ["password_digest", "$2a$04$Cbwg1mdnfnVE0LSv/Etz1uoDtwV.J/ZUOaHBP2Ul8B.XMVDuQ4rGq"], ["updated_at", "2014-11-15 22:24:49.537963"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '154eff5b36a4edab959a662b411c7330' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "154eff5b36a4edab959a662b411c7330"], ["reset_password_token_exp", "2014-11-16 06:24:49.555781"], ["updated_at", "2014-11-15 22:24:49.571847"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/reset_passwords/154eff5b36a4edab959a662b411c7330/" for 127.0.0.1 at 2014-11-15 14:24:49 -0800
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:49.610147"], ["email", "test@email.com"], ["password_digest", "$2a$04$.p8ixb1iByotNUqwovl.uuK604Ez67FxJKB2Ww1EkcsDOEmPy4b9C"], ["updated_at", "2014-11-15 22:24:49.610147"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '21863c603d51f3f54126f0555c5e2703' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "21863c603d51f3f54126f0555c5e2703"], ["reset_password_token_exp", "2014-11-16 06:24:49.616840"], ["updated_at", "2014-11-15 22:24:49.620724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords/21863c603d51f3f54126f0555c5e2703/" for 127.0.0.1 at 2014-11-15 14:24:49 -0800
  [1m[35m (7.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:24:49.653128"], ["email", "test@email.com"], ["password_digest", "$2a$04$aebvjNGShEgfybtBsOqLdOEPAiIasdq1L8Lo3Irj9M3fooexrLsd2"], ["updated_at", "2014-11-15 22:24:49.653128"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bb8946e4b0100685b4396bc28981599b' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "bb8946e4b0100685b4396bc28981599b"], ["reset_password_token_exp", "2014-11-16 06:24:49.658484"], ["updated_at", "2014-11-15 22:24:49.660395"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/reset_passwords/bb8946e4b0100685b4396bc28981599b/" for 127.0.0.1 at 2014-11-15 14:24:49 -0800
  [1m[36m (34.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:49.760520"], ["email", "test@email.com"], ["password_digest", "$2a$04$qiwCxAxULcovxz7TJpwaBu5UrrV94uxSrQn8aeroAz9I9o6JG1BCi"], ["updated_at", "2014-11-15 22:24:49.760520"], ["username", "test"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5ef620d3af16efb0bbd6b857f6ed2cd8' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "5ef620d3af16efb0bbd6b857f6ed2cd8"], ["reset_password_token_exp", "2014-11-16 06:24:49.770974"], ["updated_at", "2014-11-15 22:24:49.773206"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords//" for 127.0.0.1 at 2014-11-15 14:24:49 -0800
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (14.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:49.834818"], ["email", "test@email.com"], ["password_digest", "$2a$04$fXoN53I91mvj.8XvSpweGeLlQ6Ve5MkAruTGY.O6VDh903ZKcKKXi"], ["updated_at", "2014-11-15 22:24:49.834818"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b3f610a0fb8647801ef7a1abdf3c372b' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b3f610a0fb8647801ef7a1abdf3c372b"], ["reset_password_token_exp", "2014-11-16 06:24:49.837556"], ["updated_at", "2014-11-15 22:24:49.839593"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/reset_passwords/6dc7ff389ecf21b312c8614fffda1d9d/" for 127.0.0.1 at 2014-11-15 14:24:49 -0800
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (6.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:24:49.869419"], ["email", "test@email.com"], ["password_digest", "$2a$04$2xms1A3m7sW3fXqrjSETIOU/ggHznwDa.W7ngsVpzXQWaLVwRaEme"], ["updated_at", "2014-11-15 22:24:49.869419"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:24:49 -0800
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:49.938927"], ["email", "test@email.com"], ["password_digest", "$2a$04$6P0pzslpHwu1z0zhMuMAd.0fX2Iol/g6z0xw7M96taDFi3pYLtokG"], ["updated_at", "2014-11-15 22:24:49.938927"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:24:49 -0800
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:24:49.964781"], ["email", "test@email.com"], ["password_digest", "$2a$04$nahJVm1xWxsshqbfWN4Nj.9oKcyjBnXECsFEq5zUIQkobkiquCFpm"], ["updated_at", "2014-11-15 22:24:49.964781"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:24:49 -0800
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:24:49.999001"], ["email", "test@email.com"], ["password_digest", "$2a$04$UB/I0kpJ6EnKOZn.Dl/0WuybzIn/RtwiHNa4QxCnaCJWGCAsoCcAy"], ["updated_at", "2014-11-15 22:24:49.999001"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/reset_passwords/" for 127.0.0.1 at 2014-11-15 14:24:50 -0800
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:26:18.644983"], ["email", "test@email.com"], ["password_digest", "$2a$04$RVx5y2CNwgEsNnj2g5WUHu5mHFgQW/5yZwJKNU75nSAzrItoTpo.W"], ["updated_at", "2014-11-15 22:26:18.644983"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1c14bce5dcb1d96662239b46ee2a54ee' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "1c14bce5dcb1d96662239b46ee2a54ee"], ["reset_password_token_exp", "2014-11-16 06:26:18.664021"], ["updated_at", "2014-11-15 22:26:18.698203"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/1c14bce5dcb1d96662239b46ee2a54ee/" for 127.0.0.1 at 2014-11-15 14:26:18 -0800
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:26:18.743234"], ["email", "test@email.com"], ["password_digest", "$2a$04$LIEkreBNkbwJHH3WhLgOOelObtBu1v.eeYKvGrWPVKjzk.t33amjC"], ["updated_at", "2014-11-15 22:26:18.743234"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e28529b4d00ad55561f152a58c977c06' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e28529b4d00ad55561f152a58c977c06"], ["reset_password_token_exp", "2014-11-16 06:26:18.745454"], ["updated_at", "2014-11-15 22:26:18.748353"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/e28529b4d00ad55561f152a58c977c06/" for 127.0.0.1 at 2014-11-15 14:26:18 -0800
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (5.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:26:18.787100"], ["email", "test@email.com"], ["password_digest", "$2a$04$0vT/b4NMt5mtqZOo1Q1V.eIYViFMUuNcZhxmx6AuzZwTPTnA1Q3ke"], ["updated_at", "2014-11-15 22:26:18.787100"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (3.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8bdfea5de7cefa7d620643a3cfcd3fb8' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (18.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "8bdfea5de7cefa7d620643a3cfcd3fb8"], ["reset_password_token_exp", "2014-11-16 06:26:18.806148"], ["updated_at", "2014-11-15 22:26:18.851172"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/8bdfea5de7cefa7d620643a3cfcd3fb8/" for 127.0.0.1 at 2014-11-15 14:26:18 -0800
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:26:18.887039"], ["email", "test@email.com"], ["password_digest", "$2a$04$RY22B/X4po4i5zJHJFCID.zROeHRlHcZAeJeAf4gkzt4JlyATWMR6"], ["updated_at", "2014-11-15 22:26:18.887039"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9c22de86c643622bc166575ec9760b17' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9c22de86c643622bc166575ec9760b17"], ["reset_password_token_exp", "2014-11-16 06:26:18.889078"], ["updated_at", "2014-11-15 22:26:18.907695"]]
  [1m[36m (13.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:26:18 -0800
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (8.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:26:18.990713"], ["email", "test@email.com"], ["password_digest", "$2a$04$Qmb20qdJb/N6nZy6JuL4he9RZjKjZ93p6t72fy4K1F1cgSAx6ieYe"], ["updated_at", "2014-11-15 22:26:18.990713"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7dee9700c8d75baf920db660f8a49d24' LIMIT 1
  [1m[36m (4.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (4.2ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7dee9700c8d75baf920db660f8a49d24"], ["reset_password_token_exp", "2014-11-16 06:26:19.032560"], ["updated_at", "2014-11-15 22:26:19.042246"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/63f459b76157e0d2a99f0001a346cc8e/" for 127.0.0.1 at 2014-11-15 14:26:19 -0800
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:26:19.059098"], ["email", "test@email.com"], ["password_digest", "$2a$04$5LRxMelnBz4TEYWfIYGZhONgyw16qnoDD5Cmg50FkBy8L24cLOBNK"], ["updated_at", "2014-11-15 22:26:19.059098"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:26:19 -0800
  [1m[36m (2.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:26:19.118262"], ["email", "test@email.com"], ["password_digest", "$2a$04$WWeQANL/kCYABz.5PhwiCuC3hUE5TrT78pn49kUzM.O./5.4YWZT."], ["updated_at", "2014-11-15 22:26:19.118262"], ["username", "test"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:26:19 -0800
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:26:19.156393"], ["email", "test@email.com"], ["password_digest", "$2a$04$7iwvqOFczMxKjyu5lRXzdu75W0ar5Ex3kA0MWpMwAc292C8cv57tW"], ["updated_at", "2014-11-15 22:26:19.156393"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:26:19 -0800
  [1m[36m (14.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:26:19.193519"], ["email", "test@email.com"], ["password_digest", "$2a$04$aIzGrnbxQtHe40NPrDDWi.NpLClykqssnLFiSn3oUNshO7t3n9nlK"], ["updated_at", "2014-11-15 22:26:19.193519"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:26:19 -0800
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:29:49.815947"], ["email", "test@email.com"], ["password_digest", "$2a$04$eQTQjeL5.9o30bCJUNufDuv65nGncbEkOLCLmWAmQ0RGSS5hdJQXK"], ["updated_at", "2014-11-15 22:29:49.815947"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5608a3ca73f96845ad2d57fd7f0cbfb7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5608a3ca73f96845ad2d57fd7f0cbfb7"], ["reset_password_token_exp", "2014-11-16 06:29:49.831971"], ["updated_at", "2014-11-15 22:29:49.843867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/5608a3ca73f96845ad2d57fd7f0cbfb7/" for 127.0.0.1 at 2014-11-15 14:29:49 -0800
  [1m[36m (5.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:29:49.904847"], ["email", "test@email.com"], ["password_digest", "$2a$04$bXgrS2KRxbHAGlfr2hejBOS4beJ.PQw502N/quBolcyyr3E8PqCuC"], ["updated_at", "2014-11-15 22:29:49.904847"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '507efd011600564a20eb143451bcf8c1' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "507efd011600564a20eb143451bcf8c1"], ["reset_password_token_exp", "2014-11-16 06:29:49.913589"], ["updated_at", "2014-11-15 22:29:49.917975"]]
  [1m[36m (1.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/507efd011600564a20eb143451bcf8c1/" for 127.0.0.1 at 2014-11-15 14:29:49 -0800
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:29:49.980726"], ["email", "test@email.com"], ["password_digest", "$2a$04$.LNAfsGe6MVPPbG8lF3NrubQHLBFM8EoR39lrKao6FggPb4JHeNzK"], ["updated_at", "2014-11-15 22:29:49.980726"], ["username", "test"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (8.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0634ded60436db94b7e9901c2e7cd351' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0634ded60436db94b7e9901c2e7cd351"], ["reset_password_token_exp", "2014-11-16 06:29:49.996372"], ["updated_at", "2014-11-15 22:29:50.007847"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0634ded60436db94b7e9901c2e7cd351/" for 127.0.0.1 at 2014-11-15 14:29:50 -0800
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:29:50.029358"], ["email", "test@email.com"], ["password_digest", "$2a$04$Hrmuiy62zDeVqo7CtQWsj.vMAR9JUq9YxJPx8J3MjyH7ez41v4gvm"], ["updated_at", "2014-11-15 22:29:50.029358"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '684dc368acbb40e9c8660a0d42321ded' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "684dc368acbb40e9c8660a0d42321ded"], ["reset_password_token_exp", "2014-11-16 06:29:50.059867"], ["updated_at", "2014-11-15 22:29:50.073926"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:29:50 -0800
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:29:50.122907"], ["email", "test@email.com"], ["password_digest", "$2a$04$zI2DGLTlgOEJGvRYrjcOoumkwjsv0foZxOt6xi9EJ7rmHYrfKVdPK"], ["updated_at", "2014-11-15 22:29:50.122907"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd68fe954bf58a28621271bf1f80c1924' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "d68fe954bf58a28621271bf1f80c1924"], ["reset_password_token_exp", "2014-11-16 06:29:50.129061"], ["updated_at", "2014-11-15 22:29:50.135849"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/e7f253a4c2467980da47aba4b459bac2/" for 127.0.0.1 at 2014-11-15 14:29:50 -0800
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:29:50.154717"], ["email", "test@email.com"], ["password_digest", "$2a$04$t82aQysax8yna.2xNd9smudptSL3MhztJZkfw9pZ413vcRs5l4Gd2"], ["updated_at", "2014-11-15 22:29:50.154717"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:29:50 -0800
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:29:50.206047"], ["email", "test@email.com"], ["password_digest", "$2a$04$biRn4r1u.NJO7avn2v6/ye4AEx7tIWs8WlcHKpP3rvc7ZwXzr5qDe"], ["updated_at", "2014-11-15 22:29:50.206047"], ["username", "test"]]
  [1m[36m (5.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:29:50 -0800
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:29:50.275006"], ["email", "test@email.com"], ["password_digest", "$2a$04$hacyWST4ogTQUf.Sj/9Rm.BqbXgHvk3hIBwMmCoZnUKMIP6HDPo2i"], ["updated_at", "2014-11-15 22:29:50.275006"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:29:50 -0800
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.9ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:29:50.337524"], ["email", "test@email.com"], ["password_digest", "$2a$04$7iHyt3FO8tLGoa78n/1Bpeo2abBRFWfV0dDBC.Amt8b1rnaK5Hmyy"], ["updated_at", "2014-11-15 22:29:50.337524"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:29:50 -0800
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:31:28.640937"], ["email", "test@email.com"], ["password_digest", "$2a$04$tYUBkExxkW4r73Ggxizcker.AyUWA9M09e/6mNcbMm/DG8qeYzUX2"], ["updated_at", "2014-11-15 22:31:28.640937"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e5e45d3d8d6653ea25e62ebbaf753c64' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (5.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e5e45d3d8d6653ea25e62ebbaf753c64"], ["reset_password_token_exp", "2014-11-16 06:31:28.654628"], ["updated_at", "2014-11-15 22:31:28.665347"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e5e45d3d8d6653ea25e62ebbaf753c64/" for 127.0.0.1 at 2014-11-15 14:31:28 -0800
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:31:28.722402"], ["email", "test@email.com"], ["password_digest", "$2a$04$CNpfNpH9XFQSgvf6m6TRo.yzL6iB0v.nLsoK5S2EFqhv95i4e7t5a"], ["updated_at", "2014-11-15 22:31:28.722402"], ["username", "test"]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '107878523b24161a2354f44712977e60' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "107878523b24161a2354f44712977e60"], ["reset_password_token_exp", "2014-11-16 06:31:28.747904"], ["updated_at", "2014-11-15 22:31:28.782216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/107878523b24161a2354f44712977e60/" for 127.0.0.1 at 2014-11-15 14:31:28 -0800
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:31:28.815073"], ["email", "test@email.com"], ["password_digest", "$2a$04$BeSLpt8drSUZnkSzcH7/3eSXvJlaEleTer2.Rvp.nBX7OGbl0x3iC"], ["updated_at", "2014-11-15 22:31:28.815073"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e4c75a638b7c5adb695bd1d1431d9ca0' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e4c75a638b7c5adb695bd1d1431d9ca0"], ["reset_password_token_exp", "2014-11-16 06:31:28.826562"], ["updated_at", "2014-11-15 22:31:28.844724"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e4c75a638b7c5adb695bd1d1431d9ca0/" for 127.0.0.1 at 2014-11-15 14:31:28 -0800
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:31:28.872723"], ["email", "test@email.com"], ["password_digest", "$2a$04$Ujg8nrmigeR/xPVYuCqDEuMIeS3OizE99FLr2EVYztbfOEdPVzpbW"], ["updated_at", "2014-11-15 22:31:28.872723"], ["username", "test"]]
  [1m[36m (13.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'af74b4524c308bac7b61e3380e7e0943' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (6.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "af74b4524c308bac7b61e3380e7e0943"], ["reset_password_token_exp", "2014-11-16 06:31:28.934230"], ["updated_at", "2014-11-15 22:31:28.948730"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:31:28 -0800
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:31:28.979772"], ["email", "test@email.com"], ["password_digest", "$2a$04$5LdHy1Tup1Jz6O6ClhHSqObjZ2SpH1ZnSER5pn5kL2XGW5wMtaYP6"], ["updated_at", "2014-11-15 22:31:28.979772"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '27633e10e78f0a9c6d1ed57020623866' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "27633e10e78f0a9c6d1ed57020623866"], ["reset_password_token_exp", "2014-11-16 06:31:28.982028"], ["updated_at", "2014-11-15 22:31:28.994701"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/02acfb74b29f9ae59db48abc62e1d9b0/" for 127.0.0.1 at 2014-11-15 14:31:28 -0800
  [1m[35m (6.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:31:29.039115"], ["email", "test@email.com"], ["password_digest", "$2a$04$CanB/H8x7ExbJXl6XguVkujCqlAgvbD6xffxgdDYU5Vq1mhiQdMDO"], ["updated_at", "2014-11-15 22:31:29.039115"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:31:29 -0800
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:31:29.129165"], ["email", "test@email.com"], ["password_digest", "$2a$04$KAcZ3DSwhEi7mlEEWmD1b.eegXxxydzSYayrBVNSxho2TDvUbJv9S"], ["updated_at", "2014-11-15 22:31:29.129165"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:31:29 -0800
  [1m[35m (14.8ms)[0m  rollback transaction
  [1m[36m (3.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:31:29.242718"], ["email", "test@email.com"], ["password_digest", "$2a$04$pV9MPhYpPrIN7FjOdi7EyuGynEUw2JbPMHivNEqCsQprNxFy/tHwy"], ["updated_at", "2014-11-15 22:31:29.242718"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:31:29 -0800
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:31:29.264667"], ["email", "test@email.com"], ["password_digest", "$2a$04$.OKD81AhKBGxKOcmhsArgOmR7nhNJVDm97zz.nhtCUvoFXiT1lCpG"], ["updated_at", "2014-11-15 22:31:29.264667"], ["username", "test"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:31:29 -0800
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:32:06.081120"], ["email", "test@email.com"], ["password_digest", "$2a$04$d8aun9QDEj6ty/OjYnpc9e6EN2KJIekzHCGur/3CTR6dEoRuj72SW"], ["updated_at", "2014-11-15 22:32:06.081120"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4c35715cca7fc3e30e1899b60b43aac0' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "4c35715cca7fc3e30e1899b60b43aac0"], ["reset_password_token_exp", "2014-11-16 06:32:06.091980"], ["updated_at", "2014-11-15 22:32:06.100313"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/4c35715cca7fc3e30e1899b60b43aac0/" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[36m (8.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:06.198073"], ["email", "test@email.com"], ["password_digest", "$2a$04$3J1J8UpaV4zlVjCLp5OMFusPshECMwFhI9a9q1k86a/PpZzq4B8sS"], ["updated_at", "2014-11-15 22:32:06.198073"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'eee40ed2a0d855580faa4b7decfde431' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (8.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "eee40ed2a0d855580faa4b7decfde431"], ["reset_password_token_exp", "2014-11-16 06:32:06.208556"], ["updated_at", "2014-11-15 22:32:06.210992"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/eee40ed2a0d855580faa4b7decfde431/" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[35m (8.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:32:06.277589"], ["email", "test@email.com"], ["password_digest", "$2a$04$t2.464cyXbbVJqsEffxcEOQtE15YHDYWR.sZQxAqQ.dnwK1dGo8U."], ["updated_at", "2014-11-15 22:32:06.277589"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0e7fe9ffe32acdde4db15080ba0dc42b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (5.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0e7fe9ffe32acdde4db15080ba0dc42b"], ["reset_password_token_exp", "2014-11-16 06:32:06.280597"], ["updated_at", "2014-11-15 22:32:06.293626"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0e7fe9ffe32acdde4db15080ba0dc42b/" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (6.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:06.342351"], ["email", "test@email.com"], ["password_digest", "$2a$04$io2v7ZESUSLBZpu4UagjieYNPlXyrGiDuk8FAjBKB34Zzk68qDdGm"], ["updated_at", "2014-11-15 22:32:06.342351"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b2498866c7e5d84fb7c7db41ad47fc3c' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b2498866c7e5d84fb7c7db41ad47fc3c"], ["reset_password_token_exp", "2014-11-16 06:32:06.373014"], ["updated_at", "2014-11-15 22:32:06.389831"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (11.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:06.444120"], ["email", "test@email.com"], ["password_digest", "$2a$04$H6dBXvw0VJ7E.XGKlTSFy.Q2qYfwkFI1RHrzVsbIj7/YPhmN/Qoou"], ["updated_at", "2014-11-15 22:32:06.444120"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '11b76784d663a86f44b27422740c6f66' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "11b76784d663a86f44b27422740c6f66"], ["reset_password_token_exp", "2014-11-16 06:32:06.455954"], ["updated_at", "2014-11-15 22:32:06.461725"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/af98055a0333426d748010352b31e442/" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:32:06.511548"], ["email", "test@email.com"], ["password_digest", "$2a$04$agXwFvJn9Xsr8/ParYgyeeZzZCPA/uyi2I4El5MrUg.ZlyXd5lcu6"], ["updated_at", "2014-11-15 22:32:06.511548"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (12.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:06.540670"], ["email", "test@email.com"], ["password_digest", "$2a$04$vCf8AZjXdbiFYQqi/R2tPe71HJM6Smf6t51CDa7xJRx52YR0hhV0i"], ["updated_at", "2014-11-15 22:32:06.540670"], ["username", "test"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[35m (15.8ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:32:06.589350"], ["email", "test@email.com"], ["password_digest", "$2a$04$DcnU1Tbwe5rDOYxt30G.MuehAo7j3A1mQ.9Qb7XtELYRjk.wZmsja"], ["updated_at", "2014-11-15 22:32:06.589350"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (6.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:06.639778"], ["email", "test@email.com"], ["password_digest", "$2a$04$302GvbP6OQMsc3Bjdw5GpuPlFrFmeBJj11s2hnMWoxHcUIsGEJWf6"], ["updated_at", "2014-11-15 22:32:06.639778"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:32:06 -0800
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:32:35.643168"], ["email", "test@email.com"], ["password_digest", "$2a$04$7wDp0Tb1jxTmFRgqbn916OAlUdCcDEsRbFHXBLuJe3tiYWsn6/GC6"], ["updated_at", "2014-11-15 22:32:35.643168"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'cc48f736c78257cf62efd01d930664a9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (5.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "cc48f736c78257cf62efd01d930664a9"], ["reset_password_token_exp", "2014-11-16 06:32:35.657145"], ["updated_at", "2014-11-15 22:32:35.661742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/cc48f736c78257cf62efd01d930664a9/" for 127.0.0.1 at 2014-11-15 14:32:35 -0800
  [1m[36m (8.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:35.728761"], ["email", "test@email.com"], ["password_digest", "$2a$04$pTRVAkgBBmTYInzwfc67EeO.gxOfN.M6AyEomPtHeWuYYzK7HvURi"], ["updated_at", "2014-11-15 22:32:35.728761"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '87960f2e5ba90f77157d52247e99383a' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "87960f2e5ba90f77157d52247e99383a"], ["reset_password_token_exp", "2014-11-16 06:32:35.746115"], ["updated_at", "2014-11-15 22:32:35.757155"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/87960f2e5ba90f77157d52247e99383a/" for 127.0.0.1 at 2014-11-15 14:32:35 -0800
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:32:35.791569"], ["email", "test@email.com"], ["password_digest", "$2a$04$Nki4BTyNlmOnfR08uOSsLeLtgFZA/em/boWEFC6DuYUX/lya0v05a"], ["updated_at", "2014-11-15 22:32:35.791569"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5dc6a427a71256f81a399242e99aebe4' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5dc6a427a71256f81a399242e99aebe4"], ["reset_password_token_exp", "2014-11-16 06:32:35.793620"], ["updated_at", "2014-11-15 22:32:35.796142"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/5dc6a427a71256f81a399242e99aebe4/" for 127.0.0.1 at 2014-11-15 14:32:35 -0800
  [1m[36m (2.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:35.817861"], ["email", "test@email.com"], ["password_digest", "$2a$04$H86AaflC/gKlzORT0a1gM.WFZM6/m6wcQPWCtMnOlT4O7eL37B4HW"], ["updated_at", "2014-11-15 22:32:35.817861"], ["username", "test"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (5.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e5315d25cfb5d557c019be5c7ca667c8' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e5315d25cfb5d557c019be5c7ca667c8"], ["reset_password_token_exp", "2014-11-16 06:32:35.834458"], ["updated_at", "2014-11-15 22:32:35.863589"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:32:35 -0800
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (14.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (6.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:35.927049"], ["email", "test@email.com"], ["password_digest", "$2a$04$1sO.i1UqumKQUgqcUg4eb.frHUgR4mM1MKnj8sfncvxxzAdD/QXNi"], ["updated_at", "2014-11-15 22:32:35.927049"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e06a2e4748e9dded8bd95cf528ec5a98' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (5.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e06a2e4748e9dded8bd95cf528ec5a98"], ["reset_password_token_exp", "2014-11-16 06:32:35.930526"], ["updated_at", "2014-11-15 22:32:35.945386"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/10677ef7e8b326ea3e5355f8ade570ce/" for 127.0.0.1 at 2014-11-15 14:32:35 -0800
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (47.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:32:35.986181"], ["email", "test@email.com"], ["password_digest", "$2a$04$VLFPOupD8s4.9Yg2XXc4muN0j0l08UvmDIQqzI.vRCekBp/y7BVtG"], ["updated_at", "2014-11-15 22:32:35.986181"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:32:36 -0800
  [1m[36m (8.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:36.074390"], ["email", "test@email.com"], ["password_digest", "$2a$04$rGznngrojXulcyY7CrOu8OHZhBMvcfYr9UBNm/jc6BwVvkYm.rwyO"], ["updated_at", "2014-11-15 22:32:36.074390"], ["username", "test"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:32:36 -0800
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:32:36.104320"], ["email", "test@email.com"], ["password_digest", "$2a$04$58Y5iI6zaeKlcc8CwMp7yOfrRSI6kfCq7aH36ECcbpERpQPXplJAS"], ["updated_at", "2014-11-15 22:32:36.104320"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:32:36 -0800
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:32:36.124541"], ["email", "test@email.com"], ["password_digest", "$2a$04$mAq3QEbGzFDKoUgG6N6N6O1d6qccyHnVML9wWRMld4kRlvDEAqkOW"], ["updated_at", "2014-11-15 22:32:36.124541"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:32:36 -0800
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:33:16.622801"], ["email", "test@email.com"], ["password_digest", "$2a$04$4bTBqJIrWVVIXTlfxTtlKeEAq.lPNt8YXXAag2mRKuEHEig2SlTMu"], ["updated_at", "2014-11-15 22:33:16.622801"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1eefbef9c914988b3ba16087b826d2ae' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (7.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "1eefbef9c914988b3ba16087b826d2ae"], ["reset_password_token_exp", "2014-11-16 06:33:16.629040"], ["updated_at", "2014-11-15 22:33:16.631744"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/1eefbef9c914988b3ba16087b826d2ae/" for 127.0.0.1 at 2014-11-15 14:33:16 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"1eefbef9c914988b3ba16087b826d2ae"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (7.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:33:16.699201"], ["email", "test@email.com"], ["password_digest", "$2a$04$w7B37bHexm8AMoiY7epJ0ejgl4BWkVp/af2UyXVTopFk85R0523Je"], ["updated_at", "2014-11-15 22:33:16.699201"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ddc324c6e85390107b68771539726c84' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ddc324c6e85390107b68771539726c84"], ["reset_password_token_exp", "2014-11-16 06:33:16.707856"], ["updated_at", "2014-11-15 22:33:16.712460"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/ddc324c6e85390107b68771539726c84/" for 127.0.0.1 at 2014-11-15 14:33:16 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"ddc324c6e85390107b68771539726c84"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:33:16.739329"], ["email", "test@email.com"], ["password_digest", "$2a$04$NdLUqT3lb3/xVK00w7ehL.WVZ9Sa3ZswniqYjkMlfdCeJnVTTCwnu"], ["updated_at", "2014-11-15 22:33:16.739329"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd720bbe177d282e62ff43d70f7f99abf' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d720bbe177d282e62ff43d70f7f99abf"], ["reset_password_token_exp", "2014-11-16 06:33:16.749411"], ["updated_at", "2014-11-15 22:33:16.765524"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d720bbe177d282e62ff43d70f7f99abf/" for 127.0.0.1 at 2014-11-15 14:33:16 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"d720bbe177d282e62ff43d70f7f99abf"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:33:16.793573"], ["email", "test@email.com"], ["password_digest", "$2a$04$JF5Kb2k02408OLh7I45gOOn.J8BSaAnMK43Q4aNW1nxiH1hdL5yGS"], ["updated_at", "2014-11-15 22:33:16.793573"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fe9deb330ce3afdd457d47060565a0f7' LIMIT 1
  [1m[36m (1.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "fe9deb330ce3afdd457d47060565a0f7"], ["reset_password_token_exp", "2014-11-16 06:33:16.801503"], ["updated_at", "2014-11-15 22:33:16.847393"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:33:16 -0800
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (7.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:33:16.912021"], ["email", "test@email.com"], ["password_digest", "$2a$04$opcaps1e7XbDXnTaO8X8NOrCj7U.SO7baToh45eNyDUVIooHI99ii"], ["updated_at", "2014-11-15 22:33:16.912021"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e03139e93a07ef2d8eb9d3501be65b17' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e03139e93a07ef2d8eb9d3501be65b17"], ["reset_password_token_exp", "2014-11-16 06:33:16.914257"], ["updated_at", "2014-11-15 22:33:16.916623"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/cc1866abb8046a4bd39f15289165121c/" for 127.0.0.1 at 2014-11-15 14:33:16 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"cc1866abb8046a4bd39f15289165121c"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (38.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:33:16.978951"], ["email", "test@email.com"], ["password_digest", "$2a$04$XpwqmVWLcM23ywRT9JGrSunyRF0lErgaT7pHPRjDF8o1F9kHg1Tdu"], ["updated_at", "2014-11-15 22:33:16.978951"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:33:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '99d0753789fe76c064697fde053593e2' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "99d0753789fe76c064697fde053593e2"], ["reset_password_token_exp", "2014-11-16 06:33:17.031780"], ["updated_at", "2014-11-15 22:33:17.038836"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 26ms
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:33:17.056293"], ["email", "test@email.com"], ["password_digest", "$2a$04$A2HEQ.zb3FLlHcBPPcks8.Leo3Viy9.DRALgNSxIX0kNFN1dB1SL2"], ["updated_at", "2014-11-15 22:33:17.056293"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:33:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:33:17.086807"], ["email", "test@email.com"], ["password_digest", "$2a$04$ulD9jgg85YayJmiU//hFnOY.9j/6t0H7H/MBgxFAg7b8FANhAG45e"], ["updated_at", "2014-11-15 22:33:17.086807"], ["username", "test"]]
  [1m[35m (25.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:33:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'badc12b8582c983fd49f31a8cdb59f3a' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "badc12b8582c983fd49f31a8cdb59f3a"], ["reset_password_token_exp", "2014-11-16 06:33:17.134627"], ["updated_at", "2014-11-15 22:33:17.148873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 20ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:33:17.163077"], ["email", "test@email.com"], ["password_digest", "$2a$04$zOaCzc6RFUZsvgpFberUF.hhxSz04jpB3k4mBIRQ.ryL2CHCMdmuS"], ["updated_at", "2014-11-15 22:33:17.163077"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:33:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (2.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:56:47.342361"], ["email", "test@email.com"], ["password_digest", "$2a$04$LL.Au54nlvOeROxrzMLvj.IuB86S0ZMlPYhuCGVzaM1Fe3UOT8Tq."], ["updated_at", "2014-11-15 22:56:47.342361"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '27fbd4a74bf2dd37f44ef9980f8bc70a' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "27fbd4a74bf2dd37f44ef9980f8bc70a"], ["reset_password_token_exp", "2014-11-16 06:56:47.354938"], ["updated_at", "2014-11-15 22:56:47.363631"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/27fbd4a74bf2dd37f44ef9980f8bc70a/" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"27fbd4a74bf2dd37f44ef9980f8bc70a"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:56:47.399326"], ["email", "test@email.com"], ["password_digest", "$2a$04$q1rARFLKu8zcZ0ig/Wxlzu7rDfIsi9gClmpoqs6z/eZ.QGWTgbgHy"], ["updated_at", "2014-11-15 22:56:47.399326"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '209551303e272ad999a4ad30c3973a2b' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "209551303e272ad999a4ad30c3973a2b"], ["reset_password_token_exp", "2014-11-16 06:56:47.402844"], ["updated_at", "2014-11-15 22:56:47.404312"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/209551303e272ad999a4ad30c3973a2b/" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"209551303e272ad999a4ad30c3973a2b"}
Completed 500 Internal Server Error in 0ms
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:56:47.414588"], ["email", "test@email.com"], ["password_digest", "$2a$04$Givynptbru2syp35QxjWPu1cHlDXjzBtR12WYsFlWrARFcULeZg9W"], ["updated_at", "2014-11-15 22:56:47.414588"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ba4536999591440acb137c19032e24e4' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ba4536999591440acb137c19032e24e4"], ["reset_password_token_exp", "2014-11-16 06:56:47.418299"], ["updated_at", "2014-11-15 22:56:47.425983"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/ba4536999591440acb137c19032e24e4/" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"ba4536999591440acb137c19032e24e4"}
Completed 500 Internal Server Error in 0ms
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:56:47.438832"], ["email", "test@email.com"], ["password_digest", "$2a$04$A1w6oJTiT82c5ZqOlpNP3eDYixx0MedZJzhhxH9miiZ./E1.IelwW"], ["updated_at", "2014-11-15 22:56:47.438832"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8a957b363a3548a80e78138aa76aa9d0' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8a957b363a3548a80e78138aa76aa9d0"], ["reset_password_token_exp", "2014-11-16 06:56:47.440809"], ["updated_at", "2014-11-15 22:56:47.443216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:56:47.464609"], ["email", "test@email.com"], ["password_digest", "$2a$04$5aghp3ToE7625445yUnwOO7Goa9wOX3k3RPs4Hw49IqKOSx0Ua8pG"], ["updated_at", "2014-11-15 22:56:47.464609"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b84eaea9f938bd102c289c663e56378c' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b84eaea9f938bd102c289c663e56378c"], ["reset_password_token_exp", "2014-11-16 06:56:47.468736"], ["updated_at", "2014-11-15 22:56:47.473227"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/87ebf527b6ad6d9151480116d63a83a9/" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"87ebf527b6ad6d9151480116d63a83a9"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:56:47.486092"], ["email", "test@email.com"], ["password_digest", "$2a$04$O9iOSxi66WSkuT6l1zvDMuMR8nTtDhu4JMZrD2zNZumb1f9LRXhVa"], ["updated_at", "2014-11-15 22:56:47.486092"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6511cd6ce6d4766c88007f29b01bb921' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6511cd6ce6d4766c88007f29b01bb921"], ["reset_password_token_exp", "2014-11-16 06:56:47.503831"], ["updated_at", "2014-11-15 22:56:47.506158"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 21ms
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:56:47.521080"], ["email", "test@email.com"], ["password_digest", "$2a$04$.SR5MAWn3GqOKq2aV8rUvexR3k5qlUl8p6iG1d4w3HUxBkc3TnDjy"], ["updated_at", "2014-11-15 22:56:47.521080"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
Completed 500 Internal Server Error in 4ms
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:56:47.546383"], ["email", "test@email.com"], ["password_digest", "$2a$04$kF/VVHlYKPT6U6EcJ/LBTusEns2afNP9ZunTpcAsgdWLfVdqOPS1a"], ["updated_at", "2014-11-15 22:56:47.546383"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c6ab91c04172ee270922cf76247e4e35' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c6ab91c04172ee270922cf76247e4e35"], ["reset_password_token_exp", "2014-11-16 06:56:47.551347"], ["updated_at", "2014-11-15 22:56:47.555120"]]
  [1m[36m (1.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 10ms
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:56:47.567520"], ["email", "test@email.com"], ["password_digest", "$2a$04$qm9Lq.d0l/7JTTiu6hyYd.WSMcy/QLxAybRN6KKpeuyHmMgol13PC"], ["updated_at", "2014-11-15 22:56:47.567520"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:56:47 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:26.221500"], ["email", "test@email.com"], ["password_digest", "$2a$04$OJ0gxGTW0rJqCIFBf7wRu.yBL9KollPZ1HP4rs87.Dw.KL7PDgdEW"], ["updated_at", "2014-11-15 22:59:26.221500"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7325649aab6a22a4f451f9b2c88b5722' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (4.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7325649aab6a22a4f451f9b2c88b5722"], ["reset_password_token_exp", "2014-11-16 06:59:26.229651"], ["updated_at", "2014-11-15 22:59:26.231789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7325649aab6a22a4f451f9b2c88b5722/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7325649aab6a22a4f451f9b2c88b5722"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7325649aab6a22a4f451f9b2c88b5722' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$9zddpP2Nlth79X0miHT7J.GKG/pHtUu.DSBTWuUZn1DWmKQq4Zd5."], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 22:59:26.271401"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 27ms (Views: 13.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:26.294344"], ["email", "test@email.com"], ["password_digest", "$2a$04$jpRgKeKB6NcCojj1jwi74OjvSlaxFJ8TFosX2sFRpAkpOmsyEOr0C"], ["updated_at", "2014-11-15 22:59:26.294344"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5abb51d24aaf66c1c5cf16ae0cdb6848' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5abb51d24aaf66c1c5cf16ae0cdb6848"], ["reset_password_token_exp", "2014-11-16 06:59:26.296019"], ["updated_at", "2014-11-15 22:59:26.297174"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/5abb51d24aaf66c1c5cf16ae0cdb6848/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"5abb51d24aaf66c1c5cf16ae0cdb6848"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5abb51d24aaf66c1c5cf16ae0cdb6848' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$h1buZkPPhdxCh5trg6KXbOPxUcczv2LNLODJwrYWozQecW.XK2aHu"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 22:59:26.310481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 10ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/5abb51d24aaf66c1c5cf16ae0cdb6848/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"5abb51d24aaf66c1c5cf16ae0cdb6848"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5abb51d24aaf66c1c5cf16ae0cdb6848' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:59:26.322797"], ["email", "test@email.com"], ["password_digest", "$2a$04$7ebjb7Q5VV.4XM4sNVBFoe7kZFtjjrozYoJkYU.s7v/0az1WNliG6"], ["updated_at", "2014-11-15 22:59:26.322797"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5d23e9c31be3cc8ddb49d9b96be29647' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "5d23e9c31be3cc8ddb49d9b96be29647"], ["reset_password_token_exp", "2014-11-16 06:59:26.324235"], ["updated_at", "2014-11-15 22:59:26.325213"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/5d23e9c31be3cc8ddb49d9b96be29647/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"5d23e9c31be3cc8ddb49d9b96be29647"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5d23e9c31be3cc8ddb49d9b96be29647' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 17ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:26.355205"], ["email", "test@email.com"], ["password_digest", "$2a$04$VQ7tGgcrbINeXjce/MuQI.GrG/J8EUGpNncNA/Z9/OpVaUfqbCigK"], ["updated_at", "2014-11-15 22:59:26.355205"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2666acd1bc59fb334d69136e6812300c' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2666acd1bc59fb334d69136e6812300c"], ["reset_password_token_exp", "2014-11-16 06:59:26.357152"], ["updated_at", "2014-11-15 22:59:26.359732"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:26.369075"], ["email", "test@email.com"], ["password_digest", "$2a$04$wCX9CPA4CU7/BS5108FV8.jMjvnuULA9VCzp/UJDkQJxboeMu9zwS"], ["updated_at", "2014-11-15 22:59:26.369075"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6c40483e800758d30abd4773fb8848dc' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6c40483e800758d30abd4773fb8848dc"], ["reset_password_token_exp", "2014-11-16 06:59:26.376614"], ["updated_at", "2014-11-15 22:59:26.380799"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/81348a3af25f7bd95963dc0f8ef23734/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"81348a3af25f7bd95963dc0f8ef23734"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '81348a3af25f7bd95963dc0f8ef23734' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:26.393119"], ["email", "test@email.com"], ["password_digest", "$2a$04$HsQQC9Hrk1cHygb0IsGqNOKNj7m26/JtYZ5GFNX3YY91P1bxP/G5a"], ["updated_at", "2014-11-15 22:59:26.393119"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2d051e16044e42f9cb3f080ebf0e3c29' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "2d051e16044e42f9cb3f080ebf0e3c29"], ["reset_password_token_exp", "2014-11-16 06:59:26.396822"], ["updated_at", "2014-11-15 22:59:26.399031"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 13ms
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:26.421725"], ["email", "test@email.com"], ["password_digest", "$2a$04$a5f.r3lbdfk1zZ5obiuXvuLF.PMEgMao9G83GOHF8dF8WK2XilPZi"], ["updated_at", "2014-11-15 22:59:26.421725"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:26.431377"], ["email", "test@email.com"], ["password_digest", "$2a$04$3/fyRldO1Gu8z29JSxrope/0cMOXC2r7a73RpFRfixnZ.DtAzAhZu"], ["updated_at", "2014-11-15 22:59:26.431377"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ce211cfd562bb74e06c2593245e7e0af' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ce211cfd562bb74e06c2593245e7e0af"], ["reset_password_token_exp", "2014-11-16 06:59:26.435568"], ["updated_at", "2014-11-15 22:59:26.443423"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:26.455330"], ["email", "test@email.com"], ["password_digest", "$2a$04$RUzFfjIo7k1ABs1MTW4erOAp/CmTqfFf9xqBVZf/EMCIql3pfjJ3e"], ["updated_at", "2014-11-15 22:59:26.455330"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:59:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:57.125391"], ["email", "test@email.com"], ["password_digest", "$2a$04$VC2sNAMSSYHSO7O4XXCVpOzJI5HvgIrzv.Ma5d/MptKVNr5GJ0PbS"], ["updated_at", "2014-11-15 22:59:57.125391"], ["username", "test"]]
  [1m[35m (2.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '160d07cef4536b107bf9ef1162bd3296' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "160d07cef4536b107bf9ef1162bd3296"], ["reset_password_token_exp", "2014-11-16 06:59:57.138881"], ["updated_at", "2014-11-15 22:59:57.143319"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/160d07cef4536b107bf9ef1162bd3296/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"160d07cef4536b107bf9ef1162bd3296"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '160d07cef4536b107bf9ef1162bd3296' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$jZuixNrQVJdAWDeBNpRKa.tClRRtucswEbYBGrBgrpU9TGRROw15a"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 22:59:57.181341"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 3.9ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (11.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:57.210270"], ["email", "test@email.com"], ["password_digest", "$2a$04$catLemXBJjG8kbyxAH8RkeAgE35sEylqBaCmcJ3G/dwUIfw3eg.c6"], ["updated_at", "2014-11-15 22:59:57.210270"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '802f7546fc988c7701712d34e2150389' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "802f7546fc988c7701712d34e2150389"], ["reset_password_token_exp", "2014-11-16 06:59:57.212882"], ["updated_at", "2014-11-15 22:59:57.214479"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/802f7546fc988c7701712d34e2150389/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"802f7546fc988c7701712d34e2150389"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '802f7546fc988c7701712d34e2150389' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$K.2Ybi1m910OLlJLI/Qfl.zOu2IMPHfE2ZXXoGoAJauoE4mwv04pi"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 22:59:57.222367"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 6ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/802f7546fc988c7701712d34e2150389/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"802f7546fc988c7701712d34e2150389"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '802f7546fc988c7701712d34e2150389' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 22:59:57.234811"], ["email", "test@email.com"], ["password_digest", "$2a$04$ieTQ9vk7iZzi6XSeML.nDuCK34P0RhhJKCwsxLnu3WtUBRiOrTNyG"], ["updated_at", "2014-11-15 22:59:57.234811"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e84888d1220e67bdc3ccaec897eba47f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e84888d1220e67bdc3ccaec897eba47f"], ["reset_password_token_exp", "2014-11-16 06:59:57.241402"], ["updated_at", "2014-11-15 22:59:57.244264"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/e84888d1220e67bdc3ccaec897eba47f/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"e84888d1220e67bdc3ccaec897eba47f"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e84888d1220e67bdc3ccaec897eba47f' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 23ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:57.275269"], ["email", "test@email.com"], ["password_digest", "$2a$04$g4hN.Ec68ii8DsNMbWvGgOP7pTLEtY0LM2GC.O29s97Gk7VOq7mjy"], ["updated_at", "2014-11-15 22:59:57.275269"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a1c1483655ca555dd98f84ca2ee33765' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a1c1483655ca555dd98f84ca2ee33765"], ["reset_password_token_exp", "2014-11-16 06:59:57.277460"], ["updated_at", "2014-11-15 22:59:57.279794"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:57.290462"], ["email", "test@email.com"], ["password_digest", "$2a$04$CZKvyc2ljHescgcHJaP60OkLvvsG7C3yeDl5oJ63Pusg8lV8BwxMu"], ["updated_at", "2014-11-15 22:59:57.290462"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '745a7bcede60309f8ef4c39c9e2948d6' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "745a7bcede60309f8ef4c39c9e2948d6"], ["reset_password_token_exp", "2014-11-16 06:59:57.292206"], ["updated_at", "2014-11-15 22:59:57.293236"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/735e2ab3f466e37e32f87d973ef3c838/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"735e2ab3f466e37e32f87d973ef3c838"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '735e2ab3f466e37e32f87d973ef3c838' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:57.312090"], ["email", "test@email.com"], ["password_digest", "$2a$04$P0AGW2F42TIlvOIamv5ZE.5K/zoFAbA7HLNxQJZfcHloLbv8MwOUi"], ["updated_at", "2014-11-15 22:59:57.312090"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bb87fa703fcf9ccec4d139e396cad378' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bb87fa703fcf9ccec4d139e396cad378"], ["reset_password_token_exp", "2014-11-16 06:59:57.318580"], ["updated_at", "2014-11-15 22:59:57.320415"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 0.5ms
Completed 500 Internal Server Error in 10ms
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:57.341913"], ["email", "test@email.com"], ["password_digest", "$2a$04$fLx6mvMv7sutjDjq7nEil.wZGtRBEs2D7BDfLGZQdLsdi4BvquBHO"], ["updated_at", "2014-11-15 22:59:57.341913"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.8ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 321.3ms

Sent mail to foo@bar.com (13.9ms)
Date: Sat, 15 Nov 2014 14:59:57 -0800
To: foo@bar.com
Message-ID: <5467daeda5b63_14c63fc78dc63bf03688a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467daeda280e_14c63fc78dc63bf03673b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467daeda280e_14c63fc78dc63bf03673b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467daeda280e_14c63fc78dc63bf03673b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467daeda280e_14c63fc78dc63bf03673b--

Completed 500 Internal Server Error in 337ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:57.688273"], ["email", "test@email.com"], ["password_digest", "$2a$04$8n/OS9t5UVyPPy6ezYHmxO8FyNBA/nhidImoVdpbO9IMYSomcTfXq"], ["updated_at", "2014-11-15 22:59:57.688273"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '02556dff86247935da059bbbec8969c4' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "02556dff86247935da059bbbec8969c4"], ["reset_password_token_exp", "2014-11-16 06:59:57.698153"], ["updated_at", "2014-11-15 22:59:57.701879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 0.6ms
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 22:59:57.712537"], ["email", "test@email.com"], ["password_digest", "$2a$04$bfK/zES/i8zg4cP9rKXH/ubBbODX0WyqQFzMk8ozMdmiAJDDnjw7m"], ["updated_at", "2014-11-15 22:59:57.712537"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 14:59:57 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 1.9ms

Sent mail to foo@bar.com (2.3ms)
Date: Sat, 15 Nov 2014 14:59:57 -0800
To: foo@bar.com
Message-ID: <5467daedaf8cb_14c63fc78dc63bf0370ac@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467daedaf315_14c63fc78dc63bf036984";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467daedaf315_14c63fc78dc63bf036984
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467daedaf315_14c63fc78dc63bf036984
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467daedaf315_14c63fc78dc63bf036984--

Completed 500 Internal Server Error in 6ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:00:17.049526"], ["email", "test@email.com"], ["password_digest", "$2a$04$JUWE8pNYEAVPywlz9vEyiuJ1OqHctR4DAJr8DF7Qy6J5TuBadjDEu"], ["updated_at", "2014-11-15 23:00:17.049526"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f2d3e53cfd0264326f1e695e43d22a73' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "f2d3e53cfd0264326f1e695e43d22a73"], ["reset_password_token_exp", "2014-11-16 07:00:17.059312"], ["updated_at", "2014-11-15 23:00:17.063398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/f2d3e53cfd0264326f1e695e43d22a73/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"f2d3e53cfd0264326f1e695e43d22a73"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'f2d3e53cfd0264326f1e695e43d22a73' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$zV1Nan1iIxQRRhAycmpzYeKz68szyJOHV51hP6xglE25PwrLaoc2m"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:00:17.097498"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 18ms (Views: 8.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:00:17.117902"], ["email", "test@email.com"], ["password_digest", "$2a$04$YPXpMvVdEiuxfRpYNcuUue81ExSVjKgeRT/QbwgKeD2EnDgJWj5i6"], ["updated_at", "2014-11-15 23:00:17.117902"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1261ea162f925c71f687e4c964b72df5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "1261ea162f925c71f687e4c964b72df5"], ["reset_password_token_exp", "2014-11-16 07:00:17.120837"], ["updated_at", "2014-11-15 23:00:17.123197"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/1261ea162f925c71f687e4c964b72df5/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"1261ea162f925c71f687e4c964b72df5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '1261ea162f925c71f687e4c964b72df5' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$yq9TeMbVYoPFlwM.L2TQD.4adxgIFX3.Q3/V24XqjKo78Ozf84XQq"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:00:17.129421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 6ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/1261ea162f925c71f687e4c964b72df5/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"1261ea162f925c71f687e4c964b72df5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '1261ea162f925c71f687e4c964b72df5' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:00:17.146214"], ["email", "test@email.com"], ["password_digest", "$2a$04$uY6l7CIs.2gmBV9j0CVZoOLsqMN9k7gbjmq1gdM8Drvaiu1t6ylcK"], ["updated_at", "2014-11-15 23:00:17.146214"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4222e32a13dec4f9cf4d06cc89835bf5' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (3.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "4222e32a13dec4f9cf4d06cc89835bf5"], ["reset_password_token_exp", "2014-11-16 07:00:17.148295"], ["updated_at", "2014-11-15 23:00:17.154789"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/4222e32a13dec4f9cf4d06cc89835bf5/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"4222e32a13dec4f9cf4d06cc89835bf5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '4222e32a13dec4f9cf4d06cc89835bf5' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 17ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:00:17.192105"], ["email", "test@email.com"], ["password_digest", "$2a$04$TGudfTGtYofIkg3rPpW3qu0l.WE2bMw82398Ryg.AnESM8bH1QGLq"], ["updated_at", "2014-11-15 23:00:17.192105"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c82245655fec4c6eca4d7edd3dce914f' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c82245655fec4c6eca4d7edd3dce914f"], ["reset_password_token_exp", "2014-11-16 07:00:17.196272"], ["updated_at", "2014-11-15 23:00:17.197821"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:00:17.207658"], ["email", "test@email.com"], ["password_digest", "$2a$04$7G5fjKa/kdFaYJIOxPGep.9L/F06bgA64OvAJ5FTfhqisLwI.PaAC"], ["updated_at", "2014-11-15 23:00:17.207658"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd5f7ad2316c61ec0f6859a3c86c9e7e3' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d5f7ad2316c61ec0f6859a3c86c9e7e3"], ["reset_password_token_exp", "2014-11-16 07:00:17.209254"], ["updated_at", "2014-11-15 23:00:17.213203"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/635cecdcfb95a9fc21200d6694539ddf/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"635cecdcfb95a9fc21200d6694539ddf"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '635cecdcfb95a9fc21200d6694539ddf' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 4ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:00:17.236299"], ["email", "test@email.com"], ["password_digest", "$2a$04$jsOQ69QmETLohiVyTTIiAOXSYpM1EvV9ZTB6/gsa5abVu1a6uIZYS"], ["updated_at", "2014-11-15 23:00:17.236299"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '84e430579a3efff14be219988ca581c7' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "84e430579a3efff14be219988ca581c7"], ["reset_password_token_exp", "2014-11-16 07:00:17.242443"], ["updated_at", "2014-11-15 23:00:17.244149"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 308.2ms

Sent mail to test@email.com (9.9ms)
Date: Sat, 15 Nov 2014 15:00:17 -0800
To: test@email.com
Message-ID: <5467db018b937_14e23ffbd1865be8659a4@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467db0189aac_14e23ffbd1865be8658aa";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467db0189aac_14e23ffbd1865be8658aa
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/84e430579a3efff14be219988ca581c7/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467db0189aac_14e23ffbd1865be8658aa
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/84e430579a3efff14be219988ca581c7/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467db0189aac_14e23ffbd1865be8658aa--

Completed 500 Internal Server Error in 336ms
  [1m[35m (8.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:00:17.590289"], ["email", "test@email.com"], ["password_digest", "$2a$04$ojBeHkN6W3P3llD8RcL4CO52ERa8.tF9uWti9wdDBtCjsmdgusI3O"], ["updated_at", "2014-11-15 23:00:17.590289"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.0ms

Sent mail to foo@bar.com (1.6ms)
Date: Sat, 15 Nov 2014 15:00:17 -0800
To: foo@bar.com
Message-ID: <5467db0192f9a_14e23ffbd1865be866139@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467db019282d_14e23ffbd1865be866085";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467db019282d_14e23ffbd1865be866085
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467db019282d_14e23ffbd1865be866085
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467db019282d_14e23ffbd1865be866085--

Completed 500 Internal Server Error in 10ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:00:17.607971"], ["email", "test@email.com"], ["password_digest", "$2a$04$UqTAiOrvleVlttdO.PIN/OkKhOQHr6H4OvIiWHhZCBfuFldOHB.Me"], ["updated_at", "2014-11-15 23:00:17.607971"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fab6aa36305e7ebdb8d818585532b750' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "fab6aa36305e7ebdb8d818585532b750"], ["reset_password_token_exp", "2014-11-16 07:00:17.614107"], ["updated_at", "2014-11-15 23:00:17.621114"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 4.1ms

Sent mail to test@email.com (2.7ms)
Date: Sat, 15 Nov 2014 15:00:17 -0800
To: test@email.com
Message-ID: <5467db019a41e_14e23ffbd1865be86631d@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467db01997a7_14e23ffbd1865be8662df";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467db01997a7_14e23ffbd1865be8662df
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/fab6aa36305e7ebdb8d818585532b750/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467db01997a7_14e23ffbd1865be8662df
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/fab6aa36305e7ebdb8d818585532b750/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467db01997a7_14e23ffbd1865be8662df--

Completed 500 Internal Server Error in 23ms
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:00:17.640841"], ["email", "test@email.com"], ["password_digest", "$2a$04$frVrsfxgzhuw.sKGmGghb.e4yimcCjl3VhXvTGDqYFZeBfJPaSoky"], ["updated_at", "2014-11-15 23:00:17.640841"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:00:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 16.5ms

Sent mail to foo@bar.com (2.9ms)
Date: Sat, 15 Nov 2014 15:00:17 -0800
To: foo@bar.com
Message-ID: <5467db01a1ad1_14e23ffbd1865be8665ac@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467db019dfe4_14e23ffbd1865be8664ec";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467db019dfe4_14e23ffbd1865be8664ec
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467db019dfe4_14e23ffbd1865be8664ec
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467db019dfe4_14e23ffbd1865be8664ec--

Completed 500 Internal Server Error in 21ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:05:58.156601"], ["email", "test@email.com"], ["password_digest", "$2a$04$fU0qHRoaVPpEoenOvMDpv.q298sy/Q30A.DAayb.NyC5qERKDZSgG"], ["updated_at", "2014-11-15 23:05:58.156601"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '98abb6f744c77b007c1f2544f7581e8b' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "98abb6f744c77b007c1f2544f7581e8b"], ["reset_password_token_exp", "2014-11-16 07:05:58.165935"], ["updated_at", "2014-11-15 23:05:58.168589"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/98abb6f744c77b007c1f2544f7581e8b/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"98abb6f744c77b007c1f2544f7581e8b"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '98abb6f744c77b007c1f2544f7581e8b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$/ahih32AIxJBRWAB9fA/q.2QlVW63BSqnGfpvQy0Ttqq4ZqUyiozi"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:05:58.236808"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 33ms (Views: 11.7ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:05:58.262605"], ["email", "test@email.com"], ["password_digest", "$2a$04$jUw4FC/X8nbm4qoGAA1.yOzMHB2VvSzOXTTx6IUTLEeP3SR4DN9H2"], ["updated_at", "2014-11-15 23:05:58.262605"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd2d3ca5da26149a10696bbb3515dba9c' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d2d3ca5da26149a10696bbb3515dba9c"], ["reset_password_token_exp", "2014-11-16 07:05:58.271001"], ["updated_at", "2014-11-15 23:05:58.275568"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d2d3ca5da26149a10696bbb3515dba9c/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d2d3ca5da26149a10696bbb3515dba9c"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd2d3ca5da26149a10696bbb3515dba9c' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$t2NVsPdHp5HUenPPxSyh7OKlkdkOQpde4ogw22YFR9THPh/jPCv.e"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:05:58.288945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 12ms (Views: 0.3ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/d2d3ca5da26149a10696bbb3515dba9c/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d2d3ca5da26149a10696bbb3515dba9c"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd2d3ca5da26149a10696bbb3515dba9c' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:05:58.301278"], ["email", "test@email.com"], ["password_digest", "$2a$04$eIds.9bWMsrrwbKsHiT9QO2eYxQTYM3My0h3n621ayKRANrOUcmyK"], ["updated_at", "2014-11-15 23:05:58.301278"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8b55e0fc486c3bf44dd33775fc6cd50b' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8b55e0fc486c3bf44dd33775fc6cd50b"], ["reset_password_token_exp", "2014-11-16 07:05:58.302802"], ["updated_at", "2014-11-15 23:05:58.309638"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/8b55e0fc486c3bf44dd33775fc6cd50b/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"8b55e0fc486c3bf44dd33775fc6cd50b"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8b55e0fc486c3bf44dd33775fc6cd50b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 22ms (Views: 0.9ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:05:58.351046"], ["email", "test@email.com"], ["password_digest", "$2a$04$7V7g2CbYENZhmI7zap7tcu.9UFXvJonjNvC5z3BoTQ69aitXOk/Om"], ["updated_at", "2014-11-15 23:05:58.351046"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6797685b173e689ad74fd35b8fa6cef0' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6797685b173e689ad74fd35b8fa6cef0"], ["reset_password_token_exp", "2014-11-16 07:05:58.352505"], ["updated_at", "2014-11-15 23:05:58.355411"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:05:58.371382"], ["email", "test@email.com"], ["password_digest", "$2a$04$T6.kzUhTCvS3xHJ4idt4CuNOaebbBHOj2Yeuad12.EHyX5HhD8IMu"], ["updated_at", "2014-11-15 23:05:58.371382"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ba577c074aae607f7fdfaa7f2f7837be' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ba577c074aae607f7fdfaa7f2f7837be"], ["reset_password_token_exp", "2014-11-16 07:05:58.378694"], ["updated_at", "2014-11-15 23:05:58.381424"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/cb84043ccc0a60681445b6676a4e7e50/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"cb84043ccc0a60681445b6676a4e7e50"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'cb84043ccc0a60681445b6676a4e7e50' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:05:58.395620"], ["email", "test@email.com"], ["password_digest", "$2a$04$oTpHGY.zfepaZVtzaiZGN.SnwOk/gOxJptW2F6KWV/F93BR0Q/Yre"], ["updated_at", "2014-11-15 23:05:58.395620"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9090b9a13b1c9a6b481d5fc2a33718c7' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9090b9a13b1c9a6b481d5fc2a33718c7"], ["reset_password_token_exp", "2014-11-16 07:05:58.407816"], ["updated_at", "2014-11-15 23:05:58.412591"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 389.3ms

Sent mail to test@email.com (17.5ms)
Date: Sat, 15 Nov 2014 15:05:58 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467dc56c86c5_156a3fef11c65be832827@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467dc56c4e3f_156a3fef11c65be8327b4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467dc56c4e3f_156a3fef11c65be8327b4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/9090b9a13b1c9a6b481d5fc2a33718c7/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467dc56c4e3f_156a3fef11c65be8327b4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/9090b9a13b1c9a6b481d5fc2a33718c7/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467dc56c4e3f_156a3fef11c65be8327b4--

  Rendered text template (0.0ms)
Completed 204 No Content in 432ms (Views: 0.4ms | ActiveRecord: 2.1ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:05:58.841975"], ["email", "test@email.com"], ["password_digest", "$2a$04$2kIL0BfJqoxPcJJ/s8CSduLe/041EkT1FAuT3oc5pska2CvhuYKOW"], ["updated_at", "2014-11-15 23:05:58.841975"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 9.2ms

Sent mail to foo@bar.com (3.3ms)
Date: Sat, 15 Nov 2014 15:05:58 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467dc56d18ed_156a3fef11c65be8330c5@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467dc56d0dd4_156a3fef11c65be832937";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467dc56d0dd4_156a3fef11c65be832937
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467dc56d0dd4_156a3fef11c65be832937
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467dc56d0dd4_156a3fef11c65be832937--

  Rendered text template (0.0ms)
Completed 204 No Content in 14ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:05:58.873716"], ["email", "test@email.com"], ["password_digest", "$2a$04$3arRHk6/lB2ALLZGrPY3l.XAZnMSbtbggn.eDRLtCAoUWab8g77hC"], ["updated_at", "2014-11-15 23:05:58.873716"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a29accd5039afc098663c6c934cef7e3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a29accd5039afc098663c6c934cef7e3"], ["reset_password_token_exp", "2014-11-16 07:05:58.882113"], ["updated_at", "2014-11-15 23:05:58.885120"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 4.3ms

Sent mail to test@email.com (21.7ms)
Date: Sat, 15 Nov 2014 15:05:58 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467dc56da534_156a3fef11c65be833216@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467dc56d92dd_156a3fef11c65be833130";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467dc56d92dd_156a3fef11c65be833130
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/a29accd5039afc098663c6c934cef7e3/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467dc56d92dd_156a3fef11c65be833130
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/a29accd5039afc098663c6c934cef7e3/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467dc56d92dd_156a3fef11c65be833130--

  Rendered text template (0.0ms)
Completed 204 No Content in 34ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:05:58.919344"], ["email", "test@email.com"], ["password_digest", "$2a$04$OXL5NL97D14bXuPsDNE.yOrlgpzT9uGGoe94W6hdIQ3XK2FxXnXia"], ["updated_at", "2014-11-15 23:05:58.919344"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:05:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.6ms

Sent mail to foo@bar.com (3.0ms)
Date: Sat, 15 Nov 2014 15:05:58 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467dc56e28c0_156a3fef11c65be83346d@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467dc56e21c5_156a3fef11c65be83334c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467dc56e21c5_156a3fef11c65be83334c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467dc56e21c5_156a3fef11c65be83334c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467dc56e21c5_156a3fef11c65be83334c--

  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:27.584119"], ["email", "test@email.com"], ["password_digest", "$2a$04$B1nFVCHF2k1PUdxHbWTChuzR6vwsjcRJe1tDKqa31T.koCRfNxO92"], ["updated_at", "2014-11-15 23:17:27.584119"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f4d524eb91ffbed41e6b600b51a6b7c2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "f4d524eb91ffbed41e6b600b51a6b7c2"], ["reset_password_token_exp", "2014-11-16 07:17:27.602557"], ["updated_at", "2014-11-15 23:17:27.625252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/f4d524eb91ffbed41e6b600b51a6b7c2/" for 127.0.0.1 at 2014-11-15 15:17:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"f4d524eb91ffbed41e6b600b51a6b7c2"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'f4d524eb91ffbed41e6b600b51a6b7c2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$aTGW7waIpJ2i.uyDQMa75ewnuurnvSQ0Pg/OCGIPzZrwxGL5GLFCu"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:17:27.687939"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 26ms (Views: 12.0ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:27.714692"], ["email", "test@email.com"], ["password_digest", "$2a$04$wBCeY/sSO9Om8a/0V30O.eGm/v98eeJoKeTtPbo9Ru1.B.pWtwTGm"], ["updated_at", "2014-11-15 23:17:27.714692"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '91dad50e84073f99bdce35cda442e01b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (7.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "91dad50e84073f99bdce35cda442e01b"], ["reset_password_token_exp", "2014-11-16 07:17:27.719160"], ["updated_at", "2014-11-15 23:17:27.727128"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/91dad50e84073f99bdce35cda442e01b/" for 127.0.0.1 at 2014-11-15 15:17:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"91dad50e84073f99bdce35cda442e01b"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '91dad50e84073f99bdce35cda442e01b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$5ovBloUDAwFghnHFwIvKrOGkkBPUWhoQ/g066i49fkZnGQOKvddSC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:17:27.777287"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (1.8ms)
Completed 204 No Content in 32ms (Views: 2.5ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/91dad50e84073f99bdce35cda442e01b/" for 127.0.0.1 at 2014-11-15 15:17:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"91dad50e84073f99bdce35cda442e01b"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '91dad50e84073f99bdce35cda442e01b' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:17:27.792188"], ["email", "test@email.com"], ["password_digest", "$2a$04$SM7TJS6k4zgjEA.oazizL.bxgaiASjLkGW7G9gMAcfGPsWBi5m/Xm"], ["updated_at", "2014-11-15 23:17:27.792188"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (8.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '026c250894da1c2c90199571012ff073' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "026c250894da1c2c90199571012ff073"], ["reset_password_token_exp", "2014-11-16 07:17:27.827567"], ["updated_at", "2014-11-15 23:17:27.852827"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/026c250894da1c2c90199571012ff073/" for 127.0.0.1 at 2014-11-15 15:17:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"026c250894da1c2c90199571012ff073"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '026c250894da1c2c90199571012ff073' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 32ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:27.907070"], ["email", "test@email.com"], ["password_digest", "$2a$04$0kgCXqMUp19kefuMcibi/.hrhJ73lTsuXwb/jTdDlhqrYT9vhF.Q6"], ["updated_at", "2014-11-15 23:17:27.907070"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7bb84e6c6428e6a12aa7ca8007040d74' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7bb84e6c6428e6a12aa7ca8007040d74"], ["reset_password_token_exp", "2014-11-16 07:17:27.922434"], ["updated_at", "2014-11-15 23:17:27.925021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:17:27 -0800
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:28.010951"], ["email", "test@email.com"], ["password_digest", "$2a$04$T0znLWglEf7.Gl.4f9gHUesvt75hDe/8rdUtEeCduJFIwWgK3W6xy"], ["updated_at", "2014-11-15 23:17:28.010951"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '28ccec7b1e324581f2cb0bee69bfe112' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "28ccec7b1e324581f2cb0bee69bfe112"], ["reset_password_token_exp", "2014-11-16 07:17:28.018092"], ["updated_at", "2014-11-15 23:17:28.022443"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/dbc5689f4acd2a9cb855545a08f86add/" for 127.0.0.1 at 2014-11-15 15:17:28 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"dbc5689f4acd2a9cb855545a08f86add"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dbc5689f4acd2a9cb855545a08f86add' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 7ms (Views: 1.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:28.061978"], ["email", "test@email.com"], ["password_digest", "$2a$04$Wo6dEE14AuWvNFwynxSmK.CkqL/dyWzCbdJx9DlZnDy/C4b6B/x3G"], ["updated_at", "2014-11-15 23:17:28.061978"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:17:28 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8c61de1f4a412823bb49f3fa29646e34' LIMIT 1
  [1m[36m (2.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (8.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (3.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8c61de1f4a412823bb49f3fa29646e34"], ["reset_password_token_exp", "2014-11-16 07:17:28.080428"], ["updated_at", "2014-11-15 23:17:28.116775"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 364.5ms

Sent mail to test@email.com (11.3ms)
Date: Sat, 15 Nov 2014 15:17:28 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df087baa5_15fd3fe91904fbf468869@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df0879871_15fd3fe91904fbf4687d6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df0879871_15fd3fe91904fbf4687d6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/8c61de1f4a412823bb49f3fa29646e34/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df0879871_15fd3fe91904fbf4687d6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/8c61de1f4a412823bb49f3fa29646e34/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df0879871_15fd3fe91904fbf4687d6--

  Rendered text template (0.0ms)
Completed 204 No Content in 447ms (Views: 0.4ms | ActiveRecord: 15.3ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:28.517228"], ["email", "test@email.com"], ["password_digest", "$2a$04$9SKN56NLwmVpyaosTGqBgeWTiRe66UXR8yPJ7gh8e9IF.PXCOUo56"], ["updated_at", "2014-11-15 23:17:28.517228"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:17:28 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (3.9ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 37.8ms

Sent mail to foo@bar.com (9.6ms)
Date: Sat, 15 Nov 2014 15:17:28 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df088be2c_15fd3fe91904fbf4690d2@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df088b31f_15fd3fe91904fbf4689ef";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df088b31f_15fd3fe91904fbf4689ef
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df088b31f_15fd3fe91904fbf4689ef
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df088b31f_15fd3fe91904fbf4689ef--

  Rendered text template (0.0ms)
Completed 204 No Content in 61ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:28.592126"], ["email", "test@email.com"], ["password_digest", "$2a$04$ucDG6dkWcAnGI2pNcigZn.6ITq4fqaV58Pkjwaj9/20qXJcLyvPvm"], ["updated_at", "2014-11-15 23:17:28.592126"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:17:28 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b989360fc423137b00e2252087bfdc97' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b989360fc423137b00e2252087bfdc97"], ["reset_password_token_exp", "2014-11-16 07:17:28.601865"], ["updated_at", "2014-11-15 23:17:28.609011"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 7.5ms

Sent mail to test@email.com (47.9ms)
Date: Sat, 15 Nov 2014 15:17:28 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df089b6e8_15fd3fe91904fbf469243@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df0896599_15fd3fe91904fbf469151";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df0896599_15fd3fe91904fbf469151
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/b989360fc423137b00e2252087bfdc97/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df0896599_15fd3fe91904fbf469151
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/b989360fc423137b00e2252087bfdc97/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df0896599_15fd3fe91904fbf469151--

  Rendered text template (0.0ms)
Completed 204 No Content in 76ms (Views: 0.3ms | ActiveRecord: 3.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:28.677775"], ["email", "test@email.com"], ["password_digest", "$2a$04$15YnZ0sTG9WHDCmBIkgmqOLI8V3o/wTfu0uoXVU8fJIWr6IHaFX8W"], ["updated_at", "2014-11-15 23:17:28.677775"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:17:28 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 4.3ms

Sent mail to foo@bar.com (4.9ms)
Date: Sat, 15 Nov 2014 15:17:28 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df08b7568_15fd3fe91904fbf4694b9@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df08b6288_15fd3fe91904fbf4693da";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df08b6288_15fd3fe91904fbf4693da
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df08b6288_15fd3fe91904fbf4693da
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df08b6288_15fd3fe91904fbf4693da--

  Rendered text template (3.6ms)
Completed 204 No Content in 16ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (8.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:28.799487"], ["email", "test@email.com"], ["password_digest", "$2a$04$MbowBuMo3esCEV5.Ayh6teb/jaPDlJRGtHsCa55R5saIRnp1hwUiW"], ["updated_at", "2014-11-15 23:17:28.799487"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:17:28 -0800
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:55.874386"], ["email", "test@email.com"], ["password_digest", "$2a$04$wzISVODcHI2A9TB6EAFSBO.T4E2T5DccX79sl3bG.CEVrbzHuvPdK"], ["updated_at", "2014-11-15 23:17:55.874386"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1ef9f10f842ff3be45fb2921708bcec8' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "1ef9f10f842ff3be45fb2921708bcec8"], ["reset_password_token_exp", "2014-11-16 07:17:55.882535"], ["updated_at", "2014-11-15 23:17:55.885210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/1ef9f10f842ff3be45fb2921708bcec8/" for 127.0.0.1 at 2014-11-15 15:17:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"1ef9f10f842ff3be45fb2921708bcec8"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '1ef9f10f842ff3be45fb2921708bcec8' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$RmDWbeIMd7LAC0y2opWAQ.Dn0XohcUo/w6SoX1CkNCKf8wtehaJf2"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:17:55.930518"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 22ms (Views: 11.2ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:56.000384"], ["email", "test@email.com"], ["password_digest", "$2a$04$PO9t4kdHVzmqR3oLyHivnucaXDXqrKcEaQo5ZSze0gzOffDvByzP2"], ["updated_at", "2014-11-15 23:17:56.000384"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e3237a4475a8649be0668cbd626cc345' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e3237a4475a8649be0668cbd626cc345"], ["reset_password_token_exp", "2014-11-16 07:17:56.014741"], ["updated_at", "2014-11-15 23:17:56.017790"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e3237a4475a8649be0668cbd626cc345/" for 127.0.0.1 at 2014-11-15 15:17:56 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e3237a4475a8649be0668cbd626cc345"}
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e3237a4475a8649be0668cbd626cc345' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$yynOX1NIAr0a9V1aZ98TaePLQS0S7IBrWU47JJCnPSiAwT7UaoBVm"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:17:56.050551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 14ms (Views: 0.9ms | ActiveRecord: 2.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/e3237a4475a8649be0668cbd626cc345/" for 127.0.0.1 at 2014-11-15 15:17:56 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e3237a4475a8649be0668cbd626cc345"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e3237a4475a8649be0668cbd626cc345' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 7ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[36m (11.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:17:56.087413"], ["email", "test@email.com"], ["password_digest", "$2a$04$EopQm84DnH.BZPC2zkH9uuRcIXPDuccd4CEr1/JcqvsX10Sl3PiI2"], ["updated_at", "2014-11-15 23:17:56.087413"], ["username", "test"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fc256a4c08c7ff0f0cd832210fcc31cd' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "fc256a4c08c7ff0f0cd832210fcc31cd"], ["reset_password_token_exp", "2014-11-16 07:17:56.108510"], ["updated_at", "2014-11-15 23:17:56.113236"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/fc256a4c08c7ff0f0cd832210fcc31cd/" for 127.0.0.1 at 2014-11-15 15:17:56 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"fc256a4c08c7ff0f0cd832210fcc31cd"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'fc256a4c08c7ff0f0cd832210fcc31cd' LIMIT 1
  [1m[36m (3.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (4.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 50ms (Views: 1.8ms | ActiveRecord: 8.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (9.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:56.205564"], ["email", "test@email.com"], ["password_digest", "$2a$04$TqelfC87VvGty0ZtM2PjvulBoO0ZFmRnCyp5f3ebrEGFsGzkfGXPG"], ["updated_at", "2014-11-15 23:17:56.205564"], ["username", "test"]]
  [1m[35m (1.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '548a8af1fc72aaec2bd6b27617158cd2' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "548a8af1fc72aaec2bd6b27617158cd2"], ["reset_password_token_exp", "2014-11-16 07:17:56.214356"], ["updated_at", "2014-11-15 23:17:56.226453"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:17:56 -0800
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (3.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:56.282446"], ["email", "test@email.com"], ["password_digest", "$2a$04$Q5cfMAQfmsJcs6lGdkwekeWC/tOJK63VQoSCdgmBkDe98Kox5h5WC"], ["updated_at", "2014-11-15 23:17:56.282446"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e920c4d6364f9a99c1eb472886b080c2' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e920c4d6364f9a99c1eb472886b080c2"], ["reset_password_token_exp", "2014-11-16 07:17:56.315471"], ["updated_at", "2014-11-15 23:17:56.337885"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/f27768264173bbd888746ed82a9b323f/" for 127.0.0.1 at 2014-11-15 15:17:56 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"f27768264173bbd888746ed82a9b323f"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'f27768264173bbd888746ed82a9b323f' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (3.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:56.381729"], ["email", "test@email.com"], ["password_digest", "$2a$04$ytCecBUKADgPy6eJjPO8pu9DfI37GI5yFU4krjzo03Og94u7NeWNO"], ["updated_at", "2014-11-15 23:17:56.381729"], ["username", "test"]]
  [1m[35m (19.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:17:56 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3e459d7176ab53f7f6b7f40cccdd3c0f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3e459d7176ab53f7f6b7f40cccdd3c0f"], ["reset_password_token_exp", "2014-11-16 07:17:56.422167"], ["updated_at", "2014-11-15 23:17:56.444695"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 330.6ms

Sent mail to test@email.com (6.7ms)
Date: Sat, 15 Nov 2014 15:17:56 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df24c01b1_161a3fced6463be44247a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df24bef3b_161a3fced6463be4423dd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df24bef3b_161a3fced6463be4423dd
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/3e459d7176ab53f7f6b7f40cccdd3c0f/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df24bef3b_161a3fced6463be4423dd
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/3e459d7176ab53f7f6b7f40cccdd3c0f/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df24bef3b_161a3fced6463be4423dd--

  Rendered text template (0.0ms)
Completed 204 No Content in 383ms (Views: 1.3ms | ActiveRecord: 2.4ms)
  [1m[35m (9.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:56.809917"], ["email", "test@email.com"], ["password_digest", "$2a$04$cNDIESKJzyT/eok/Hzf4T.2srcfUJuxbBIr0Edh.LUUFUQhXWLFaW"], ["updated_at", "2014-11-15 23:17:56.809917"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:17:56 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (5.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (6.6ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 33.1ms

Sent mail to foo@bar.com (10.4ms)
Date: Sat, 15 Nov 2014 15:17:56 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df24d087f_161a3fced6463be4426a9@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df24cef8c_161a3fced6463be442542";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df24cef8c_161a3fced6463be442542
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df24cef8c_161a3fced6463be442542
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df24cef8c_161a3fced6463be442542--

  Rendered text template (0.0ms)
Completed 204 No Content in 46ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (11.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:56.899588"], ["email", "test@email.com"], ["password_digest", "$2a$04$/NwagbNgzrf3SP4stHPnF.ALSzBDorAVTN34uIx1S0eHCMZU4LIfK"], ["updated_at", "2014-11-15 23:17:56.899588"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:17:56 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '458ac2d1a7f2e45658aec3c0fc864cd4' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "458ac2d1a7f2e45658aec3c0fc864cd4"], ["reset_password_token_exp", "2014-11-16 07:17:56.915058"], ["updated_at", "2014-11-15 23:17:56.916835"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 26.8ms

Sent mail to test@email.com (42.2ms)
Date: Sat, 15 Nov 2014 15:17:56 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df24e8a80_161a3fced6463be4428e8@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df24e2023_161a3fced6463be442727";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df24e2023_161a3fced6463be442727
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/458ac2d1a7f2e45658aec3c0fc864cd4/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df24e2023_161a3fced6463be442727
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/458ac2d1a7f2e45658aec3c0fc864cd4/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df24e2023_161a3fced6463be442727--

  Rendered text template (0.0ms)
Completed 204 No Content in 84ms (Views: 1.0ms | ActiveRecord: 1.1ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (19.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:57.014786"], ["email", "test@email.com"], ["password_digest", "$2a$04$Uw2tIAZTb6JzskKSTd70MOWSbM6Xs9yxqyDZ06vvHMu6qUrAsEGC6"], ["updated_at", "2014-11-15 23:17:57.014786"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:17:57 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.9ms

Sent mail to foo@bar.com (8.3ms)
Date: Sat, 15 Nov 2014 15:17:57 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df25103c6_161a3fced6463be4430a9@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df25f81f_161a3fced6463be4429a8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df25f81f_161a3fced6463be4429a8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df25f81f_161a3fced6463be4429a8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df25f81f_161a3fced6463be4429a8--

  Rendered text template (0.0ms)
Completed 204 No Content in 26ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (5.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (13.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:17:57.127521"], ["email", "test@email.com"], ["password_digest", "$2a$04$Fg1OwT.O7Zh3nVh39zRFneg2uL09eGTksQnBBYvZju2ct2Z7U7qw2"], ["updated_at", "2014-11-15 23:17:57.127521"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:17:57 -0800
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:18.798553"], ["email", "test@email.com"], ["password_digest", "$2a$04$r2wev/l3YuvHEee2L8v4/OgBj.QsdXibw8eHo.kevoLxEeYJb1.na"], ["updated_at", "2014-11-15 23:18:18.798553"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a083b303f20d4ce0d4eaf0e77d1ff1a6' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a083b303f20d4ce0d4eaf0e77d1ff1a6"], ["reset_password_token_exp", "2014-11-16 07:18:18.857466"], ["updated_at", "2014-11-15 23:18:18.861515"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a083b303f20d4ce0d4eaf0e77d1ff1a6/" for 127.0.0.1 at 2014-11-15 15:18:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a083b303f20d4ce0d4eaf0e77d1ff1a6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a083b303f20d4ce0d4eaf0e77d1ff1a6' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$hInb6IV/Tp2EtZD3A.7kIOOfbvfvzNnRLctUa9sRruD99ylBAaf4u"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:18:18.907837"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 23ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:18.932455"], ["email", "test@email.com"], ["password_digest", "$2a$04$VqSJMSK1HP0e9DlL/mAe8ev.UaCe1bzdsmQGHlwLKaJwzA5KdTy0O"], ["updated_at", "2014-11-15 23:18:18.932455"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b1dd39c4d191fb776fada5a7736f79c3' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "b1dd39c4d191fb776fada5a7736f79c3"], ["reset_password_token_exp", "2014-11-16 07:18:18.944986"], ["updated_at", "2014-11-15 23:18:18.962063"]]
  [1m[35m (4.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/b1dd39c4d191fb776fada5a7736f79c3/" for 127.0.0.1 at 2014-11-15 15:18:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b1dd39c4d191fb776fada5a7736f79c3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b1dd39c4d191fb776fada5a7736f79c3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$AlMAKNp0nJIFEYRrq/8XR.Gq/AjePtvizxM6x5uBiyjA3LWDxeh5m"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:18:18.984563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/b1dd39c4d191fb776fada5a7736f79c3/" for 127.0.0.1 at 2014-11-15 15:18:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b1dd39c4d191fb776fada5a7736f79c3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b1dd39c4d191fb776fada5a7736f79c3' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:18:18.998803"], ["email", "test@email.com"], ["password_digest", "$2a$04$iRvJNo2nziEjVwNLWDMdDOoNJtHSbWqt9LES7wes2PVesbHmMb4b."], ["updated_at", "2014-11-15 23:18:18.998803"], ["username", "test"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '167f4ddbda9f665987334bcd660cbe7f' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (3.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "167f4ddbda9f665987334bcd660cbe7f"], ["reset_password_token_exp", "2014-11-16 07:18:19.010774"], ["updated_at", "2014-11-15 23:18:19.018469"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/167f4ddbda9f665987334bcd660cbe7f/" for 127.0.0.1 at 2014-11-15 15:18:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"167f4ddbda9f665987334bcd660cbe7f"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '167f4ddbda9f665987334bcd660cbe7f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 26ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (2.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:19.114930"], ["email", "test@email.com"], ["password_digest", "$2a$04$9tj7WVyd0GsTMs1qjzrP6ePFpW.2eXtORc.wW0Y1tyJgpdg7w5VpO"], ["updated_at", "2014-11-15 23:18:19.114930"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd6c8e9e0939705320de4ac94ebf1d120' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d6c8e9e0939705320de4ac94ebf1d120"], ["reset_password_token_exp", "2014-11-16 07:18:19.117630"], ["updated_at", "2014-11-15 23:18:19.124623"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:18:19 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:19.190706"], ["email", "test@email.com"], ["password_digest", "$2a$04$S1GdJW631pHmBFoU8gejLeqnP/3lO2Ot5T6f/NbOd6g4lHF53OfOK"], ["updated_at", "2014-11-15 23:18:19.190706"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7cfb746b4a60d0fcc286c68385cab044' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7cfb746b4a60d0fcc286c68385cab044"], ["reset_password_token_exp", "2014-11-16 07:18:19.197236"], ["updated_at", "2014-11-15 23:18:19.201565"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/9cad41c5c35218e163b07a361a7e5d8a/" for 127.0.0.1 at 2014-11-15 15:18:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9cad41c5c35218e163b07a361a7e5d8a"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9cad41c5c35218e163b07a361a7e5d8a' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (10.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:19.276994"], ["email", "test@email.com"], ["password_digest", "$2a$04$13qh00fvQGORyzTLJ4gcMeRfRWnzKzoQCoraKbK9elNsLL6qqJqaS"], ["updated_at", "2014-11-15 23:18:19.276994"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:18:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bd2ddd5ba5356ed6935a4218cee16129' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bd2ddd5ba5356ed6935a4218cee16129"], ["reset_password_token_exp", "2014-11-16 07:18:19.300565"], ["updated_at", "2014-11-15 23:18:19.313932"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (5.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 326.8ms

Sent mail to test@email.com (6.3ms)
Date: Sat, 15 Nov 2014 15:18:19 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df3b9eb94_16363ffb0e057be095936@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df3b9dc95_16363ffb0e057be09583e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df3b9dc95_16363ffb0e057be09583e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/bd2ddd5ba5356ed6935a4218cee16129/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df3b9dc95_16363ffb0e057be09583e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/bd2ddd5ba5356ed6935a4218cee16129/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df3b9dc95_16363ffb0e057be09583e--

  Rendered text template (0.0ms)
Completed 204 No Content in 371ms (Views: 0.4ms | ActiveRecord: 1.9ms)
  [1m[35m (7.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:19.675591"], ["email", "test@email.com"], ["password_digest", "$2a$04$IP5PIfgI/CidbJ6Kd19iu.LphrCGtZlvBOgMrbV4DgP1PW2HX.Xxy"], ["updated_at", "2014-11-15 23:18:19.675591"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:18:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 28.7ms

Sent mail to foo@bar.com (8.5ms)
Date: Sat, 15 Nov 2014 15:18:19 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df3bb042d_16363ffb0e057be096181@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df3bae2aa_16363ffb0e057be0960e8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df3bae2aa_16363ffb0e057be0960e8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df3bae2aa_16363ffb0e057be0960e8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df3bae2aa_16363ffb0e057be0960e8--

  Rendered text template (0.0ms)
Completed 204 No Content in 40ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:19.734027"], ["email", "test@email.com"], ["password_digest", "$2a$04$5JqzOa3MUMdfuOMyG0M7Mu4jnUhsSAEas/Xg3JgUhLCr6c1jBcnT2"], ["updated_at", "2014-11-15 23:18:19.734027"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:18:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4746f6cf055383008a044206cecb9e54' LIMIT 1
  [1m[36m (5.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (2.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "4746f6cf055383008a044206cecb9e54"], ["reset_password_token_exp", "2014-11-16 07:18:19.739380"], ["updated_at", "2014-11-15 23:18:19.760791"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.3ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 18.8ms

Sent mail to test@email.com (30.5ms)
Date: Sat, 15 Nov 2014 15:18:19 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df3bc1567_16363ffb0e057be096359@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df3bbffe7_16363ffb0e057be096216";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df3bbffe7_16363ffb0e057be096216
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/4746f6cf055383008a044206cecb9e54/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df3bbffe7_16363ffb0e057be096216
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/4746f6cf055383008a044206cecb9e54/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df3bbffe7_16363ffb0e057be096216--

  Rendered text template (0.0ms)
Completed 204 No Content in 84ms (Views: 1.1ms | ActiveRecord: 10.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:19.829972"], ["email", "test@email.com"], ["password_digest", "$2a$04$.izUqGdsC/JboZnwmsfM3.K6i9DDcADhHzUaCKa3x8gFJni/2PeRa"], ["updated_at", "2014-11-15 23:18:19.829972"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:18:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 5.9ms

Sent mail to foo@bar.com (6.0ms)
Date: Sat, 15 Nov 2014 15:18:19 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df3bd4105_16363ffb0e057be09658b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df3bd346e_16363ffb0e057be09641f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df3bd346e_16363ffb0e057be09641f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df3bd346e_16363ffb0e057be09641f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df3bd346e_16363ffb0e057be09641f--

  Rendered text template (0.0ms)
Completed 204 No Content in 41ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:19.900010"], ["email", "test@email.com"], ["password_digest", "$2a$04$XTNN3GaYEtWdztbyX24xsendkWIiZvKnt4ZFZE7h/Pb007mHRKdRa"], ["updated_at", "2014-11-15 23:18:19.900010"], ["username", "test"]]
  [1m[35m (5.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:18:19 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 10ms
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:54.902196"], ["email", "test@email.com"], ["password_digest", "$2a$04$CX4233mKLO3OGgPTJoIfIe4PsqoBFSW24GZEmZbFRIvJ14tWCH.jq"], ["updated_at", "2014-11-15 23:18:54.902196"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '25a11925d5c1339225ba4b96cb819234' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "25a11925d5c1339225ba4b96cb819234"], ["reset_password_token_exp", "2014-11-16 07:18:54.909989"], ["updated_at", "2014-11-15 23:18:54.912667"]]
  [1m[35m (1.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/25a11925d5c1339225ba4b96cb819234/" for 127.0.0.1 at 2014-11-15 15:18:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"25a11925d5c1339225ba4b96cb819234"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '25a11925d5c1339225ba4b96cb819234' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$LPccyqgTKqsDbWMEPQq2VuvK0A7bU8iWVSUBtNJxj6DQrIMG7v0tG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:18:54.991030"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 27ms (Views: 11.7ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:55.024449"], ["email", "test@email.com"], ["password_digest", "$2a$04$lzOZFBVt23qTK/LxIMzRJ.GAHcw4kzTkjKPbqT0dVIVyOUtKcVgmu"], ["updated_at", "2014-11-15 23:18:55.024449"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9a3d59472f9698ad7e574a3a2542140c' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (6.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "9a3d59472f9698ad7e574a3a2542140c"], ["reset_password_token_exp", "2014-11-16 07:18:55.026408"], ["updated_at", "2014-11-15 23:18:55.054870"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/9a3d59472f9698ad7e574a3a2542140c/" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9a3d59472f9698ad7e574a3a2542140c"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9a3d59472f9698ad7e574a3a2542140c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$E2U8g78aUJcewcUPEqhA3uYc4DX0smeSGvDQh2hsBZDGg9gr3wn6O"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:18:55.088767"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 9ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/9a3d59472f9698ad7e574a3a2542140c/" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9a3d59472f9698ad7e574a3a2542140c"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9a3d59472f9698ad7e574a3a2542140c' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:18:55.114804"], ["email", "test@email.com"], ["password_digest", "$2a$04$mgrZ66fTW.jMaFW.jwN86e9/ENkhF3F1394/ZtbkMjPAjXC10HpTe"], ["updated_at", "2014-11-15 23:18:55.114804"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (12.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'badf5123589fa0fa661130eb1e72a542' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "badf5123589fa0fa661130eb1e72a542"], ["reset_password_token_exp", "2014-11-16 07:18:55.134096"], ["updated_at", "2014-11-15 23:18:55.150101"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/badf5123589fa0fa661130eb1e72a542/" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"badf5123589fa0fa661130eb1e72a542"}
  [1m[35mUser Load (8.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'badf5123589fa0fa661130eb1e72a542' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 29ms (Views: 0.3ms | ActiveRecord: 9.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (35.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:55.221064"], ["email", "test@email.com"], ["password_digest", "$2a$04$y9xI7sD.uRy28vmR9y45gOzlRRXsJQDGP1jO1nEQ4d4BnOqXH38mG"], ["updated_at", "2014-11-15 23:18:55.221064"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5aaa30066588c374d7b27501135dffa1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5aaa30066588c374d7b27501135dffa1"], ["reset_password_token_exp", "2014-11-16 07:18:55.265265"], ["updated_at", "2014-11-15 23:18:55.282495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (14.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:55.314941"], ["email", "test@email.com"], ["password_digest", "$2a$04$jwqv8jQvM4.hKm4BRDiLkum5mDWAJE3YCL61kbcGa/VrCj9UcNXjO"], ["updated_at", "2014-11-15 23:18:55.314941"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7ddb800535d51800a89fffbfc3d7ca13' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (6.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7ddb800535d51800a89fffbfc3d7ca13"], ["reset_password_token_exp", "2014-11-16 07:18:55.328645"], ["updated_at", "2014-11-15 23:18:55.344698"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/55eb968d86d7647d439ea55d6b131239/" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"55eb968d86d7647d439ea55d6b131239"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '55eb968d86d7647d439ea55d6b131239' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 5ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:55.388188"], ["email", "test@email.com"], ["password_digest", "$2a$04$5XlvI59NUbYBxYygCHRwRescZUd8NzElu6H.YGBa6lQ5aEGteOfy2"], ["updated_at", "2014-11-15 23:18:55.388188"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9b7d8a713c33efa15488a7f6b5ad1ffa' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9b7d8a713c33efa15488a7f6b5ad1ffa"], ["reset_password_token_exp", "2014-11-16 07:18:55.428448"], ["updated_at", "2014-11-15 23:18:55.430895"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (5.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 352.4ms

Sent mail to test@email.com (18.9ms)
Date: Sat, 15 Nov 2014 15:18:55 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df5fc49fe_16533fdb84c05bf835988@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df5fc299b_16533fdb84c05bf8358b0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df5fc299b_16533fdb84c05bf8358b0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/9b7d8a713c33efa15488a7f6b5ad1ffa/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df5fc299b_16533fdb84c05bf8358b0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/9b7d8a713c33efa15488a7f6b5ad1ffa/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df5fc299b_16533fdb84c05bf8358b0--

  Rendered text template (0.0ms)
Completed 204 No Content in 403ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (7.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:55.839995"], ["email", "test@email.com"], ["password_digest", "$2a$04$lTaAuendxb64cl204qUkdOwhVq9B0Ko6nZeImu7mc81.p4TBL1yZq"], ["updated_at", "2014-11-15 23:18:55.839995"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (3.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 44.5ms

Sent mail to foo@bar.com (5.9ms)
Date: Sat, 15 Nov 2014 15:18:55 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df5fdbbb7_16533fdb84c05bf8361f8@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df5fda77a_16533fdb84c05bf836046";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df5fda77a_16533fdb84c05bf836046
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df5fda77a_16533fdb84c05bf836046
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df5fda77a_16533fdb84c05bf836046--

  Rendered text template (0.0ms)
Completed 204 No Content in 54ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:55.911606"], ["email", "test@email.com"], ["password_digest", "$2a$04$doOmwhPHSGE.Ydlh4MMrX.G15muFLthiVXwKFwmfrA7lSz21PJ/Si"], ["updated_at", "2014-11-15 23:18:55.911606"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2ae98c79bee30261ebb1c1f5d3ef1e74' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "2ae98c79bee30261ebb1c1f5d3ef1e74"], ["reset_password_token_exp", "2014-11-16 07:18:55.920459"], ["updated_at", "2014-11-15 23:18:55.932918"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 8.7ms

Sent mail to test@email.com (32.9ms)
Date: Sat, 15 Nov 2014 15:18:55 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df5feb26f_16533fdb84c05bf8363ab@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df5fe7a06_16533fdb84c05bf8362e6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df5fe7a06_16533fdb84c05bf8362e6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/2ae98c79bee30261ebb1c1f5d3ef1e74/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df5fe7a06_16533fdb84c05bf8362e6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/2ae98c79bee30261ebb1c1f5d3ef1e74/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df5fe7a06_16533fdb84c05bf8362e6--

  Rendered text template (0.0ms)
Completed 204 No Content in 69ms (Views: 0.5ms | ActiveRecord: 3.9ms)
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:55.995441"], ["email", "test@email.com"], ["password_digest", "$2a$04$9CeJwYeRHaiAzBa5HfseQuUL3tg2Ra8WxVt7e/5qBUnAV1P1Kxumi"], ["updated_at", "2014-11-15 23:18:55.995441"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:18:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (4.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.5ms

Sent mail to foo@bar.com (19.1ms)
Date: Sat, 15 Nov 2014 15:18:56 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df609cd8_16533fdb84c05bf8365fc@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df608348_16533fdb84c05bf836496";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df608348_16533fdb84c05bf836496
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df608348_16533fdb84c05bf836496
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df608348_16533fdb84c05bf836496--

  Rendered text template (0.0ms)
Completed 204 No Content in 56ms (Views: 1.4ms | ActiveRecord: 4.9ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:18:56.069560"], ["email", "test@email.com"], ["password_digest", "$2a$04$.v9uTxiYhhFS9jOc9fWhlu6Qi4nLEiOVYr9tGuJg1Bfdmu.m7TDY6"], ["updated_at", "2014-11-15 23:18:56.069560"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:18:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '793cd7b769f88ade3814b292f14537a2' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:18:56.130181"], ["expiration", "2014-11-16 23:18:56.133201"], ["key", "793cd7b769f88ade3814b292f14537a2"], ["updated_at", "2014-11-15 23:18:56.130181"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 2.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:18.458828"], ["email", "test@email.com"], ["password_digest", "$2a$04$Eu1LvbimeUCH9UHQz/16Due3T8Cvc2ErWxBfer1hIPbwu20GteukK"], ["updated_at", "2014-11-15 23:19:18.458828"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7db2f78584c2e450f2428264523e369c' LIMIT 1[0m
  [1m[35m (3.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7db2f78584c2e450f2428264523e369c"], ["reset_password_token_exp", "2014-11-16 07:19:18.468838"], ["updated_at", "2014-11-15 23:19:18.503574"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7db2f78584c2e450f2428264523e369c/" for 127.0.0.1 at 2014-11-15 15:19:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7db2f78584c2e450f2428264523e369c"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7db2f78584c2e450f2428264523e369c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$9MO.ZGs4XjmCEEZwfcRFsO6On9J9N0boiOYpTAC9QgKLsfWllfVX2"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:19:18.559208"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 37ms (Views: 11.1ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:18.636115"], ["email", "test@email.com"], ["password_digest", "$2a$04$ac4GR5Ux2rs17.Gx5JXLwuBjbVFT2Z/fjnBGriAmaAO8HjDp2duQO"], ["updated_at", "2014-11-15 23:19:18.636115"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c6a319847e0a72ccdfb4e8c44a0d5c1a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c6a319847e0a72ccdfb4e8c44a0d5c1a"], ["reset_password_token_exp", "2014-11-16 07:19:18.641343"], ["updated_at", "2014-11-15 23:19:18.689331"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/c6a319847e0a72ccdfb4e8c44a0d5c1a/" for 127.0.0.1 at 2014-11-15 15:19:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c6a319847e0a72ccdfb4e8c44a0d5c1a"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c6a319847e0a72ccdfb4e8c44a0d5c1a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$jaF3tSjy9trbqpTm1FZC7uvc6.i2OxtyH46VhO8nca4zV6G.KbzYC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:19:18.701530"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/c6a319847e0a72ccdfb4e8c44a0d5c1a/" for 127.0.0.1 at 2014-11-15 15:19:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c6a319847e0a72ccdfb4e8c44a0d5c1a"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c6a319847e0a72ccdfb4e8c44a0d5c1a' LIMIT 1
  Rendered text template (0.2ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 11ms (Views: 6.2ms | ActiveRecord: 0.2ms)
  [1m[36m (8.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:19:18.732348"], ["email", "test@email.com"], ["password_digest", "$2a$04$gCDRdhhj18WzvTfb9cifSOYeH1YkJAQUEO2oCM3AeQjM.YnP5BEnG"], ["updated_at", "2014-11-15 23:19:18.732348"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '903c785edcb96349e41bb88b46bc9203' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (4.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "903c785edcb96349e41bb88b46bc9203"], ["reset_password_token_exp", "2014-11-16 07:19:18.736992"], ["updated_at", "2014-11-15 23:19:18.749478"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/903c785edcb96349e41bb88b46bc9203/" for 127.0.0.1 at 2014-11-15 15:19:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"903c785edcb96349e41bb88b46bc9203"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '903c785edcb96349e41bb88b46bc9203' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 41ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (4.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:18.819936"], ["email", "test@email.com"], ["password_digest", "$2a$04$yCmi0Dgy1kNq66Aw8qFw5OHDCyGNKbMVckLZ1RfE.cr01vkWckfLC"], ["updated_at", "2014-11-15 23:19:18.819936"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6d58951d05b9cc0fc2c3047c87d7fbee' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6d58951d05b9cc0fc2c3047c87d7fbee"], ["reset_password_token_exp", "2014-11-16 07:19:18.828191"], ["updated_at", "2014-11-15 23:19:18.832731"]]
  [1m[35m (1.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:19:18 -0800
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:18.868951"], ["email", "test@email.com"], ["password_digest", "$2a$04$MkmdZA1rSzKS.GVmFuq1T.YXCrQCm1rZnMBMdH8zfP8eTOmQ5ql3e"], ["updated_at", "2014-11-15 23:19:18.868951"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '286d80f9c0f3a02abcc8d827cd1ec738' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "286d80f9c0f3a02abcc8d827cd1ec738"], ["reset_password_token_exp", "2014-11-16 07:19:18.891594"], ["updated_at", "2014-11-15 23:19:18.907688"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/4da06775b9a24688d7d0bf6af0c0a782/" for 127.0.0.1 at 2014-11-15 15:19:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"4da06775b9a24688d7d0bf6af0c0a782"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '4da06775b9a24688d7d0bf6af0c0a782' LIMIT 1[0m
  Rendered text template (5.9ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 10ms (Views: 9.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (4.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:18.940260"], ["email", "test@email.com"], ["password_digest", "$2a$04$JTonah24eS8/LExyRUllYu14RBCtqjlSm21bNfraXToVVoPK2aNJC"], ["updated_at", "2014-11-15 23:19:18.940260"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:19:18 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8d9850db12b211501a40deb6be1887af' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8d9850db12b211501a40deb6be1887af"], ["reset_password_token_exp", "2014-11-16 07:19:18.968698"], ["updated_at", "2014-11-15 23:19:18.970626"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (3.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 354.0ms

Sent mail to test@email.com (12.3ms)
Date: Sat, 15 Nov 2014 15:19:19 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df7758231_166f3fc5a9063bec1267e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df7755b64_166f3fc5a9063bec12531";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df7755b64_166f3fc5a9063bec12531
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/8d9850db12b211501a40deb6be1887af/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df7755b64_166f3fc5a9063bec12531
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/8d9850db12b211501a40deb6be1887af/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df7755b64_166f3fc5a9063bec12531--

  Rendered text template (0.0ms)
Completed 204 No Content in 403ms (Views: 0.5ms | ActiveRecord: 2.7ms)
  [1m[35m (11.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:19.391168"], ["email", "test@email.com"], ["password_digest", "$2a$04$yfXm/KxDnH2GmkLD17uOKeIjUS0S.aEIGjgOhDzwlMjonmjnkr59O"], ["updated_at", "2014-11-15 23:19:19.391168"], ["username", "test"]]
  [1m[35m (3.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:19:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.9ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 12.2ms

Sent mail to foo@bar.com (13.8ms)
Date: Sat, 15 Nov 2014 15:19:19 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df776f053_166f3fc5a9063bec128c1@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df776b618_166f3fc5a9063bec12788";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df776b618_166f3fc5a9063bec12788
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df776b618_166f3fc5a9063bec12788
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df776b618_166f3fc5a9063bec12788--

  Rendered text template (0.0ms)
Completed 204 No Content in 33ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:19.491734"], ["email", "test@email.com"], ["password_digest", "$2a$04$cLf0e9CIUTzqs0kuT2gDX.on/ojCMUGWHrn.QUZjokFGNAs09GVH."], ["updated_at", "2014-11-15 23:19:19.491734"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:19:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'be00fe217007be52f310014936dbb858' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "be00fe217007be52f310014936dbb858"], ["reset_password_token_exp", "2014-11-16 07:19:19.509914"], ["updated_at", "2014-11-15 23:19:19.555396"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 5.1ms

Sent mail to test@email.com (26.1ms)
Date: Sat, 15 Nov 2014 15:19:19 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467df778a618_166f3fc5a9063bec1303c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df7788d19_166f3fc5a9063bec129a1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df7788d19_166f3fc5a9063bec129a1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/be00fe217007be52f310014936dbb858/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467df7788d19_166f3fc5a9063bec129a1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/be00fe217007be52f310014936dbb858/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467df7788d19_166f3fc5a9063bec129a1--

  Rendered text template (0.0ms)
Completed 204 No Content in 83ms (Views: 0.3ms | ActiveRecord: 2.9ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:19.605292"], ["email", "test@email.com"], ["password_digest", "$2a$04$fhW6bX8HXLTxplPNUECDme16/39cUJRRRydRVsrmWzvxgHLbEcGeC"], ["updated_at", "2014-11-15 23:19:19.605292"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:19:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 27.6ms

Sent mail to foo@bar.com (20.7ms)
Date: Sat, 15 Nov 2014 15:19:19 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467df77a7d33_166f3fc5a9063bec13257@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467df77a0e64_166f3fc5a9063bec13187";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467df77a0e64_166f3fc5a9063bec13187
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467df77a0e64_166f3fc5a9063bec13187
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467df77a0e64_166f3fc5a9063bec13187--

  Rendered text template (0.0ms)
Completed 204 No Content in 55ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (8.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:19:19.748057"], ["email", "test@email.com"], ["password_digest", "$2a$04$IVbHGhM1FP0cMFyg7Y9REuF5ldw8yjVscT0gHKpRfRV0pfcnwohPi"], ["updated_at", "2014-11-15 23:19:19.748057"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:19:19 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '32a05665e1daebceffe30f0426288a9f' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:19:19.806197"], ["expiration", "2014-11-16 23:19:19.809752"], ["key", "32a05665e1daebceffe30f0426288a9f"], ["updated_at", "2014-11-15 23:19:19.806197"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 200 OK in 52ms (Views: 0.3ms | ActiveRecord: 1.7ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (2.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:01.124668"], ["email", "test@email.com"], ["password_digest", "$2a$04$7aNf8NFRCKp6IHTnKgGPFOUvppDXu42cSfX.L8tyYtSifSI.Fvs1a"], ["updated_at", "2014-11-15 23:20:01.124668"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '098e1a1686e5582bf60edcf80663e6fd' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "098e1a1686e5582bf60edcf80663e6fd"], ["reset_password_token_exp", "2014-11-16 07:20:01.143973"], ["updated_at", "2014-11-15 23:20:01.184877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/098e1a1686e5582bf60edcf80663e6fd/" for 127.0.0.1 at 2014-11-15 15:20:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"098e1a1686e5582bf60edcf80663e6fd"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '098e1a1686e5582bf60edcf80663e6fd' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$eYtgAEZF8zm./cz.HL8V0e2bqEJlDewhPhKXhX2ZXrF05gZCykfoK"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:20:01.230131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 25ms (Views: 8.7ms | ActiveRecord: 2.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (11.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:01.279234"], ["email", "test@email.com"], ["password_digest", "$2a$04$SVGZvog5Y5VS1VVIIPyHpuxt15i9oOZcVLoEeb2dsOf0DTuJ0R/i."], ["updated_at", "2014-11-15 23:20:01.279234"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '150cf8384164f0193f61e1c83ced4726' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (11.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "150cf8384164f0193f61e1c83ced4726"], ["reset_password_token_exp", "2014-11-16 07:20:01.283102"], ["updated_at", "2014-11-15 23:20:01.318188"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/150cf8384164f0193f61e1c83ced4726/" for 127.0.0.1 at 2014-11-15 15:20:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"150cf8384164f0193f61e1c83ced4726"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '150cf8384164f0193f61e1c83ced4726' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$N6VcWZLCO2q3q0usSbA5R.a9IkhDWEgRjG653at26v169FYjmqaFe"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:20:01.352115"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/150cf8384164f0193f61e1c83ced4726/" for 127.0.0.1 at 2014-11-15 15:20:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"150cf8384164f0193f61e1c83ced4726"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '150cf8384164f0193f61e1c83ced4726' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (10.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (3.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:20:01.389007"], ["email", "test@email.com"], ["password_digest", "$2a$04$yziqQFbDSGnQENKutNpGK.Q06IinBj5G3a9663yjy17vSchylQ5qO"], ["updated_at", "2014-11-15 23:20:01.389007"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ae39a7bd3d4e4b5a0ef1ef5ed2edfa41' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ae39a7bd3d4e4b5a0ef1ef5ed2edfa41"], ["reset_password_token_exp", "2014-11-16 07:20:01.396999"], ["updated_at", "2014-11-15 23:20:01.440392"]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/ae39a7bd3d4e4b5a0ef1ef5ed2edfa41/" for 127.0.0.1 at 2014-11-15 15:20:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"ae39a7bd3d4e4b5a0ef1ef5ed2edfa41"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ae39a7bd3d4e4b5a0ef1ef5ed2edfa41' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 16ms (Views: 0.3ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (19.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (20.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:01.524785"], ["email", "test@email.com"], ["password_digest", "$2a$04$xBMo0td/2AKehbfkiqZvqOPt6tCrVjyvuouzueXMe5VkINtLInEA."], ["updated_at", "2014-11-15 23:20:01.524785"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'dc57677d1fc014f65c25a04029bc0510' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "dc57677d1fc014f65c25a04029bc0510"], ["reset_password_token_exp", "2014-11-16 07:20:01.568485"], ["updated_at", "2014-11-15 23:20:01.589359"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:20:01 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:01.634670"], ["email", "test@email.com"], ["password_digest", "$2a$04$1qIJ3ZZaH08UFAlsBUpN4urOJoqBc96zgZS3wwqkCb2u6Ufw6gGW."], ["updated_at", "2014-11-15 23:20:01.634670"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5c8326c02a70d578bb2c1c3b1e04e5e9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5c8326c02a70d578bb2c1c3b1e04e5e9"], ["reset_password_token_exp", "2014-11-16 07:20:01.637446"], ["updated_at", "2014-11-15 23:20:01.656808"]]
  [1m[35m (3.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/c9304b7a5f437c3db1cd6aa96bc65806/" for 127.0.0.1 at 2014-11-15 15:20:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c9304b7a5f437c3db1cd6aa96bc65806"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c9304b7a5f437c3db1cd6aa96bc65806' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 6ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:01.703870"], ["email", "test@email.com"], ["password_digest", "$2a$04$VuXoB2JzQ3e.mVxFp.p7FeuTn99vFoitdhHR0if7W8kRUkQrEV2fa"], ["updated_at", "2014-11-15 23:20:01.703870"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:20:01 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f72f8bff17bb334581d92d1b0127c4e9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "f72f8bff17bb334581d92d1b0127c4e9"], ["reset_password_token_exp", "2014-11-16 07:20:01.754930"], ["updated_at", "2014-11-15 23:20:01.765289"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 391.7ms

Sent mail to test@email.com (17.3ms)
Date: Sat, 15 Nov 2014 15:20:02 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467dfa22923e_16933fd136419be0649ac@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467dfa227775_16933fd136419be0648cd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467dfa227775_16933fd136419be0648cd
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/f72f8bff17bb334581d92d1b0127c4e9/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467dfa227775_16933fd136419be0648cd
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/f72f8bff17bb334581d92d1b0127c4e9/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467dfa227775_16933fd136419be0648cd--

  Rendered text template (0.0ms)
Completed 204 No Content in 429ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (9.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:02.200159"], ["email", "test@email.com"], ["password_digest", "$2a$04$EV6ediXhpVydJ8/PJv2MKOEO/3g1MHNsP3/rufykajtm8aWiU7nhC"], ["updated_at", "2014-11-15 23:20:02.200159"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:20:02 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (8.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 34.6ms

Sent mail to foo@bar.com (7.0ms)
Date: Sat, 15 Nov 2014 15:20:02 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467dfa23edc1_16933fd136419be065181@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467dfa23dcb0_16933fd136419be065013";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467dfa23dcb0_16933fd136419be065013
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467dfa23dcb0_16933fd136419be065013
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467dfa23dcb0_16933fd136419be065013--

  Rendered text template (0.0ms)
Completed 204 No Content in 51ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:02.269115"], ["email", "test@email.com"], ["password_digest", "$2a$04$1qj3nfj7Wz1pkic0fB5PAelBWGJU8RXU37DPrIz2g7Azjqd/whcIC"], ["updated_at", "2014-11-15 23:20:02.269115"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:20:02 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (15.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '41509bae95f0c25f1f1529d4d70be343' LIMIT 1
  [1m[36m (7.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "41509bae95f0c25f1f1529d4d70be343"], ["reset_password_token_exp", "2014-11-16 07:20:02.305760"], ["updated_at", "2014-11-15 23:20:02.320515"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 3.2ms

Sent mail to test@email.com (13.1ms)
Date: Sat, 15 Nov 2014 15:20:02 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467dfa2506d0_16933fd136419be06533@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467dfa24fab9_16933fd136419be0652b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467dfa24fab9_16933fd136419be0652b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/41509bae95f0c25f1f1529d4d70be343/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467dfa24fab9_16933fd136419be0652b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/41509bae95f0c25f1f1529d4d70be343/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467dfa24fab9_16933fd136419be0652b--

  Rendered text template (0.0ms)
Completed 204 No Content in 69ms (Views: 0.4ms | ActiveRecord: 23.9ms)
  [1m[35m (6.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:02.387386"], ["email", "test@email.com"], ["password_digest", "$2a$04$icYN0G04WQHeeE.Ken7yaeFJtldDJ8DfQptdhovArbGEjB4AwT6tO"], ["updated_at", "2014-11-15 23:20:02.387386"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:20:02 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.1ms

Sent mail to foo@bar.com (27.4ms)
Date: Sat, 15 Nov 2014 15:20:02 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467dfa266f82_16933fd136419be0655ea@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467dfa26276f_16933fd136419be06542";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467dfa26276f_16933fd136419be06542
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467dfa26276f_16933fd136419be06542
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467dfa26276f_16933fd136419be06542--

  Rendered text template (0.0ms)
Completed 204 No Content in 39ms (Views: 0.6ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:20:02.473440"], ["email", "test@email.com"], ["password_digest", "$2a$04$LzQ/jd7mVp52xf6.9zA/9e3V3l/G/nsiwgGEiDYbVsrneVLEKm11y"], ["updated_at", "2014-11-15 23:20:02.473440"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:20:02 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '217610787f7fe29cb9f2232459aeadbd' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:20:02.540093"], ["expiration", "2014-11-16 23:20:02.550594"], ["key", "217610787f7fe29cb9f2232459aeadbd"], ["updated_at", "2014-11-15 23:20:02.540093"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 2.1ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:10.677354"], ["email", "test@email.com"], ["password_digest", "$2a$04$YdhuDqrj4S/apNs2c4iRV.si9w.fOUzmt5esc8lq0Fl/txaqG.oSa"], ["updated_at", "2014-11-15 23:22:10.677354"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '650d31f6a858b5451c81f610a4b6257f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "650d31f6a858b5451c81f610a4b6257f"], ["reset_password_token_exp", "2014-11-16 07:22:10.684384"], ["updated_at", "2014-11-15 23:22:10.687746"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/650d31f6a858b5451c81f610a4b6257f/" for 127.0.0.1 at 2014-11-15 15:22:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"650d31f6a858b5451c81f610a4b6257f"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '650d31f6a858b5451c81f610a4b6257f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$adAEhTGPxvu511QI6KnnMefX1stAcuKGgGtKqFoOIoqX7pLrxMRx."], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:22:10.743166"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 29ms (Views: 7.4ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (7.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:10.774564"], ["email", "test@email.com"], ["password_digest", "$2a$04$a4Ic41BDUiFwyYc3MJtey.BM1rGlcMw/6Rw.gFjkDFDUJPNaoLlR."], ["updated_at", "2014-11-15 23:22:10.774564"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'de363d8d8023add1e3a1c903e52046a9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "de363d8d8023add1e3a1c903e52046a9"], ["reset_password_token_exp", "2014-11-16 07:22:10.783081"], ["updated_at", "2014-11-15 23:22:10.789478"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/de363d8d8023add1e3a1c903e52046a9/" for 127.0.0.1 at 2014-11-15 15:22:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"de363d8d8023add1e3a1c903e52046a9"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'de363d8d8023add1e3a1c903e52046a9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$vDxQBNqJEKexsikkAYF0yuu/xAVRTfnSdUawJIHhtG2ZatQlyTNiO"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:22:10.832335"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 21ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/de363d8d8023add1e3a1c903e52046a9/" for 127.0.0.1 at 2014-11-15 15:22:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"de363d8d8023add1e3a1c903e52046a9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'de363d8d8023add1e3a1c903e52046a9' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (6.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (6.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:22:10.910302"], ["email", "test@email.com"], ["password_digest", "$2a$04$aOA1wNSmEMOlPHHf3izLzOC.0Q3TNFfhhwN0H558/xwzZmgrlnGVG"], ["updated_at", "2014-11-15 23:22:10.910302"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd047c60b58e4075da2c1b67fc9086f10' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (4.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "d047c60b58e4075da2c1b67fc9086f10"], ["reset_password_token_exp", "2014-11-16 07:22:10.926267"], ["updated_at", "2014-11-15 23:22:10.928864"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/d047c60b58e4075da2c1b67fc9086f10/" for 127.0.0.1 at 2014-11-15 15:22:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"d047c60b58e4075da2c1b67fc9086f10"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd047c60b58e4075da2c1b67fc9086f10' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 23ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:11.005518"], ["email", "test@email.com"], ["password_digest", "$2a$04$0j2YLuzqNNpOf6p2keSw2.pQ6PCrBXg1UDLsoiuTdZxsirR3JF96G"], ["updated_at", "2014-11-15 23:22:11.005518"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '79e1d03aa53363e38f4f05912acbaa3b' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "79e1d03aa53363e38f4f05912acbaa3b"], ["reset_password_token_exp", "2014-11-16 07:22:11.011791"], ["updated_at", "2014-11-15 23:22:11.017274"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:22:11 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:11.053899"], ["email", "test@email.com"], ["password_digest", "$2a$04$E5VZ.VugCVO4szlHlG4N.ud/f1KU2n5oxYknm3BJXs/RocDu1XIBO"], ["updated_at", "2014-11-15 23:22:11.053899"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (2.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '937d3569df622bef494953d02f7cdb4f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "937d3569df622bef494953d02f7cdb4f"], ["reset_password_token_exp", "2014-11-16 07:22:11.064230"], ["updated_at", "2014-11-15 23:22:11.070865"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0c860f8b25a93eb62b85b432bb3ad3da/" for 127.0.0.1 at 2014-11-15 15:22:11 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0c860f8b25a93eb62b85b432bb3ad3da"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0c860f8b25a93eb62b85b432bb3ad3da' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 5ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (9.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:11.150840"], ["email", "test@email.com"], ["password_digest", "$2a$04$Jn6nxtmPQdl/fzPESRwCE.yF6xAV0bbPyMLfOLnN/1oHKKUhgocHS"], ["updated_at", "2014-11-15 23:22:11.150840"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:22:11 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '10c4993c9e5cd486203f99f85071e5e2' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "10c4993c9e5cd486203f99f85071e5e2"], ["reset_password_token_exp", "2014-11-16 07:22:11.172579"], ["updated_at", "2014-11-15 23:22:11.174910"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 386.1ms

Sent mail to test@email.com (16.8ms)
Date: Sat, 15 Nov 2014 15:22:11 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e023904e5_16c33fe778c57bec13824@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0238dd61_16c33fe778c57bec137c1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0238dd61_16c33fe778c57bec137c1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/10c4993c9e5cd486203f99f85071e5e2/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0238dd61_16c33fe778c57bec137c1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/10c4993c9e5cd486203f99f85071e5e2/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0238dd61_16c33fe778c57bec137c1--

  Rendered text template (0.0ms)
Completed 204 No Content in 434ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (8.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:11.615558"], ["email", "test@email.com"], ["password_digest", "$2a$04$5VlXXtBX1fyFzLpf5rHyTezdO5ex2lnFwXNwGHK0WEuVYqeOIPL6u"], ["updated_at", "2014-11-15 23:22:11.615558"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:22:11 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.4ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 34.0ms

Sent mail to foo@bar.com (5.3ms)
Date: Sat, 15 Nov 2014 15:22:11 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e023a3173_16c33fe778c57bec140ef@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e023a1aae_16c33fe778c57bec139c4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e023a1aae_16c33fe778c57bec139c4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e023a1aae_16c33fe778c57bec139c4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e023a1aae_16c33fe778c57bec139c4--

  Rendered text template (0.0ms)
Completed 204 No Content in 44ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:11.679162"], ["email", "test@email.com"], ["password_digest", "$2a$04$JRffqvExB3CoPPyTocqKY.wu/vn4mnn2kKffGNeAskw6m.iG3u2Vi"], ["updated_at", "2014-11-15 23:22:11.679162"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:22:11 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0375db9d98a5bbb304ceb89877d13e2e' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "0375db9d98a5bbb304ceb89877d13e2e"], ["reset_password_token_exp", "2014-11-16 07:22:11.692370"], ["updated_at", "2014-11-15 23:22:11.700454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 7.2ms

Sent mail to test@email.com (68.8ms)
Date: Sat, 15 Nov 2014 15:22:11 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e023af637_16c33fe778c57bec142c6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e023ae521_16c33fe778c57bec141ab";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e023ae521_16c33fe778c57bec141ab
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/0375db9d98a5bbb304ceb89877d13e2e/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e023ae521_16c33fe778c57bec141ab
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/0375db9d98a5bbb304ceb89877d13e2e/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e023ae521_16c33fe778c57bec141ab--

  Rendered text template (0.1ms)
Completed 204 No Content in 100ms (Views: 1.7ms | ActiveRecord: 4.2ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:11.798629"], ["email", "test@email.com"], ["password_digest", "$2a$04$bGXIGWGp4LoaEhcVZ8xoYevLu63py27XwYy6nSBhsgJ7EC.7SNwYi"], ["updated_at", "2014-11-15 23:22:11.798629"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:22:11 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 36.2ms

Sent mail to foo@bar.com (14.3ms)
Date: Sat, 15 Nov 2014 15:22:11 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e023d0280_16c33fe778c57bec144f4@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e023ceb3a_16c33fe778c57bec14325";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e023ceb3a_16c33fe778c57bec14325
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e023ceb3a_16c33fe778c57bec14325
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e023ceb3a_16c33fe778c57bec14325--

  Rendered text template (0.0ms)
Completed 204 No Content in 58ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (22.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:11.878269"], ["email", "test@email.com"], ["password_digest", "$2a$04$PLCzX9dDv15Nq5eaCbNGU.2U65lrnlLH9bS0ZH2JXbEXgwsighZhO"], ["updated_at", "2014-11-15 23:22:11.878269"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:22:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a997fc6bb892ade7f191a8a8ddfc76c2' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:22:11.983536"], ["expiration", "2014-11-16 23:22:11.989119"], ["key", "a997fc6bb892ade7f191a8a8ddfc76c2"], ["updated_at", "2014-11-15 23:22:11.983536"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 38ms (Views: 0.4ms | ActiveRecord: 1.2ms)
  [1m[35m (10.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:48.082768"], ["email", "test@email.com"], ["password_digest", "$2a$04$hJSV7KBSa3w9YquQK/JPF.x/9sUSBBAJUtkyA8lCXvWeEnqN0J2Ve"], ["updated_at", "2014-11-15 23:22:48.082768"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ff8c14fcafd73e35c1606ca99c5150d5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (2.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ff8c14fcafd73e35c1606ca99c5150d5"], ["reset_password_token_exp", "2014-11-16 07:22:48.102336"], ["updated_at", "2014-11-15 23:22:48.124166"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/ff8c14fcafd73e35c1606ca99c5150d5/" for 127.0.0.1 at 2014-11-15 15:22:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"ff8c14fcafd73e35c1606ca99c5150d5"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ff8c14fcafd73e35c1606ca99c5150d5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$Z1/WbzoZq/HJfZgwMmmWs.EsA1dmirRUinL5PmHmWCCyRSK7IdQ4i"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:22:48.180760"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 27ms (Views: 14.8ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:48.216727"], ["email", "test@email.com"], ["password_digest", "$2a$04$Ruk4WNx4upy6eCutfzhDHe0oG0rR8G08lKk/I.ngBGfSwE68qZFZi"], ["updated_at", "2014-11-15 23:22:48.216727"], ["username", "test"]]
  [1m[35m (3.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd930a30cafeaac20c9e96cfe51fcdf6b' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d930a30cafeaac20c9e96cfe51fcdf6b"], ["reset_password_token_exp", "2014-11-16 07:22:48.270946"], ["updated_at", "2014-11-15 23:22:48.274721"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d930a30cafeaac20c9e96cfe51fcdf6b/" for 127.0.0.1 at 2014-11-15 15:22:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d930a30cafeaac20c9e96cfe51fcdf6b"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd930a30cafeaac20c9e96cfe51fcdf6b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$5raxLA8d1rzZMV8V7Ih2nOdF46dqHL5hNFr/W/xCrxd4PyJq4IeAG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:22:48.300061"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 21ms (Views: 0.6ms | ActiveRecord: 6.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/d930a30cafeaac20c9e96cfe51fcdf6b/" for 127.0.0.1 at 2014-11-15 15:22:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d930a30cafeaac20c9e96cfe51fcdf6b"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd930a30cafeaac20c9e96cfe51fcdf6b' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (11.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:22:48.348841"], ["email", "test@email.com"], ["password_digest", "$2a$04$xUwrvGLbB1xOjoeSubitKede5umBzZMHoUQAtNTm4H3O5Bt3DQLpe"], ["updated_at", "2014-11-15 23:22:48.348841"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9ea2e41e85788bcbeaa40f205a2002f7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (3.9ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9ea2e41e85788bcbeaa40f205a2002f7"], ["reset_password_token_exp", "2014-11-16 07:22:48.357278"], ["updated_at", "2014-11-15 23:22:48.359307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/9ea2e41e85788bcbeaa40f205a2002f7/" for 127.0.0.1 at 2014-11-15 15:22:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"9ea2e41e85788bcbeaa40f205a2002f7"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9ea2e41e85788bcbeaa40f205a2002f7' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 37ms (Views: 3.9ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:48.423653"], ["email", "test@email.com"], ["password_digest", "$2a$04$G7l0spQgW5WtgPHiFvIyuuLcMe7EdIRfCIAe.2kbs6JLaTLFKWTiC"], ["updated_at", "2014-11-15 23:22:48.423653"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5b196d21675305efc841aaa61b2d3cc6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5b196d21675305efc841aaa61b2d3cc6"], ["reset_password_token_exp", "2014-11-16 07:22:48.429157"], ["updated_at", "2014-11-15 23:22:48.432162"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:22:48 -0800
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (4.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:48.503945"], ["email", "test@email.com"], ["password_digest", "$2a$04$J6THLyoqjxOXanaW9UG5P.h4M9cX0.TbyNlSzIY2xJ1aLpajpqYZq"], ["updated_at", "2014-11-15 23:22:48.503945"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '40130e938e0eaccea9e25f4c0af7ba9b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "40130e938e0eaccea9e25f4c0af7ba9b"], ["reset_password_token_exp", "2014-11-16 07:22:48.506318"], ["updated_at", "2014-11-15 23:22:48.535523"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/b1940988faca90f7ff3dc22cc46c52de/" for 127.0.0.1 at 2014-11-15 15:22:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b1940988faca90f7ff3dc22cc46c52de"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b1940988faca90f7ff3dc22cc46c52de' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:48.568955"], ["email", "test@email.com"], ["password_digest", "$2a$04$5gfdYcbNSfm35/tt7OhS..kwTT9batNsaff1yA86pblem0XMdI2dG"], ["updated_at", "2014-11-15 23:22:48.568955"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:22:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '663926b2087608e16e4c8823493439aa' LIMIT 1
  [1m[36m (1.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "663926b2087608e16e4c8823493439aa"], ["reset_password_token_exp", "2014-11-16 07:22:48.583968"], ["updated_at", "2014-11-15 23:22:48.594137"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 400.0ms

Sent mail to test@email.com (8.3ms)
Date: Sat, 15 Nov 2014 15:22:49 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e04978c9_16e03ff4c4865be857353@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0495fdd_16e03ff4c4865be8572ee";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0495fdd_16e03ff4c4865be8572ee
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/663926b2087608e16e4c8823493439aa/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0495fdd_16e03ff4c4865be8572ee
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/663926b2087608e16e4c8823493439aa/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0495fdd_16e03ff4c4865be8572ee--

  Rendered text template (0.0ms)
Completed 204 No Content in 464ms (Views: 0.4ms | ActiveRecord: 5.0ms)
  [1m[35m (8.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:49.054180"], ["email", "test@email.com"], ["password_digest", "$2a$04$et9z5Ovw5e7AQUwmh4npSOiW3pKNNPAslQj40iY0mE1WWmfZZoCXC"], ["updated_at", "2014-11-15 23:22:49.054180"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:22:49 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 22.7ms

Sent mail to foo@bar.com (6.9ms)
Date: Sat, 15 Nov 2014 15:22:49 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e0491e37b_16e03ff4c4865be857531@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0491c02b_16e03ff4c4865be85741d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0491c02b_16e03ff4c4865be85741d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e0491c02b_16e03ff4c4865be85741d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e0491c02b_16e03ff4c4865be85741d--

  Rendered text template (0.0ms)
Completed 204 No Content in 35ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:49.137509"], ["email", "test@email.com"], ["password_digest", "$2a$04$B6Igl1FxBeURwgljCukPPeunqtOM6l.F7fZO2ZnwGUuE5wxY8c/nC"], ["updated_at", "2014-11-15 23:22:49.137509"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:22:49 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e806bce363886bffbf6386688a02e179' LIMIT 1
  [1m[36m (1.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e806bce363886bffbf6386688a02e179"], ["reset_password_token_exp", "2014-11-16 07:22:49.169441"], ["updated_at", "2014-11-15 23:22:49.201113"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 6.1ms

Sent mail to test@email.com (27.7ms)
Date: Sat, 15 Nov 2014 15:22:49 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e04939424_16e03ff4c4865be8577a4@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e04937db9_16e03ff4c4865be857669";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e04937db9_16e03ff4c4865be857669
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/e806bce363886bffbf6386688a02e179/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e04937db9_16e03ff4c4865be857669
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/e806bce363886bffbf6386688a02e179/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e04937db9_16e03ff4c4865be857669--

  Rendered text template (0.0ms)
Completed 204 No Content in 96ms (Views: 0.4ms | ActiveRecord: 3.9ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:49.284223"], ["email", "test@email.com"], ["password_digest", "$2a$04$65Yterw.c/0qDsEeq6RDp./XqeVmUW52RXfYQMTNKvvqbunciEGN6"], ["updated_at", "2014-11-15 23:22:49.284223"], ["username", "test"]]
  [1m[35m (13.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:22:49 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 37.6ms

Sent mail to foo@bar.com (5.4ms)
Date: Sat, 15 Nov 2014 15:22:49 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e049560c4_16e03ff4c4865be8579bc@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0494f4b4_16e03ff4c4865be857830";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0494f4b4_16e03ff4c4865be857830
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e0494f4b4_16e03ff4c4865be857830
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e0494f4b4_16e03ff4c4865be857830--

  Rendered text template (0.0ms)
Completed 204 No Content in 50ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:22:49.363797"], ["email", "test@email.com"], ["password_digest", "$2a$04$lBhQrbNUSkpEyZhw5Jr1Ye8BJU6Apsw2HMaMmU8ua.wd2LCH0OYkS"], ["updated_at", "2014-11-15 23:22:49.363797"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:22:49 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4bfd93ad7543406459e7d48b6e9627f2' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:22:49.434847"], ["expiration", "2014-11-16 23:22:49.438982"], ["key", "4bfd93ad7543406459e7d48b6e9627f2"], ["updated_at", "2014-11-15 23:22:49.434847"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 22ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:39.939015"], ["email", "test@email.com"], ["password_digest", "$2a$04$wUDTF5ZKjwELP46SqLbReuVP5lJWOn7V93BiL7PYsiZzHanzA39Ii"], ["updated_at", "2014-11-15 23:23:39.939015"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a95fe71ab6c8f7d28f0d331f34871b37' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a95fe71ab6c8f7d28f0d331f34871b37"], ["reset_password_token_exp", "2014-11-16 07:23:39.945988"], ["updated_at", "2014-11-15 23:23:39.950111"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a95fe71ab6c8f7d28f0d331f34871b37/" for 127.0.0.1 at 2014-11-15 15:23:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a95fe71ab6c8f7d28f0d331f34871b37"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a95fe71ab6c8f7d28f0d331f34871b37' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$pqZ4bz.BVjBOWm/BaUzbCOZGc6s59iifAzUCJ0FnD2pHDf2R9gz66"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:23:40.024661"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 37ms (Views: 8.7ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:40.049352"], ["email", "test@email.com"], ["password_digest", "$2a$04$KOTUk14FVqvxW/WvOWqlC.mfdWIcRwZ4MOuMEFvC0a0FVCVL38pm."], ["updated_at", "2014-11-15 23:23:40.049352"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd54a5a1297dd4b3b7e12de9554a34bca' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d54a5a1297dd4b3b7e12de9554a34bca"], ["reset_password_token_exp", "2014-11-16 07:23:40.067561"], ["updated_at", "2014-11-15 23:23:40.072112"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d54a5a1297dd4b3b7e12de9554a34bca/" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d54a5a1297dd4b3b7e12de9554a34bca"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd54a5a1297dd4b3b7e12de9554a34bca' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$lCvN1LilMYAtb/otxz53gO0ldALxUegKWIQRZKdjqUWlmhSCqNTu."], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:23:40.105140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 7.6ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/d54a5a1297dd4b3b7e12de9554a34bca/" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d54a5a1297dd4b3b7e12de9554a34bca"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd54a5a1297dd4b3b7e12de9554a34bca' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:23:40.130994"], ["email", "test@email.com"], ["password_digest", "$2a$04$0wWlFpvB.2L69h2Fyb0siua1pljZsaaH8Is2ZenVRmAMu6QUnSSka"], ["updated_at", "2014-11-15 23:23:40.130994"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '28589311f6a798dd7bbab27a706e3dd9' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "28589311f6a798dd7bbab27a706e3dd9"], ["reset_password_token_exp", "2014-11-16 07:23:40.133158"], ["updated_at", "2014-11-15 23:23:40.138228"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/28589311f6a798dd7bbab27a706e3dd9/" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"28589311f6a798dd7bbab27a706e3dd9"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '28589311f6a798dd7bbab27a706e3dd9' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 47ms (Views: 1.8ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:40.203856"], ["email", "test@email.com"], ["password_digest", "$2a$04$R2HUU.oynGJzvHzlaEErs.LwB9yBAmBC.QP4iek3ppgqVrkDwREva"], ["updated_at", "2014-11-15 23:23:40.203856"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9105ce62f7fb99a5a29c8d5076fd7e43' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (5.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "9105ce62f7fb99a5a29c8d5076fd7e43"], ["reset_password_token_exp", "2014-11-16 07:23:40.205675"], ["updated_at", "2014-11-15 23:23:40.211465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:40.270250"], ["email", "test@email.com"], ["password_digest", "$2a$04$04hBs2o3C9CZ..SL/AFaj.RFBZ5Tig8jZeYovclsG.ujX4jO4tYle"], ["updated_at", "2014-11-15 23:23:40.270250"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c10fff1148fd79abab1609df1fd0a768' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c10fff1148fd79abab1609df1fd0a768"], ["reset_password_token_exp", "2014-11-16 07:23:40.272747"], ["updated_at", "2014-11-15 23:23:40.337206"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7d545a0039b018728774366dd882ec0f/" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7d545a0039b018728774366dd882ec0f"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7d545a0039b018728774366dd882ec0f' LIMIT 1[0m
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 13ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:40.365670"], ["email", "test@email.com"], ["password_digest", "$2a$04$iYRjjgG2Wl5GZlb8tAkqsuqJQdpiARVgdfT1FxSrpAVZhL0ZEylDi"], ["updated_at", "2014-11-15 23:23:40.365670"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (6.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9d29994cf8f976a01f914c709b623865' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9d29994cf8f976a01f914c709b623865"], ["reset_password_token_exp", "2014-11-16 07:23:40.388256"], ["updated_at", "2014-11-15 23:23:40.413596"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 374.7ms

Sent mail to test@email.com (11.4ms)
Date: Sat, 15 Nov 2014 15:23:40 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e07cc58f7_17133fdfa4865bf0750ae@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e07cc4067_17133fdfa4865bf074934";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e07cc4067_17133fdfa4865bf074934
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/9d29994cf8f976a01f914c709b623865/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e07cc4067_17133fdfa4865bf074934
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/9d29994cf8f976a01f914c709b623865/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e07cc4067_17133fdfa4865bf074934--

  Rendered text template (0.0ms)
Completed 204 No Content in 448ms (Views: 2.6ms | ActiveRecord: 9.4ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:40.831041"], ["email", "test@email.com"], ["password_digest", "$2a$04$ju3p1CkXKudnOHgVR5W3veqFVh5fcbDWA.CIq/ERJua3xz4Q2Ejoa"], ["updated_at", "2014-11-15 23:23:40.831041"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (4.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 26.4ms

Sent mail to foo@bar.com (11.9ms)
Date: Sat, 15 Nov 2014 15:23:40 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e07cd526f_17133fdfa4865bf075283@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e07cd46aa_17133fdfa4865bf075116";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e07cd46aa_17133fdfa4865bf075116
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e07cd46aa_17133fdfa4865bf075116
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e07cd46aa_17133fdfa4865bf075116--

  Rendered text template (0.1ms)
Completed 204 No Content in 42ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:40.899196"], ["email", "test@email.com"], ["password_digest", "$2a$04$LsTa.FIf0wzi3aDrjn8NcefSPARsIMWYIX4sRGu24uUbg8p9FZ1m6"], ["updated_at", "2014-11-15 23:23:40.899196"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e366b932b0572c89a082e63cb80502db' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e366b932b0572c89a082e63cb80502db"], ["reset_password_token_exp", "2014-11-16 07:23:40.924284"], ["updated_at", "2014-11-15 23:23:40.938208"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 6.9ms

Sent mail to test@email.com (21.2ms)
Date: Sat, 15 Nov 2014 15:23:40 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e07ce84eb_17133fdfa4865bf0754b7@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e07ce68c6_17133fdfa4865bf07536d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e07ce68c6_17133fdfa4865bf07536d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/e366b932b0572c89a082e63cb80502db/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e07ce68c6_17133fdfa4865bf07536d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/e366b932b0572c89a082e63cb80502db/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e07ce68c6_17133fdfa4865bf07536d--

  Rendered text template (0.0ms)
Completed 204 No Content in 62ms (Views: 0.5ms | ActiveRecord: 2.7ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:40.986412"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZNJfZO6FVoNn7NJBsNecYuBM5flWZFj/UerYBvQiZMDRIjOYW0y2u"], ["updated_at", "2014-11-15 23:23:40.986412"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:23:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.3ms

Sent mail to foo@bar.com (40.2ms)
Date: Sat, 15 Nov 2014 15:23:41 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e07d382b_17133fdfa4865bf0756b6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e07d28a5_17133fdfa4865bf075585";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e07d28a5_17133fdfa4865bf075585
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e07d28a5_17133fdfa4865bf075585
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e07d28a5_17133fdfa4865bf075585--

  Rendered text template (0.2ms)
Completed 204 No Content in 50ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (13.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (9.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:23:41.108456"], ["email", "test@email.com"], ["password_digest", "$2a$04$uN7g/LAdyoaZyjxm4qQZuOtZUglTQRMIp1.9bTIbxG9Vu/i9WZUwa"], ["updated_at", "2014-11-15 23:23:41.108456"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:23:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (3.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7e74ae7af82342428050dcca493e54e5' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:23:41.195504"], ["expiration", "2014-11-16 23:23:41.198612"], ["key", "7e74ae7af82342428050dcca493e54e5"], ["updated_at", "2014-11-15 23:23:41.195504"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 29ms (Views: 0.3ms | ActiveRecord: 5.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:07.517670"], ["email", "test@email.com"], ["password_digest", "$2a$04$04U0oC8TVTJwZ450Hiw9q.p4m9eFigrXGG8wxnzjgmUOG9c4MDbKK"], ["updated_at", "2014-11-15 23:24:07.517670"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '87fc34c3b08e9d3ce9d44dc1e259bc8e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "87fc34c3b08e9d3ce9d44dc1e259bc8e"], ["reset_password_token_exp", "2014-11-16 07:24:07.532851"], ["updated_at", "2014-11-15 23:24:07.563798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/87fc34c3b08e9d3ce9d44dc1e259bc8e/" for 127.0.0.1 at 2014-11-15 15:24:07 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"87fc34c3b08e9d3ce9d44dc1e259bc8e"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '87fc34c3b08e9d3ce9d44dc1e259bc8e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$r7Krv9g4NcxeQvBLiC..RuvL6/vfg4pHb2mWTgSRUaOa5CsIMRsKS"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:24:07.633130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 16ms (Views: 5.1ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (9.8ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:07.662975"], ["email", "test@email.com"], ["password_digest", "$2a$04$pw0a9r6R15xokzVjr229Qub8AXS1RDkjmWktV7LSyvzu3IV8vFUuq"], ["updated_at", "2014-11-15 23:24:07.662975"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (4.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7c342391252c8570d8c5e669778388eb' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7c342391252c8570d8c5e669778388eb"], ["reset_password_token_exp", "2014-11-16 07:24:07.677292"], ["updated_at", "2014-11-15 23:24:07.704811"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7c342391252c8570d8c5e669778388eb/" for 127.0.0.1 at 2014-11-15 15:24:07 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7c342391252c8570d8c5e669778388eb"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7c342391252c8570d8c5e669778388eb' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$eBSBVAEVMVAZArmhvQrb8.unvecO.8nv.lOZbGh6kXwXr35oN1.8G"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:24:07.736525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 27ms (Views: 0.5ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/7c342391252c8570d8c5e669778388eb/" for 127.0.0.1 at 2014-11-15 15:24:07 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7c342391252c8570d8c5e669778388eb"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7c342391252c8570d8c5e669778388eb' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (2.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (25.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:24:07.765471"], ["email", "test@email.com"], ["password_digest", "$2a$04$eWtzKCcWKe5vmiFTKXXFiORUMzn6mtsY8ZkCWoiMb51bZQSOIyiim"], ["updated_at", "2014-11-15 23:24:07.765471"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3f54a26abd59a4dc61eb3bf80c39553b' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3f54a26abd59a4dc61eb3bf80c39553b"], ["reset_password_token_exp", "2014-11-16 07:24:07.811507"], ["updated_at", "2014-11-15 23:24:07.840387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/3f54a26abd59a4dc61eb3bf80c39553b/" for 127.0.0.1 at 2014-11-15 15:24:07 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"3f54a26abd59a4dc61eb3bf80c39553b"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3f54a26abd59a4dc61eb3bf80c39553b' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 17ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:07.880306"], ["email", "test@email.com"], ["password_digest", "$2a$04$wBeFIBMAduWIm6PgQKfQL.cA3fmSfhAcYaGFPR.d8fpUf0vhXBrwy"], ["updated_at", "2014-11-15 23:24:07.880306"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bacd91430070d932ce2298552e4593b7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (19.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "bacd91430070d932ce2298552e4593b7"], ["reset_password_token_exp", "2014-11-16 07:24:07.882350"], ["updated_at", "2014-11-15 23:24:07.904211"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:24:07 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:07.946499"], ["email", "test@email.com"], ["password_digest", "$2a$04$6.jwtXWRksvHExeBn7Lscu0GjyM28TVs0Cq5Y88ofO1zYQV0ic2Q2"], ["updated_at", "2014-11-15 23:24:07.946499"], ["username", "test"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'be444ec90d62457d44d6353443497263' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "be444ec90d62457d44d6353443497263"], ["reset_password_token_exp", "2014-11-16 07:24:07.998472"], ["updated_at", "2014-11-15 23:24:08.001838"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/b6fe4885d7061d989000a409ab7f6d14/" for 127.0.0.1 at 2014-11-15 15:24:08 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b6fe4885d7061d989000a409ab7f6d14"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b6fe4885d7061d989000a409ab7f6d14' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (9.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:08.062986"], ["email", "test@email.com"], ["password_digest", "$2a$04$GrRQYZ7j05xdqXn69kPSYuiKnaNNzEUS1R7llHoxGNavDXQenW35y"], ["updated_at", "2014-11-15 23:24:08.062986"], ["username", "test"]]
  [1m[35m (5.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:24:08 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '76d0411a15d440e8b0b419b6a54f969c' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "76d0411a15d440e8b0b419b6a54f969c"], ["reset_password_token_exp", "2014-11-16 07:24:08.082319"], ["updated_at", "2014-11-15 23:24:08.103946"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 362.4ms

Sent mail to test@email.com (14.8ms)
Date: Sat, 15 Nov 2014 15:24:08 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e09875267_172f3fe629c63be07706@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e098740a6_172f3fe629c63be0769a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e098740a6_172f3fe629c63be0769a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/76d0411a15d440e8b0b419b6a54f969c/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e098740a6_172f3fe629c63be0769a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/76d0411a15d440e8b0b419b6a54f969c/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e098740a6_172f3fe629c63be0769a--

  Rendered text template (0.0ms)
Completed 204 No Content in 414ms (Views: 0.7ms | ActiveRecord: 3.8ms)
  [1m[35m (8.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:08.507878"], ["email", "test@email.com"], ["password_digest", "$2a$04$P4TEByl/de/MCXDtrZ0jeOtu6dl6K7Jj6nw5fAom4vJqjGvJTRcyu"], ["updated_at", "2014-11-15 23:24:08.507878"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:24:08 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (5.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.8ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 42.4ms

Sent mail to foo@bar.com (9.9ms)
Date: Sat, 15 Nov 2014 15:24:08 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e0988aa5a_172f3fe629c63be0772e6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e098858f0_172f3fe629c63be0771bf";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e098858f0_172f3fe629c63be0771bf
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e098858f0_172f3fe629c63be0771bf
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e098858f0_172f3fe629c63be0771bf--

  Rendered text template (0.0ms)
Completed 204 No Content in 57ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:08.582416"], ["email", "test@email.com"], ["password_digest", "$2a$04$4/wvfD/umVwoXfRP46lbr.wZyTBqdG8dhQ8/A2tjLZBedXp49hwoC"], ["updated_at", "2014-11-15 23:24:08.582416"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:24:08 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '77e11f123338dbe3cee6d31a43c46afa' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (4.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "77e11f123338dbe3cee6d31a43c46afa"], ["reset_password_token_exp", "2014-11-16 07:24:08.589254"], ["updated_at", "2014-11-15 23:24:08.609212"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 37.7ms

Sent mail to test@email.com (41.0ms)
Date: Sat, 15 Nov 2014 15:24:08 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e098a1741_172f3fe629c63be0774c5@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0989f408_172f3fe629c63be077347";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0989f408_172f3fe629c63be077347
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/77e11f123338dbe3cee6d31a43c46afa/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0989f408_172f3fe629c63be077347
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/77e11f123338dbe3cee6d31a43c46afa/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0989f408_172f3fe629c63be077347--

  Rendered text template (0.0ms)
Completed 204 No Content in 109ms (Views: 0.3ms | ActiveRecord: 5.8ms)
  [1m[35m (20.2ms)[0m  rollback transaction
  [1m[36m (2.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:08.742664"], ["email", "test@email.com"], ["password_digest", "$2a$04$mH9WoLRBEDEGvyUIVOHLhedZTwTN.UdqJW2K6baYjICDgwVbFqVq2"], ["updated_at", "2014-11-15 23:24:08.742664"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:24:08 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.2ms

Sent mail to foo@bar.com (34.1ms)
Date: Sat, 15 Nov 2014 15:24:08 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e098ba124_172f3fe629c63be07764a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e098b920e_172f3fe629c63be0775d4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e098b920e_172f3fe629c63be0775d4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e098b920e_172f3fe629c63be0775d4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e098b920e_172f3fe629c63be0775d4--

  Rendered text template (0.0ms)
Completed 204 No Content in 44ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:08.816194"], ["email", "test@email.com"], ["password_digest", "$2a$04$hZtGR6X4O2BbmIVjO5CTxuUjBOVHD/gmcM8P/1g49HjFSDAoKMTee"], ["updated_at", "2014-11-15 23:24:08.816194"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:24:08 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c6ebf021635f8c03517eee1fcbc1f255' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:24:08.870231"], ["expiration", "2014-11-16 23:24:08.880876"], ["key", "c6ebf021635f8c03517eee1fcbc1f255"], ["updated_at", "2014-11-15 23:24:08.870231"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 30ms (Views: 0.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:22.912504"], ["email", "test@email.com"], ["password_digest", "$2a$04$3aFHfisINQ93m0Rat6nQVOAzFiiA6MV6w/M5L/hQ2ZWX/bWsnZhpC"], ["updated_at", "2014-11-15 23:24:22.912504"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2b3bbd990bbaeb3a51210e82980d42c3' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2b3bbd990bbaeb3a51210e82980d42c3"], ["reset_password_token_exp", "2014-11-16 07:24:22.919664"], ["updated_at", "2014-11-15 23:24:22.921975"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2b3bbd990bbaeb3a51210e82980d42c3/" for 127.0.0.1 at 2014-11-15 15:24:22 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2b3bbd990bbaeb3a51210e82980d42c3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2b3bbd990bbaeb3a51210e82980d42c3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$ulKYr/t8by5NLl1TzLpq2.dF56YLubtbw3ihyCDq3ZK/c.htYZ.Gy"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:24:22.997713"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 38ms (Views: 25.0ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (3.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:23.052582"], ["email", "test@email.com"], ["password_digest", "$2a$04$LGwzIaIUf4Gm2cTcupMuvewhmSQaz2b1CLPV./S/c5hpDbGEzbBSy"], ["updated_at", "2014-11-15 23:24:23.052582"], ["username", "test"]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5cf1bda67ac71df13b2d4bb7ae310686' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (20.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5cf1bda67ac71df13b2d4bb7ae310686"], ["reset_password_token_exp", "2014-11-16 07:24:23.095694"], ["updated_at", "2014-11-15 23:24:23.143628"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/5cf1bda67ac71df13b2d4bb7ae310686/" for 127.0.0.1 at 2014-11-15 15:24:23 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"5cf1bda67ac71df13b2d4bb7ae310686"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5cf1bda67ac71df13b2d4bb7ae310686' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$3bYN7h3Y2sL5igdTEJfcJu0L6aqr8DrcQZI9w3rpZnEW.FsB1sKAm"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:24:23.155547"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/5cf1bda67ac71df13b2d4bb7ae310686/" for 127.0.0.1 at 2014-11-15 15:24:23 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"5cf1bda67ac71df13b2d4bb7ae310686"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5cf1bda67ac71df13b2d4bb7ae310686' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (10.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:24:23.186388"], ["email", "test@email.com"], ["password_digest", "$2a$04$i.PIchl/BQ4yvrP.JILZz.ADHk7kbTs0lpMG9QG/DWwKl/wyqkKuu"], ["updated_at", "2014-11-15 23:24:23.186388"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '44db3610579aacea5251625e296f72f7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (5.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "44db3610579aacea5251625e296f72f7"], ["reset_password_token_exp", "2014-11-16 07:24:23.219534"], ["updated_at", "2014-11-15 23:24:23.236418"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/44db3610579aacea5251625e296f72f7/" for 127.0.0.1 at 2014-11-15 15:24:23 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"44db3610579aacea5251625e296f72f7"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '44db3610579aacea5251625e296f72f7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 14ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (5.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:23.284289"], ["email", "test@email.com"], ["password_digest", "$2a$04$jW5d/fMmjykMI6HG2lXBZ.DKZ1XflQKqhW9C81wA1k4.kI46bRw9i"], ["updated_at", "2014-11-15 23:24:23.284289"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b90efd29b3cfb7dfe589535e14eea75c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (5.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "b90efd29b3cfb7dfe589535e14eea75c"], ["reset_password_token_exp", "2014-11-16 07:24:23.289375"], ["updated_at", "2014-11-15 23:24:23.298363"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:24:23 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:23.358316"], ["email", "test@email.com"], ["password_digest", "$2a$04$DIJubuLWfeERxwTKK9MZOuop3KrGeBgbS14bkyApB/sJ9ILubJD6u"], ["updated_at", "2014-11-15 23:24:23.358316"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '902a96f87458be685a6ab398e34d60b1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "902a96f87458be685a6ab398e34d60b1"], ["reset_password_token_exp", "2014-11-16 07:24:23.362096"], ["updated_at", "2014-11-15 23:24:23.369646"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/27aa2c2edd5488ec2b2fa7d97f8c0900/" for 127.0.0.1 at 2014-11-15 15:24:23 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"27aa2c2edd5488ec2b2fa7d97f8c0900"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '27aa2c2edd5488ec2b2fa7d97f8c0900' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:23.438703"], ["email", "test@email.com"], ["password_digest", "$2a$04$LVKA9ehPhyrvGYHe2qX.KedyKRuzwj5837Sgde.bDKg00SpvRuI3G"], ["updated_at", "2014-11-15 23:24:23.438703"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:24:23 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c035dc85e5acc03a7ace5a5cadf85511' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c035dc85e5acc03a7ace5a5cadf85511"], ["reset_password_token_exp", "2014-11-16 07:24:23.455065"], ["updated_at", "2014-11-15 23:24:23.469263"]]
  [1m[36m (7.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 361.0ms

Sent mail to test@email.com (7.0ms)
Date: Sat, 15 Nov 2014 15:24:23 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e0a7d08eb_174a3fe40cc65be41432b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0a7cf3f7_174a3fe40cc65be414284";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0a7cf3f7_174a3fe40cc65be414284
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/c035dc85e5acc03a7ace5a5cadf85511/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0a7cf3f7_174a3fe40cc65be414284
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/c035dc85e5acc03a7ace5a5cadf85511/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0a7cf3f7_174a3fe40cc65be414284--

  Rendered text template (0.0ms)
Completed 204 No Content in 407ms (Views: 0.5ms | ActiveRecord: 10.3ms)
  [1m[35m (8.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:23.878866"], ["email", "test@email.com"], ["password_digest", "$2a$04$/V1NZgfwf2imGF1mK92jO.aMuOl09t5bu6IQ.H97SyzakGB5ulwbu"], ["updated_at", "2014-11-15 23:24:23.878866"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:24:23 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (3.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (4.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 44.4ms

Sent mail to foo@bar.com (12.4ms)
Date: Sat, 15 Nov 2014 15:24:23 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e0a7e6400_174a3fe40cc65be41455b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0a7e21b9_174a3fe40cc65be41447f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0a7e21b9_174a3fe40cc65be41447f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e0a7e21b9_174a3fe40cc65be41447f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e0a7e21b9_174a3fe40cc65be41447f--

  Rendered text template (0.0ms)
Completed 204 No Content in 68ms (Views: 0.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:23.957431"], ["email", "test@email.com"], ["password_digest", "$2a$04$00R79oHwk60jpVbKjfsuUONl1zLRkXo/rxFhMxdDg/PasnpERWGJG"], ["updated_at", "2014-11-15 23:24:23.957431"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:24:23 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3f42fa1d02024a0fe1af536234b17d2a' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (7.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3f42fa1d02024a0fe1af536234b17d2a"], ["reset_password_token_exp", "2014-11-16 07:24:23.964146"], ["updated_at", "2014-11-15 23:24:23.973139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 29.0ms

Sent mail to test@email.com (24.0ms)
Date: Sat, 15 Nov 2014 15:24:24 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e0a84696_174a3fe40cc65be4147df@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0a7f3a62_174a3fe40cc65be414683";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0a7f3a62_174a3fe40cc65be414683
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/3f42fa1d02024a0fe1af536234b17d2a/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0a7f3a62_174a3fe40cc65be414683
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/3f42fa1d02024a0fe1af536234b17d2a/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0a7f3a62_174a3fe40cc65be414683--

  Rendered text template (0.0ms)
Completed 204 No Content in 77ms (Views: 0.5ms | ActiveRecord: 8.5ms)
  [1m[35m (5.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (12.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:24.072931"], ["email", "test@email.com"], ["password_digest", "$2a$04$2A4WN68oUk5BZFcEPyf90.oJ8W6FiUjJSQ9c3Su2OI/0l54MIVGCi"], ["updated_at", "2014-11-15 23:24:24.072931"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:24:24 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 10.9ms

Sent mail to foo@bar.com (15.0ms)
Date: Sat, 15 Nov 2014 15:24:24 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e0a820d09_174a3fe40cc65be4149dd@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0a81cde5_174a3fe40cc65be414825";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0a81cde5_174a3fe40cc65be414825
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e0a81cde5_174a3fe40cc65be414825
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e0a81cde5_174a3fe40cc65be414825--

  Rendered text template (0.0ms)
Completed 204 No Content in 35ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (8.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:24:24.190462"], ["email", "test@email.com"], ["password_digest", "$2a$04$.W1uI65BXfTWkYdZwlp6wOZj9pCisilj2RZcVD32JmUWyjSN.C3mO"], ["updated_at", "2014-11-15 23:24:24.190462"], ["username", "test"]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:24:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'bf3f300a8b0dddf5540eb2ef9ae0df9c' LIMIT 1[0m
  [1m[35mSQL (17.1ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:24:24.252680"], ["expiration", "2014-11-16 23:24:24.255674"], ["key", "bf3f300a8b0dddf5540eb2ef9ae0df9c"], ["updated_at", "2014-11-15 23:24:24.252680"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 66ms (Views: 0.3ms | ActiveRecord: 18.4ms)
  [1m[35m (17.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:00.380265"], ["email", "test@email.com"], ["password_digest", "$2a$04$z0Fmg5Dc0Bf5RVq419OGGeAnjcIG3lY3EhWMfpX3augcWFk3wJWUK"], ["updated_at", "2014-11-15 23:25:00.380265"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a2ff63b8edb76b237819decc08f5b036' LIMIT 1[0m
  [1m[35m (2.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a2ff63b8edb76b237819decc08f5b036"], ["reset_password_token_exp", "2014-11-16 07:25:00.387480"], ["updated_at", "2014-11-15 23:25:00.411580"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a2ff63b8edb76b237819decc08f5b036/" for 127.0.0.1 at 2014-11-15 15:25:00 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a2ff63b8edb76b237819decc08f5b036"}
  [1m[36mUser Load (2.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a2ff63b8edb76b237819decc08f5b036' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$/hPpEgwCT9rHnqi9rXVsXOGRHNMKrcpnTnipPnRUkzF2Sqq.oqqXK"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:25:00.471825"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 24ms (Views: 5.5ms | ActiveRecord: 3.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:00.501314"], ["email", "test@email.com"], ["password_digest", "$2a$04$D5LdRydhZ/a2zLuaqrG54.m8pyitcjqhKmihGhZPl4O4Rsd52Y4Oi"], ["updated_at", "2014-11-15 23:25:00.501314"], ["username", "test"]]
  [1m[35m (1.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '68f474e67a1cd85e2bc9c104fb85dec2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "68f474e67a1cd85e2bc9c104fb85dec2"], ["reset_password_token_exp", "2014-11-16 07:25:00.545940"], ["updated_at", "2014-11-15 23:25:00.550026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/68f474e67a1cd85e2bc9c104fb85dec2/" for 127.0.0.1 at 2014-11-15 15:25:00 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"68f474e67a1cd85e2bc9c104fb85dec2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '68f474e67a1cd85e2bc9c104fb85dec2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$AOExMFoegHGfw7QZzO324usVwxJCue.drJT6oJX2CfUzkRc3kcLXq"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:25:00.572084"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/68f474e67a1cd85e2bc9c104fb85dec2/" for 127.0.0.1 at 2014-11-15 15:25:00 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"68f474e67a1cd85e2bc9c104fb85dec2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '68f474e67a1cd85e2bc9c104fb85dec2' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:25:00.585060"], ["email", "test@email.com"], ["password_digest", "$2a$04$R7gveYvNzH.FSWgkfxnY0.vXqf723CdGoQXeilBUjjhsWG57gyU/u"], ["updated_at", "2014-11-15 23:25:00.585060"], ["username", "test"]]
  [1m[36m (14.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c769b28b1e3ebb0a3e5c5fb8432a2fc3' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c769b28b1e3ebb0a3e5c5fb8432a2fc3"], ["reset_password_token_exp", "2014-11-16 07:25:00.622516"], ["updated_at", "2014-11-15 23:25:00.653516"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/c769b28b1e3ebb0a3e5c5fb8432a2fc3/" for 127.0.0.1 at 2014-11-15 15:25:00 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"c769b28b1e3ebb0a3e5c5fb8432a2fc3"}
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c769b28b1e3ebb0a3e5c5fb8432a2fc3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 24ms (Views: 0.3ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:00.708399"], ["email", "test@email.com"], ["password_digest", "$2a$04$rWHddUM/zpqiwcViFhjIJ.QETjyZbQCdxd5rfHTjp5TQUHbvXSbQu"], ["updated_at", "2014-11-15 23:25:00.708399"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '828b2198821a5300a6464b80be680e07' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "828b2198821a5300a6464b80be680e07"], ["reset_password_token_exp", "2014-11-16 07:25:00.710820"], ["updated_at", "2014-11-15 23:25:00.712775"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:25:00 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:00.778494"], ["email", "test@email.com"], ["password_digest", "$2a$04$d4gtvwVkIacGcye.zTvZoucs6G/uSNUlvcaiQhjYeINHBllqktiCC"], ["updated_at", "2014-11-15 23:25:00.778494"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2ba829679cd344d52b43a26649d475be' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2ba829679cd344d52b43a26649d475be"], ["reset_password_token_exp", "2014-11-16 07:25:00.798555"], ["updated_at", "2014-11-15 23:25:00.817216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d62fd136a17fa47c91df793c8f6306fa/" for 127.0.0.1 at 2014-11-15 15:25:00 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d62fd136a17fa47c91df793c8f6306fa"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd62fd136a17fa47c91df793c8f6306fa' LIMIT 1[0m
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 6ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (9.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:00.863482"], ["email", "test@email.com"], ["password_digest", "$2a$04$r2zbjIeHyhSpr8uR2d7gTem1zdk8EU8cjFSk11rnbMgRGyhWEDLEe"], ["updated_at", "2014-11-15 23:25:00.863482"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:25:00 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '187e2d1c146e46f89c6e7bb465b29adb' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "187e2d1c146e46f89c6e7bb465b29adb"], ["reset_password_token_exp", "2014-11-16 07:25:00.882545"], ["updated_at", "2014-11-15 23:25:00.900183"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 304.4ms

Sent mail to test@email.com (14.1ms)
Date: Sat, 15 Nov 2014 15:25:01 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e0cd36932_17673ff4b9c01be056886@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0cd35623_17673ff4b9c01be056744";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0cd35623_17673ff4b9c01be056744
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/187e2d1c146e46f89c6e7bb465b29adb/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0cd35623_17673ff4b9c01be056744
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/187e2d1c146e46f89c6e7bb465b29adb/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0cd35623_17673ff4b9c01be056744--

  Rendered text template (0.0ms)
Completed 204 No Content in 367ms (Views: 1.0ms | ActiveRecord: 3.6ms)
  [1m[35m (9.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:01.250994"], ["email", "test@email.com"], ["password_digest", "$2a$04$AcShsCFfcGhCy.ID/lXu4..os63hDwV6aqHLxNt5LG70HwK.YGOKy"], ["updated_at", "2014-11-15 23:25:01.250994"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:25:01 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (23.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 43.8ms

Sent mail to foo@bar.com (5.0ms)
Date: Sat, 15 Nov 2014 15:25:01 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e0cd4d99f_17673ff4b9c01be0570de@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0cd4cd42_17673ff4b9c01be056939";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0cd4cd42_17673ff4b9c01be056939
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e0cd4cd42_17673ff4b9c01be056939
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e0cd4cd42_17673ff4b9c01be056939--

  Rendered text template (0.0ms)
Completed 204 No Content in 53ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:01.335322"], ["email", "test@email.com"], ["password_digest", "$2a$04$m2u0IMlFdQJztTaKSJ3jVe/wsdI2pg/CRkURHwJNj94PNAdS3PTfO"], ["updated_at", "2014-11-15 23:25:01.335322"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:25:01 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1714e0b876398f94406223b1f8272a5e' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (4.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "1714e0b876398f94406223b1f8272a5e"], ["reset_password_token_exp", "2014-11-16 07:25:01.386161"], ["updated_at", "2014-11-15 23:25:01.388475"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 5.9ms

Sent mail to test@email.com (20.0ms)
Date: Sat, 15 Nov 2014 15:25:01 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e0cd633cb_17673ff4b9c01be0572de@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0cd6271e_17673ff4b9c01be05715e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0cd6271e_17673ff4b9c01be05715e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/1714e0b876398f94406223b1f8272a5e/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0cd6271e_17673ff4b9c01be05715e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/1714e0b876398f94406223b1f8272a5e/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0cd6271e_17673ff4b9c01be05715e--

  Rendered text template (0.1ms)
Completed 204 No Content in 43ms (Views: 3.1ms | ActiveRecord: 5.6ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:01.442153"], ["email", "test@email.com"], ["password_digest", "$2a$04$rJjz5VetIqFq05HLwFyaMOBtH4Q2b5sEtECWIujBiwaM7OxC/En4u"], ["updated_at", "2014-11-15 23:25:01.442153"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:25:01 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 20.1ms

Sent mail to foo@bar.com (32.9ms)
Date: Sat, 15 Nov 2014 15:25:01 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e0cd79b32_17673ff4b9c01be05743f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0cd714d6_17673ff4b9c01be057328";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0cd714d6_17673ff4b9c01be057328
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e0cd714d6_17673ff4b9c01be057328
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e0cd714d6_17673ff4b9c01be057328--

  Rendered text template (0.4ms)
Completed 204 No Content in 62ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:01.521886"], ["email", "test@email.com"], ["password_digest", "$2a$04$FPxzevJtkl4ad2NwRQbUJuiu9RT3wB6il.8E0dIkvh2bDcXyU8AKS"], ["updated_at", "2014-11-15 23:25:01.521886"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:25:01 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'e5114eb5c6d6bb281572629270531c6f' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:25:01.597679"], ["expiration", "2014-11-16 23:25:01.603931"], ["key", "e5114eb5c6d6bb281572629270531c6f"], ["updated_at", "2014-11-15 23:25:01.597679"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 27ms (Views: 0.3ms | ActiveRecord: 1.6ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:01.618365"], ["email", "test@email.com"], ["password_digest", "$2a$04$CyeDuJVZptWEgFNe2Npr3.SEFrQr6x2H870jMnmdlcH3ct0nwRC.y"], ["updated_at", "2014-11-15 23:25:01.618365"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:25:01 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email=NULL)  ORDER BY "users"."id" ASC LIMIT 1[0m
Error cleaning up old authentication sessions
Completed 401 Unauthorized in 8ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (2.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:36.784031"], ["email", "test@email.com"], ["password_digest", "$2a$04$O4pl8y9ZFDJ1wE8Oc/VFkeyUGhndx0/RrStH8n10uFSxhAIbob556"], ["updated_at", "2014-11-15 23:25:36.784031"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '063ad927e9dfacade6bd1cfe3d910a91' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "063ad927e9dfacade6bd1cfe3d910a91"], ["reset_password_token_exp", "2014-11-16 07:25:36.790793"], ["updated_at", "2014-11-15 23:25:36.793028"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/063ad927e9dfacade6bd1cfe3d910a91/" for 127.0.0.1 at 2014-11-15 15:25:36 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"063ad927e9dfacade6bd1cfe3d910a91"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '063ad927e9dfacade6bd1cfe3d910a91' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$oYlGgYyME/raoVRz6NslseROUrh7I2j9DmtYjMGSTn.iK2k61uf9C"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:25:36.858424"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 24ms (Views: 12.5ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:36.903887"], ["email", "test@email.com"], ["password_digest", "$2a$04$HPiTbh9lLUadZIUe4pyAm.ys02gMOPZmZjBz61KoO6Y4KWRnljTMa"], ["updated_at", "2014-11-15 23:25:36.903887"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9df454c02c8e721c655c1a834a93bf94' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "9df454c02c8e721c655c1a834a93bf94"], ["reset_password_token_exp", "2014-11-16 07:25:36.915809"], ["updated_at", "2014-11-15 23:25:36.944029"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/9df454c02c8e721c655c1a834a93bf94/" for 127.0.0.1 at 2014-11-15 15:25:36 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9df454c02c8e721c655c1a834a93bf94"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9df454c02c8e721c655c1a834a93bf94' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$QWibz2QcGT2stzaRyNiFIu.A5vZk0lgp.9RalJJOoD7xLCmgXameq"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:25:36.992179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 34ms (Views: 0.5ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/9df454c02c8e721c655c1a834a93bf94/" for 127.0.0.1 at 2014-11-15 15:25:36 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9df454c02c8e721c655c1a834a93bf94"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9df454c02c8e721c655c1a834a93bf94' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (8.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:25:37.013638"], ["email", "test@email.com"], ["password_digest", "$2a$04$/1foyJMsTxj3Iu.RSgMyUuU.6.sz2JS0QNm0yQW.IB3vKFVNC1f3O"], ["updated_at", "2014-11-15 23:25:37.013638"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '52426ab8fabef0579da9f82287b13728' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (12.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "52426ab8fabef0579da9f82287b13728"], ["reset_password_token_exp", "2014-11-16 07:25:37.015671"], ["updated_at", "2014-11-15 23:25:37.029618"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/52426ab8fabef0579da9f82287b13728/" for 127.0.0.1 at 2014-11-15 15:25:37 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"52426ab8fabef0579da9f82287b13728"}
  [1m[35mUser Load (10.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '52426ab8fabef0579da9f82287b13728' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 32ms (Views: 0.4ms | ActiveRecord: 11.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:37.091202"], ["email", "test@email.com"], ["password_digest", "$2a$04$oz.R0hhqipSe.Ft/Bl6Rhuv3mhaSHMfz7QikVopR3xSGSy5ulAesW"], ["updated_at", "2014-11-15 23:25:37.091202"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '06cda2930bf415421c1680bd82f17181' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (28.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "06cda2930bf415421c1680bd82f17181"], ["reset_password_token_exp", "2014-11-16 07:25:37.108418"], ["updated_at", "2014-11-15 23:25:37.116023"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:25:37 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (37.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:37.182609"], ["email", "test@email.com"], ["password_digest", "$2a$04$p8ggSqyMe71Lu6zzBtykaOQuGUS0ZxifSATwgNk/tn612fJtoyn0K"], ["updated_at", "2014-11-15 23:25:37.182609"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c356933ed8ef6d849a7cd23395eac619' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c356933ed8ef6d849a7cd23395eac619"], ["reset_password_token_exp", "2014-11-16 07:25:37.232353"], ["updated_at", "2014-11-15 23:25:37.244148"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/abda42bbb81468e1a9b146d5a3932331/" for 127.0.0.1 at 2014-11-15 15:25:37 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"abda42bbb81468e1a9b146d5a3932331"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'abda42bbb81468e1a9b146d5a3932331' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (14.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (11.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:37.308195"], ["email", "test@email.com"], ["password_digest", "$2a$04$dA/Co85/qyRt6Zmlnh.wLe34ZX3ABTe/jyjURGg6xaqWAtoxEH.LO"], ["updated_at", "2014-11-15 23:25:37.308195"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:25:37 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8877c066136ed4f904c89e6958ee88e7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8877c066136ed4f904c89e6958ee88e7"], ["reset_password_token_exp", "2014-11-16 07:25:37.313780"], ["updated_at", "2014-11-15 23:25:37.316218"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 349.6ms

Sent mail to test@email.com (12.2ms)
Date: Sat, 15 Nov 2014 15:25:37 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e0f1aeae8_17863fcdf5851be8809a6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0f1ad1d2_17863fcdf5851be8808da";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0f1ad1d2_17863fcdf5851be8808da
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/8877c066136ed4f904c89e6958ee88e7/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0f1ad1d2_17863fcdf5851be8808da
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/8877c066136ed4f904c89e6958ee88e7/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0f1ad1d2_17863fcdf5851be8808da--

  Rendered text template (0.1ms)
Completed 204 No Content in 414ms (Views: 1.7ms | ActiveRecord: 1.2ms)
  [1m[35m (8.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:37.743166"], ["email", "test@email.com"], ["password_digest", "$2a$04$kXMVsCdLV7U0jlaIAyYYK.66uWEt6.4aQIX2z5T4/hAnkrJTck8sW"], ["updated_at", "2014-11-15 23:25:37.743166"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:25:37 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.7ms

Sent mail to foo@bar.com (4.0ms)
Date: Sat, 15 Nov 2014 15:25:37 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e0f1b8aa3_17863fcdf5851be88114b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0f1b80fd_17863fcdf5851be88107d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0f1b80fd_17863fcdf5851be88107d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e0f1b80fd_17863fcdf5851be88107d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e0f1b80fd_17863fcdf5851be88107d--

  Rendered text template (0.3ms)
Completed 204 No Content in 17ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:37.788913"], ["email", "test@email.com"], ["password_digest", "$2a$04$k6uTdI5Kj4ITcJOAo.QCmO3P3avJfyiyPcwKwrJHlkrG6PjRL3/EG"], ["updated_at", "2014-11-15 23:25:37.788913"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:25:37 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'baf207c02c05537af56c6760a32e7ff2' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "baf207c02c05537af56c6760a32e7ff2"], ["reset_password_token_exp", "2014-11-16 07:25:37.813575"], ["updated_at", "2014-11-15 23:25:37.824944"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 10.9ms

Sent mail to test@email.com (31.1ms)
Date: Sat, 15 Nov 2014 15:25:37 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e0f1cdbdc_17863fcdf5851be8813ae@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0f1caee1_17863fcdf5851be881252";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0f1caee1_17863fcdf5851be881252
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/baf207c02c05537af56c6760a32e7ff2/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e0f1caee1_17863fcdf5851be881252
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/baf207c02c05537af56c6760a32e7ff2/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e0f1caee1_17863fcdf5851be881252--

  Rendered text template (0.1ms)
Completed 204 No Content in 75ms (Views: 1.7ms | ActiveRecord: 3.8ms)
  [1m[35m (9.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:37.892364"], ["email", "test@email.com"], ["password_digest", "$2a$04$nA0KVRYEAbdCoNd9V0NthupZ0yzDlKvQvA65XDEjfRXuqbUb.3EFi"], ["updated_at", "2014-11-15 23:25:37.892364"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:25:37 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.3ms

Sent mail to foo@bar.com (53.5ms)
Date: Sat, 15 Nov 2014 15:25:37 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e0f1dc501_17863fcdf5851be88152e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e0f1db713_17863fcdf5851be88145d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e0f1db713_17863fcdf5851be88145d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e0f1db713_17863fcdf5851be88145d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e0f1db713_17863fcdf5851be88145d--

  Rendered text template (0.0ms)
Completed 204 No Content in 59ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (20.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:37.992525"], ["email", "test@email.com"], ["password_digest", "$2a$04$UYuIenPmyTSvCQjIGPS6geINXZMmfPsMqCx.0ANK8gIU.Zl3jGmc."], ["updated_at", "2014-11-15 23:25:37.992525"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:25:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0bdcd15b8ea351fab5f758930dcefd02' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:25:38.065792"], ["expiration", "2014-11-16 23:25:38.074050"], ["key", "0bdcd15b8ea351fab5f758930dcefd02"], ["updated_at", "2014-11-15 23:25:38.065792"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 59ms (Views: 1.7ms | ActiveRecord: 3.1ms)
  [1m[35m (8.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:25:38.104603"], ["email", "test@email.com"], ["password_digest", "$2a$04$QkdfQ4GKe21eS8gCvO4mWuh3TytPLdGg0/KuFcyGUIZcgnjzbpP6u"], ["updated_at", "2014-11-15 23:25:38.104603"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:25:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5c8399225fc82ed8c772a7407b1e3783' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:25:38.155643"], ["expiration", "2014-11-16 23:25:38.158612"], ["key", "5c8399225fc82ed8c772a7407b1e3783"], ["updated_at", "2014-11-15 23:25:38.155643"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 19ms (Views: 2.5ms | ActiveRecord: 1.4ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:31.502735"], ["email", "test@email.com"], ["password_digest", "$2a$04$Sbf7aeb2.jiLWHcjbi8P8OwOixM6wLOYpLfnnV4unP1KzR7C9DoDG"], ["updated_at", "2014-11-15 23:26:31.502735"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd5e469f2fd1e21fe48a88b647dbeb683' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d5e469f2fd1e21fe48a88b647dbeb683"], ["reset_password_token_exp", "2014-11-16 07:26:31.534109"], ["updated_at", "2014-11-15 23:26:31.543185"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d5e469f2fd1e21fe48a88b647dbeb683/" for 127.0.0.1 at 2014-11-15 15:26:31 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d5e469f2fd1e21fe48a88b647dbeb683"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd5e469f2fd1e21fe48a88b647dbeb683' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$JcwPmHhCTXOpWW9W42VWLe7VKShuLO1eR8EfUAUZFEGmHtX2oXedy"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:26:31.602750"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 25ms (Views: 6.7ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:31.631784"], ["email", "test@email.com"], ["password_digest", "$2a$04$khnPMUsr7GEzYCzkjrZW2evU6UZjjgqojWrasJsu3y1SzKTjiS5di"], ["updated_at", "2014-11-15 23:26:31.631784"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a8854897d2c5aed1220dad555eeec523' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a8854897d2c5aed1220dad555eeec523"], ["reset_password_token_exp", "2014-11-16 07:26:31.668100"], ["updated_at", "2014-11-15 23:26:31.696038"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a8854897d2c5aed1220dad555eeec523/" for 127.0.0.1 at 2014-11-15 15:26:31 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a8854897d2c5aed1220dad555eeec523"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a8854897d2c5aed1220dad555eeec523' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$v0g0iUH2o4Yh8rgHNZe4JOrIBoX3I9cJz5C4XIhUuZdbuuOgQ1sUK"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:26:31.706442"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/a8854897d2c5aed1220dad555eeec523/" for 127.0.0.1 at 2014-11-15 15:26:31 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a8854897d2c5aed1220dad555eeec523"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a8854897d2c5aed1220dad555eeec523' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 8ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[36m (8.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:26:31.740750"], ["email", "test@email.com"], ["password_digest", "$2a$04$g/gh/JLKXyQvZEcqkzquQeDmz/A/1WS2JeuVWdvM8ax8t3uVCxWBu"], ["updated_at", "2014-11-15 23:26:31.740750"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4e8ad12f7077e2f39bd30f1dd3779c58' LIMIT 1
  [1m[36m (12.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "4e8ad12f7077e2f39bd30f1dd3779c58"], ["reset_password_token_exp", "2014-11-16 07:26:31.772719"], ["updated_at", "2014-11-15 23:26:31.799183"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/4e8ad12f7077e2f39bd30f1dd3779c58/" for 127.0.0.1 at 2014-11-15 15:26:31 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"4e8ad12f7077e2f39bd30f1dd3779c58"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '4e8ad12f7077e2f39bd30f1dd3779c58' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 27ms (Views: 0.3ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:31.840869"], ["email", "test@email.com"], ["password_digest", "$2a$04$TNWqJo7DJPLCVO8r6Wdka.HKAW235kf39UuCc2vwpYXQ7EHQk7e8."], ["updated_at", "2014-11-15 23:26:31.840869"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '29747ece00a26bf943305dc24368983c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "29747ece00a26bf943305dc24368983c"], ["reset_password_token_exp", "2014-11-16 07:26:31.844231"], ["updated_at", "2014-11-15 23:26:31.860604"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:26:31 -0800
  [1m[36mUser Load (4.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:31.906965"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZaMO4vqiDbBAKI7pwsaS2O9bYRasXcFCNG7RD2s5JGl5jbzKMGdau"], ["updated_at", "2014-11-15 23:26:31.906965"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '17ad0659910b7ac242cb6a5660e95ae5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "17ad0659910b7ac242cb6a5660e95ae5"], ["reset_password_token_exp", "2014-11-16 07:26:31.913769"], ["updated_at", "2014-11-15 23:26:31.953678"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/3af23790042cd4190451dde0245e1133/" for 127.0.0.1 at 2014-11-15 15:26:31 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"3af23790042cd4190451dde0245e1133"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3af23790042cd4190451dde0245e1133' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:31.976081"], ["email", "test@email.com"], ["password_digest", "$2a$04$oe8vYYIiqF6yFLu55mTmhOmnzAXl8e07SLRugCGdPwpKiGOihkspy"], ["updated_at", "2014-11-15 23:26:31.976081"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:26:32 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bbe760be2ec3c74430dcd439909b0c7e' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bbe760be2ec3c74430dcd439909b0c7e"], ["reset_password_token_exp", "2014-11-16 07:26:32.042784"], ["updated_at", "2014-11-15 23:26:32.045983"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (4.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 392.8ms

Sent mail to test@email.com (9.6ms)
Date: Sat, 15 Nov 2014 15:26:32 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e12871bef_17a53fc8c2457bec4381a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e1287047b_17a53fc8c2457bec43752";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e1287047b_17a53fc8c2457bec43752
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/bbe760be2ec3c74430dcd439909b0c7e/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e1287047b_17a53fc8c2457bec43752
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/bbe760be2ec3c74430dcd439909b0c7e/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e1287047b_17a53fc8c2457bec43752--

  Rendered text template (0.0ms)
Completed 204 No Content in 434ms (Views: 0.5ms | ActiveRecord: 1.2ms)
  [1m[35m (11.5ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:32.506716"], ["email", "test@email.com"], ["password_digest", "$2a$04$hOOfa5B1WTeZ/3pl6UCCjOs2yTOKBRwkjZ.5wBrjj14fVn4Euzfcq"], ["updated_at", "2014-11-15 23:26:32.506716"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:26:32 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (7.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 20.0ms

Sent mail to foo@bar.com (20.7ms)
Date: Sat, 15 Nov 2014 15:26:32 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e128871b3_17a53fc8c2457bec4408a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e12886a80_17a53fc8c2457bec43989";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e12886a80_17a53fc8c2457bec43989
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e12886a80_17a53fc8c2457bec43989
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e12886a80_17a53fc8c2457bec43989--

  Rendered text template (0.0ms)
Completed 204 No Content in 47ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[35m (10.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:32.635567"], ["email", "test@email.com"], ["password_digest", "$2a$04$q/Pf8Fi/oE/1foPvqba7HeuzkpcDn7S/pmCZ/7tT0ecTTiGjfHlRO"], ["updated_at", "2014-11-15 23:26:32.635567"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:26:32 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7c0efb51c83dabfa81ebe157db475faf' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7c0efb51c83dabfa81ebe157db475faf"], ["reset_password_token_exp", "2014-11-16 07:26:32.660289"], ["updated_at", "2014-11-15 23:26:32.665258"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 4.2ms

Sent mail to test@email.com (52.1ms)
Date: Sat, 15 Nov 2014 15:26:32 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e128a4b22_17a53fc8c2457bec44264@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e128a365e_17a53fc8c2457bec441e1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e128a365e_17a53fc8c2457bec441e1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/7c0efb51c83dabfa81ebe157db475faf/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e128a365e_17a53fc8c2457bec441e1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/7c0efb51c83dabfa81ebe157db475faf/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e128a365e_17a53fc8c2457bec441e1--

  Rendered text template (0.0ms)
Completed 204 No Content in 67ms (Views: 0.5ms | ActiveRecord: 1.2ms)
  [1m[35m (8.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:32.738444"], ["email", "test@email.com"], ["password_digest", "$2a$04$d7ekyxXsfUTNAqA5hlFAkO9vQY.lm3rAb7L017e4pmE2KB8pBpqRS"], ["updated_at", "2014-11-15 23:26:32.738444"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:26:32 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 8.3ms

Sent mail to foo@bar.com (13.3ms)
Date: Sat, 15 Nov 2014 15:26:32 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e128bfdee_17a53fc8c2457bec44481@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e128bdb3f_17a53fc8c2457bec443d1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e128bdb3f_17a53fc8c2457bec443d1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e128bdb3f_17a53fc8c2457bec443d1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e128bdb3f_17a53fc8c2457bec443d1--

  Rendered text template (0.0ms)
Completed 204 No Content in 53ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (15.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:32.809020"], ["email", "test@email.com"], ["password_digest", "$2a$04$Ii04ATDFI0zM8vtbfzxhK.jwcb/ljOg1RWHcNXlpMLZBydiN7lSAG"], ["updated_at", "2014-11-15 23:26:32.809020"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:26:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'dbd1ce9df295374ac0f8b8390317a43d' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:26:32.904602"], ["expiration", "2014-11-16 23:26:32.908004"], ["key", "dbd1ce9df295374ac0f8b8390317a43d"], ["updated_at", "2014-11-15 23:26:32.904602"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 33ms (Views: 0.4ms | ActiveRecord: 2.8ms)
  [1m[35m (11.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (11.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:32.971905"], ["email", "test@email.com"], ["password_digest", "$2a$04$wkv/LqUMrNIJl5lxnwTmBe2uIIoULAURQ.RMhjMmJ/U/N3mGrUSTy"], ["updated_at", "2014-11-15 23:26:32.971905"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:26:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (2.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c3bfd9412279f0a1d205fee176f4a1da' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:26:33.001268"], ["expiration", "2014-11-16 23:26:33.006010"], ["key", "c3bfd9412279f0a1d205fee176f4a1da"], ["updated_at", "2014-11-15 23:26:33.001268"], ["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Error cleaning up old authentication sessions
Completed 201 Created in 46ms (Views: 0.5ms | ActiveRecord: 4.6ms)
  [1m[35m (10.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:26:33.043475"], ["email", "test@email.com"], ["password_digest", "$2a$04$vRqR1wXUR9vOpoYPDCMoG.fsXasSWme3bq77tBWu9AcrPcPHw.vhW"], ["updated_at", "2014-11-15 23:26:33.043475"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:26:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Error cleaning up old authentication sessions
Completed 401 Unauthorized in 44ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (10.2ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:43.925169"], ["email", "test@email.com"], ["password_digest", "$2a$04$xDD3NXiygca0RvkeDkcnr.vfu07WJ2yDGNjt7oaxklH9O3GZ4bNM6"], ["updated_at", "2014-11-15 23:27:43.925169"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6f9f6ecbc79c7313adbf3c3d4268ce2c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6f9f6ecbc79c7313adbf3c3d4268ce2c"], ["reset_password_token_exp", "2014-11-16 07:27:43.958392"], ["updated_at", "2014-11-15 23:27:43.968535"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/6f9f6ecbc79c7313adbf3c3d4268ce2c/" for 127.0.0.1 at 2014-11-15 15:27:43 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6f9f6ecbc79c7313adbf3c3d4268ce2c"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6f9f6ecbc79c7313adbf3c3d4268ce2c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$7H/NJMJUVkEpBMAUdEdnaOB05gB3SEbCcQbhksimNEHF8laHLV296"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:27:44.024059"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 18ms (Views: 6.9ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (10.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:44.054300"], ["email", "test@email.com"], ["password_digest", "$2a$04$qh5OdspTqRyKD3XdNeMH5ezXj6GuZpYBx3turbKiXzvrGayw4bEGO"], ["updated_at", "2014-11-15 23:27:44.054300"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'cccd4e9cfd32b641b221329339357e47' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "cccd4e9cfd32b641b221329339357e47"], ["reset_password_token_exp", "2014-11-16 07:27:44.084506"], ["updated_at", "2014-11-15 23:27:44.088641"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/cccd4e9cfd32b641b221329339357e47/" for 127.0.0.1 at 2014-11-15 15:27:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"cccd4e9cfd32b641b221329339357e47"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'cccd4e9cfd32b641b221329339357e47' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$HMyYpyyPcXx4eG3B5Wr0I.F8jvrkN3cmJ2DRyzV7umMS6B/nhntMK"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-15 23:27:44.114611"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 23ms (Views: 3.0ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/cccd4e9cfd32b641b221329339357e47/" for 127.0.0.1 at 2014-11-15 15:27:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"cccd4e9cfd32b641b221329339357e47"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'cccd4e9cfd32b641b221329339357e47' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (3.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:27:44.188727"], ["email", "test@email.com"], ["password_digest", "$2a$04$W9b/wZ87307Gp/X6Fguwr.rf4dCeuPU2kd5TeytDnWSSEilGhU2Be"], ["updated_at", "2014-11-15 23:27:44.188727"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '70762b19b92323e632a9f935fec9dc00' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "70762b19b92323e632a9f935fec9dc00"], ["reset_password_token_exp", "2014-11-16 07:27:44.190848"], ["updated_at", "2014-11-15 23:27:44.194349"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/70762b19b92323e632a9f935fec9dc00/" for 127.0.0.1 at 2014-11-15 15:27:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"70762b19b92323e632a9f935fec9dc00"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '70762b19b92323e632a9f935fec9dc00' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 61ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (20.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:44.295004"], ["email", "test@email.com"], ["password_digest", "$2a$04$oYz.JxTdEgIGAGS8nxmXNuMcgu6Fj78OUWaXHvT/fAJN56q9FJSci"], ["updated_at", "2014-11-15 23:27:44.295004"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '115a58225892f8f99b606c7f0571439f' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (5.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "115a58225892f8f99b606c7f0571439f"], ["reset_password_token_exp", "2014-11-16 07:27:44.333989"], ["updated_at", "2014-11-15 23:27:44.362350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 15:27:44 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (14.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:44.399776"], ["email", "test@email.com"], ["password_digest", "$2a$04$JdDB3km0v.FBw9YEFQDRsOEhI17XMfwRe20TFaF9i4P6oC0C9z02."], ["updated_at", "2014-11-15 23:27:44.399776"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '53125a55e2eca47a3eb92dd5b005ca5b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "53125a55e2eca47a3eb92dd5b005ca5b"], ["reset_password_token_exp", "2014-11-16 07:27:44.432398"], ["updated_at", "2014-11-15 23:27:44.435396"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/098b8423862d7e613c2bfae9b23941d8/" for 127.0.0.1 at 2014-11-15 15:27:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"098b8423862d7e613c2bfae9b23941d8"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '098b8423862d7e613c2bfae9b23941d8' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:44.473851"], ["email", "test@email.com"], ["password_digest", "$2a$04$bn1SzAoMqdqo5fxgXrEgrORvF0Zoq/oZYRQLL6CI3yXu.i1HOCDda"], ["updated_at", "2014-11-15 23:27:44.473851"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:27:44 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b30010635f52c2b7c19832b246f5ca4c' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b30010635f52c2b7c19832b246f5ca4c"], ["reset_password_token_exp", "2014-11-16 07:27:44.524060"], ["updated_at", "2014-11-15 23:27:44.527351"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (7.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 397.3ms

Sent mail to test@email.com (17.6ms)
Date: Sat, 15 Nov 2014 15:27:44 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e170e568b_17c73fd941063bf0649b7@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e170e2898_17c73fd941063bf06485";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e170e2898_17c73fd941063bf06485
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/b30010635f52c2b7c19832b246f5ca4c/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e170e2898_17c73fd941063bf06485
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/b30010635f52c2b7c19832b246f5ca4c/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e170e2898_17c73fd941063bf06485--

  Rendered text template (0.1ms)
Completed 204 No Content in 459ms (Views: 1.1ms | ActiveRecord: 2.9ms)
  [1m[35m (9.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:44.963805"], ["email", "test@email.com"], ["password_digest", "$2a$04$jShunE9DQINvZErIAVhbnO7qsggH/G3BZKadWRNgNw4DQ/7Rx3Hxi"], ["updated_at", "2014-11-15 23:27:44.963805"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:27:44 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.6ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 26.5ms

Sent mail to foo@bar.com (18.1ms)
Date: Sat, 15 Nov 2014 15:27:44 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e170f3e9f_17c73fd941063bf0651da@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e170f1f02_17c73fd941063bf065012";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e170f1f02_17c73fd941063bf065012
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e170f1f02_17c73fd941063bf065012
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e170f1f02_17c73fd941063bf065012--

  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:45.028434"], ["email", "test@email.com"], ["password_digest", "$2a$04$ukSnztmZEIUOi01fAxDYeOAdwrL9Gh8XLhTq8kiBJ8JVZTB0910GO"], ["updated_at", "2014-11-15 23:27:45.028434"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:27:45 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (6.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ddfedc3ff7d4bd2cbe838aa268c4a3cd' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ddfedc3ff7d4bd2cbe838aa268c4a3cd"], ["reset_password_token_exp", "2014-11-16 07:27:45.062948"], ["updated_at", "2014-11-15 23:27:45.073452"]]
  [1m[36m (3.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 8.8ms

Sent mail to test@email.com (26.2ms)
Date: Sat, 15 Nov 2014 15:27:45 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467e17117849_17c73fd941063bf06531@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e171155b0_17c73fd941063bf06528a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e171155b0_17c73fd941063bf06528a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/ddfedc3ff7d4bd2cbe838aa268c4a3cd/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467e171155b0_17c73fd941063bf06528a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/ddfedc3ff7d4bd2cbe838aa268c4a3cd/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467e171155b0_17c73fd941063bf06528a--

  Rendered text template (0.0ms)
Completed 204 No Content in 67ms (Views: 0.4ms | ActiveRecord: 12.4ms)
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:45.130480"], ["email", "test@email.com"], ["password_digest", "$2a$04$6XauVggfvfqrUc2yEhKCd.QvYt3AFCKfys1ZbUDlZpASdnw9TCl8C"], ["updated_at", "2014-11-15 23:27:45.130480"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 15:27:45 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (18.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.9ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 59.2ms

Sent mail to foo@bar.com (4.3ms)
Date: Sat, 15 Nov 2014 15:27:45 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467e17130603_17c73fd941063bf0655a9@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467e1712feba_17c73fd941063bf06546f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467e1712feba_17c73fd941063bf06546f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467e1712feba_17c73fd941063bf06546f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467e1712feba_17c73fd941063bf06546f--

  Rendered text template (0.0ms)
Completed 204 No Content in 70ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:45.229941"], ["email", "test@email.com"], ["password_digest", "$2a$04$6sxCyoubLWq8V5P964GNKecRNO9dNVWxg1wmPivRsaUWoQGEaql9m"], ["updated_at", "2014-11-15 23:27:45.229941"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:27:45 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5a111b4121d110a7f7636c459e9604b6' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:27:45.327199"], ["expiration", "2014-11-16 23:27:45.330152"], ["key", "5a111b4121d110a7f7636c459e9604b6"], ["updated_at", "2014-11-15 23:27:45.327199"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 32ms (Views: 0.4ms | ActiveRecord: 4.8ms)
  [1m[35m (25.2ms)[0m  rollback transaction
  [1m[36m (3.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:45.398969"], ["email", "test@email.com"], ["password_digest", "$2a$04$/rRsgvlwDfpFwLIjm2tec.MnCKjAx63w/Xyz8rAPArCJ00Ae/xuJy"], ["updated_at", "2014-11-15 23:27:45.398969"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:27:45 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5f65b5840be6e37b2d9019ad8fe27dfc' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-15 23:27:45.455711"], ["expiration", "2014-11-16 23:27:45.458589"], ["key", "5f65b5840be6e37b2d9019ad8fe27dfc"], ["updated_at", "2014-11-15 23:27:45.455711"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 54ms (Views: 0.3ms | ActiveRecord: 1.2ms)
  [1m[35m (7.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-15 23:27:45.495071"], ["email", "test@email.com"], ["password_digest", "$2a$04$qMA/DxZ3jU7Qm.Cz0Ct6je/VLGNRpMt5aARxg5EHEuFutouX3RI.2"], ["updated_at", "2014-11-15 23:27:45.495071"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/sessions/" for 127.0.0.1 at 2014-11-15 15:27:45 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 16ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (5.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:37.411385"], ["email", "test@email.com"], ["password_digest", "$2a$04$i3LdAbB7HmQJdWE9TdByH.n.JvttnjkMBp6IMlDeCyXQHFswCYDRC"], ["updated_at", "2014-11-16 00:33:37.411385"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0a88b8a19655bfcd6017bbd068ab473a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (4.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0a88b8a19655bfcd6017bbd068ab473a"], ["reset_password_token_exp", "2014-11-16 08:33:37.420150"], ["updated_at", "2014-11-16 00:33:37.422603"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0a88b8a19655bfcd6017bbd068ab473a/" for 127.0.0.1 at 2014-11-15 16:33:37 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0a88b8a19655bfcd6017bbd068ab473a"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0a88b8a19655bfcd6017bbd068ab473a' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$Drtt7DBomFdltaEHdcFWJegXxqg0TeVqznZ/ZYq6cqQCEbDv/yQXa"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:33:37.487520"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 55ms (Views: 23.7ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (6.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:37.546220"], ["email", "test@email.com"], ["password_digest", "$2a$04$GE08p6/6B/uX/gH4PCcJz.DDiJCGhPmxgZId6HhE/DuXn6j5cnP6."], ["updated_at", "2014-11-16 00:33:37.546220"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e71b6ac3ed731e277b1400b0545e26ce' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e71b6ac3ed731e277b1400b0545e26ce"], ["reset_password_token_exp", "2014-11-16 08:33:37.550301"], ["updated_at", "2014-11-16 00:33:37.555130"]]
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e71b6ac3ed731e277b1400b0545e26ce/" for 127.0.0.1 at 2014-11-15 16:33:37 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e71b6ac3ed731e277b1400b0545e26ce"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e71b6ac3ed731e277b1400b0545e26ce' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$zQ4pWaZ1NYJ98YAAT6o9uOrGqNczvwcEOMWlOft4.WW5.eD8mAxcG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:33:37.589709"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 20ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/e71b6ac3ed731e277b1400b0545e26ce/" for 127.0.0.1 at 2014-11-15 16:33:37 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e71b6ac3ed731e277b1400b0545e26ce"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e71b6ac3ed731e277b1400b0545e26ce' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:33:37.620787"], ["email", "test@email.com"], ["password_digest", "$2a$04$bdp19C8i46slvQa/hUFhju6PErsJXUo4mcpp1H9aF43fPacj9fHli"], ["updated_at", "2014-11-16 00:33:37.620787"], ["username", "test"]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9547f141f9f0843bc0acaba5d0cdfbca' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (18.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9547f141f9f0843bc0acaba5d0cdfbca"], ["reset_password_token_exp", "2014-11-16 08:33:37.640635"], ["updated_at", "2014-11-16 00:33:37.674456"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/9547f141f9f0843bc0acaba5d0cdfbca/" for 127.0.0.1 at 2014-11-15 16:33:37 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"9547f141f9f0843bc0acaba5d0cdfbca"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9547f141f9f0843bc0acaba5d0cdfbca' LIMIT 1
  [1m[36m (1.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 20ms (Views: 0.3ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:37.722651"], ["email", "test@email.com"], ["password_digest", "$2a$04$xiv7.x81pbFnDumndBBwWu64TodNTEI2vtbztWsDEoWghpU78Klg6"], ["updated_at", "2014-11-16 00:33:37.722651"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '16a20e692d8352e4c1e5c54e383f85ba' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "16a20e692d8352e4c1e5c54e383f85ba"], ["reset_password_token_exp", "2014-11-16 08:33:37.734113"], ["updated_at", "2014-11-16 00:33:37.741161"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:33:37 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (5.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:37.792527"], ["email", "test@email.com"], ["password_digest", "$2a$04$N.7K0IF1pws76HeGYuwZQ.42FYD.VFuQSX8NdC1Zx66gEAX0tRyES"], ["updated_at", "2014-11-16 00:33:37.792527"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '98f7688507010864481951368a209743' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (6.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "98f7688507010864481951368a209743"], ["reset_password_token_exp", "2014-11-16 08:33:37.795381"], ["updated_at", "2014-11-16 00:33:37.807100"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/b55b1242ef0f01fb6c98d262c23effec/" for 127.0.0.1 at 2014-11-15 16:33:37 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b55b1242ef0f01fb6c98d262c23effec"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b55b1242ef0f01fb6c98d262c23effec' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 6ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:37.851995"], ["email", "test@email.com"], ["password_digest", "$2a$04$v43nu0/8R2pZ5R6Bi/UmlOv9FIXbSQ.H4TdWrPKXhRs7OTGg1f0WO"], ["updated_at", "2014-11-16 00:33:37.851995"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:33:37 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (20.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a1ca7a10b8ffb5e359050adf3711a269' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a1ca7a10b8ffb5e359050adf3711a269"], ["reset_password_token_exp", "2014-11-16 08:33:37.910214"], ["updated_at", "2014-11-16 00:33:37.917553"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 366.9ms

Sent mail to test@email.com (22.0ms)
Date: Sat, 15 Nov 2014 16:33:38 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f0e24f0a3_1b263fd1a1063be840864@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f0e24a931_1b263fd1a1063be8407f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f0e24a931_1b263fd1a1063be8407f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/a1ca7a10b8ffb5e359050adf3711a269/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f0e24a931_1b263fd1a1063be8407f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/a1ca7a10b8ffb5e359050adf3711a269/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f0e24a931_1b263fd1a1063be8407f--

  Rendered text template (0.0ms)
Completed 204 No Content in 464ms (Views: 0.6ms | ActiveRecord: 21.7ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:38.336781"], ["email", "test@email.com"], ["password_digest", "$2a$04$syxVcyDUHr8hIN.PS0Sbxu6x4nRXAOWCJx6OW72jRjI0nP23sADiO"], ["updated_at", "2014-11-16 00:33:38.336781"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:33:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.9ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 26.6ms

Sent mail to foo@bar.com (5.8ms)
Date: Sat, 15 Nov 2014 16:33:38 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f0e25b062_1b263fd1a1063be841085@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f0e258fe6_1b263fd1a1063be84093f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f0e258fe6_1b263fd1a1063be84093f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f0e258fe6_1b263fd1a1063be84093f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f0e258fe6_1b263fd1a1063be84093f--

  Rendered text template (0.0ms)
Completed 204 No Content in 36ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (4.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:38.396952"], ["email", "test@email.com"], ["password_digest", "$2a$04$cGFNZFgAsOHwn4XHkNj9wOAGwG08nqpfJv4VCg1YsZU49h7x7N/Pa"], ["updated_at", "2014-11-16 00:33:38.396952"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:33:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6c7f831f3ac21552811ea0922797a4a0' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6c7f831f3ac21552811ea0922797a4a0"], ["reset_password_token_exp", "2014-11-16 08:33:38.416259"], ["updated_at", "2014-11-16 00:33:38.420826"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 4.8ms

Sent mail to test@email.com (21.0ms)
Date: Sat, 15 Nov 2014 16:33:38 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f0e26da57_1b263fd1a1063be84127e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f0e26cae2_1b263fd1a1063be8411a5";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f0e26cae2_1b263fd1a1063be8411a5
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/6c7f831f3ac21552811ea0922797a4a0/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f0e26cae2_1b263fd1a1063be8411a5
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/6c7f831f3ac21552811ea0922797a4a0/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f0e26cae2_1b263fd1a1063be8411a5--

  Rendered text template (0.0ms)
Completed 204 No Content in 59ms (Views: 0.4ms | ActiveRecord: 2.8ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:38.480638"], ["email", "test@email.com"], ["password_digest", "$2a$04$5231pRNcNbqzxKmHlfdS9eFBUxnosJSsBd2Vunfjs.4BrjfjIHS6C"], ["updated_at", "2014-11-16 00:33:38.480638"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:33:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 11.7ms

Sent mail to foo@bar.com (31.8ms)
Date: Sat, 15 Nov 2014 16:33:38 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f0e281c0c_1b263fd1a1063be84148d@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f0e27a991_1b263fd1a1063be8413d8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f0e27a991_1b263fd1a1063be8413d8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f0e27a991_1b263fd1a1063be8413d8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f0e27a991_1b263fd1a1063be8413d8--

  Rendered text template (0.0ms)
Completed 204 No Content in 47ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:38.545864"], ["email", "test@email.com"], ["password_digest", "$2a$04$0caPOJFztPrbmHcrNrCbcew03YYXG4Dy1oVN2FoIc3GhXH6cwASE."], ["updated_at", "2014-11-16 00:33:38.545864"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:33:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c20b4455e090b55186bcd4522a45c147' LIMIT 1[0m
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:33:38.585447"], ["expiration", "2014-11-17 00:33:38.588577"], ["key", "c20b4455e090b55186bcd4522a45c147"], ["updated_at", "2014-11-16 00:33:38.585447"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 42ms (Views: 0.5ms | ActiveRecord: 6.8ms)
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:38.609771"], ["email", "test@email.com"], ["password_digest", "$2a$04$YLWHWzEhnx24OxjTQ06wNO.3goAdxWNZBoJQnX.Kueg3MxoFVs8Q."], ["updated_at", "2014-11-16 00:33:38.609771"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:33:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7153d7b6867de15b352fa5c1d43656d4' LIMIT 1[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:33:38.625051"], ["expiration", "2014-11-17 00:33:38.626984"], ["key", "7153d7b6867de15b352fa5c1d43656d4"], ["updated_at", "2014-11-16 00:33:38.625051"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 19ms (Views: 1.0ms | ActiveRecord: 4.1ms)
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:38.704208"], ["email", "test@email.com"], ["password_digest", "$2a$04$wCWvn41acqHRz3GhWjBCvO9C4Uqlb3o6gzWMx6Zv2TsbgN0Z/h7gu"], ["updated_at", "2014-11-16 00:33:38.704208"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:33:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (5.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:33:38.722249"], ["email", "test@email.com"], ["password_digest", "$2a$04$5A1SOlVpzqYCILlqwCuymOfmMMIF1J6iA4zdHOlfGquO2XEO7kubi"], ["updated_at", "2014-11-16 00:33:38.722249"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:33:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '3ba89dd23d1ab73e2cdf720088408458' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:33:38.735479"], ["expiration", "2014-11-17 00:33:38.736999"], ["key", "3ba89dd23d1ab73e2cdf720088408458"], ["updated_at", "2014-11-16 00:33:38.735479"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 1.5ms | ActiveRecord: 2.2ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:33:38 -0800
Processing by SessionsController#show as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:13.137528"], ["email", "test@email.com"], ["password_digest", "$2a$04$LP80cu.23V1/BbBrTBwxTOTu2PdnaHQSRN.zdSvmZL7/i39yWVHye"], ["updated_at", "2014-11-16 00:34:13.137528"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7eafcc589168f0f6e033b197bf80e476' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7eafcc589168f0f6e033b197bf80e476"], ["reset_password_token_exp", "2014-11-16 08:34:13.151707"], ["updated_at", "2014-11-16 00:34:13.154598"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7eafcc589168f0f6e033b197bf80e476/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7eafcc589168f0f6e033b197bf80e476"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7eafcc589168f0f6e033b197bf80e476' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$Zhh1MlxnZzG6FwL7EOveR.GyV2x9JcQODGfp.dGPBvll1aSfhYcju"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:34:13.205752"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 17ms (Views: 5.5ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:13.218714"], ["email", "test@email.com"], ["password_digest", "$2a$04$x/wQ6UUHwMUU3FLiHBbbdeKGB4iUxA7b0rYJDeT2rz2ZfVyNfhUoi"], ["updated_at", "2014-11-16 00:34:13.218714"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd92a550930938d22517b1a65005ca5f3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d92a550930938d22517b1a65005ca5f3"], ["reset_password_token_exp", "2014-11-16 08:34:13.221121"], ["updated_at", "2014-11-16 00:34:13.236580"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d92a550930938d22517b1a65005ca5f3/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d92a550930938d22517b1a65005ca5f3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd92a550930938d22517b1a65005ca5f3' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$jA0K2Ym9d1zD90l0U5VBd.IJq6kAIii7ps9SWqp7y8ZAiCcKvgziK"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:34:13.258444"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/d92a550930938d22517b1a65005ca5f3/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d92a550930938d22517b1a65005ca5f3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd92a550930938d22517b1a65005ca5f3' LIMIT 1
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:34:13.279448"], ["email", "test@email.com"], ["password_digest", "$2a$04$EXm1bplyAXszX4xlBJV7tuO/WHJLciIKklpoVRqDtMleFr1REC7Em"], ["updated_at", "2014-11-16 00:34:13.279448"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8bbe74ffcb66c8164bb4805f81061464' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8bbe74ffcb66c8164bb4805f81061464"], ["reset_password_token_exp", "2014-11-16 08:34:13.327384"], ["updated_at", "2014-11-16 00:34:13.332963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/8bbe74ffcb66c8164bb4805f81061464/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"8bbe74ffcb66c8164bb4805f81061464"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8bbe74ffcb66c8164bb4805f81061464' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 16ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:13.378809"], ["email", "test@email.com"], ["password_digest", "$2a$04$vTT0WJypB8x0iazjr4ulrOrkmsyzVSj5FCkgZPCKe.fgKcTWWWxmm"], ["updated_at", "2014-11-16 00:34:13.378809"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3f40e9c4aa5302e1b46597998d22bf24' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3f40e9c4aa5302e1b46597998d22bf24"], ["reset_password_token_exp", "2014-11-16 08:34:13.380314"], ["updated_at", "2014-11-16 00:34:13.383312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:13.398171"], ["email", "test@email.com"], ["password_digest", "$2a$04$7SPb6NGxzRZjzVVtBDZKkuMyfRuJ8D97wooydDNowoz/CrBnq2t4m"], ["updated_at", "2014-11-16 00:34:13.398171"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '20dfed5de333ca7cb8544c3c1e7c7d73' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "20dfed5de333ca7cb8544c3c1e7c7d73"], ["reset_password_token_exp", "2014-11-16 08:34:13.404905"], ["updated_at", "2014-11-16 00:34:13.408655"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/939e6c68cb8d450c940a71b750bb747b/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"939e6c68cb8d450c940a71b750bb747b"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '939e6c68cb8d450c940a71b750bb747b' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:13.452942"], ["email", "test@email.com"], ["password_digest", "$2a$04$Wt4dq16pUknYU3Dgite3C.b.9rwRrIjnRLeRm2.j8m1Ilcp5QKtfe"], ["updated_at", "2014-11-16 00:34:13.452942"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'da812707a7263169f66fd2e41f0b8d8b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "da812707a7263169f66fd2e41f0b8d8b"], ["reset_password_token_exp", "2014-11-16 08:34:13.460903"], ["updated_at", "2014-11-16 00:34:13.463366"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 323.7ms

Sent mail to test@email.com (5.8ms)
Date: Sat, 15 Nov 2014 16:34:13 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f105c2872_1b443fce51825bf4927b8@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f105c1793_1b443fce51825bf49269f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f105c1793_1b443fce51825bf49269f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/da812707a7263169f66fd2e41f0b8d8b/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f105c1793_1b443fce51825bf49269f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/da812707a7263169f66fd2e41f0b8d8b/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f105c1793_1b443fce51825bf49269f--

  Rendered text template (0.0ms)
Completed 204 No Content in 345ms (Views: 2.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:13.836590"], ["email", "test@email.com"], ["password_digest", "$2a$04$rAIQnEWlQ.uPahCbo2K36uUJaMk/S4zPclFf5c07Voq1bEnY1B7xq"], ["updated_at", "2014-11-16 00:34:13.836590"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 14.1ms

Sent mail to foo@bar.com (5.4ms)
Date: Sat, 15 Nov 2014 16:34:13 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f105d356d_1b443fce51825bf49291e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f105d248d_1b443fce51825bf49285d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f105d248d_1b443fce51825bf49285d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f105d248d_1b443fce51825bf49285d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f105d248d_1b443fce51825bf49285d--

  Rendered text template (0.0ms)
Completed 204 No Content in 29ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (1.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:13.883570"], ["email", "test@email.com"], ["password_digest", "$2a$04$ww0koTG.FfviDF0TGrXLYO/OYPu0eS5hesDaae8U3qNwnO5xAKLvy"], ["updated_at", "2014-11-16 00:34:13.883570"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'df2c4672511fd866e9df271b9f18540e' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "df2c4672511fd866e9df271b9f18540e"], ["reset_password_token_exp", "2014-11-16 08:34:13.923447"], ["updated_at", "2014-11-16 00:34:13.924805"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 13.6ms

Sent mail to test@email.com (15.8ms)
Date: Sat, 15 Nov 2014 16:34:13 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f105e625f_1b443fce51825bf49315b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f105e3ba4_1b443fce51825bf49307b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f105e3ba4_1b443fce51825bf49307b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/df2c4672511fd866e9df271b9f18540e/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f105e3ba4_1b443fce51825bf49307b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/df2c4672511fd866e9df271b9f18540e/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f105e3ba4_1b443fce51825bf49307b--

  Rendered text template (0.0ms)
Completed 204 No Content in 35ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:13.961616"], ["email", "test@email.com"], ["password_digest", "$2a$04$SjEgIGT5REKyBIrMp8XnQewR79FYmK5idVegc5erfs7hQ2LiKJ966"], ["updated_at", "2014-11-16 00:34:13.961616"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:34:13 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.7ms

Sent mail to foo@bar.com (9.5ms)
Date: Sat, 15 Nov 2014 16:34:13 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f105edc52_1b443fce51825bf493326@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f105ec35f_1b443fce51825bf493242";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f105ec35f_1b443fce51825bf493242
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f105ec35f_1b443fce51825bf493242
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f105ec35f_1b443fce51825bf493242--

  Rendered text template (0.0ms)
Completed 204 No Content in 16ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (5.0ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:14.036178"], ["email", "test@email.com"], ["password_digest", "$2a$04$euBvzF7jEwO7eh8hykmSI.R16JFpSu8v8BS/0gTztDEsvWgvgoehO"], ["updated_at", "2014-11-16 00:34:14.036178"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:34:14 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '9ce6cadbe0807f74a70acc6751b604df' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:34:14.079305"], ["expiration", "2014-11-17 00:34:14.082536"], ["key", "9ce6cadbe0807f74a70acc6751b604df"], ["updated_at", "2014-11-16 00:34:14.079305"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 26ms (Views: 0.3ms | ActiveRecord: 1.4ms)
  [1m[35m (8.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:14.105564"], ["email", "test@email.com"], ["password_digest", "$2a$04$/d5CZWcXYFkMsEWAby9eLOElyirFfbSiSEiIynaNpzNZpfQ21YNm2"], ["updated_at", "2014-11-16 00:34:14.105564"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:34:14 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '89a685299f836e731fc62c3e73becd0b' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:34:14.133396"], ["expiration", "2014-11-17 00:34:14.137592"], ["key", "89a685299f836e731fc62c3e73becd0b"], ["updated_at", "2014-11-16 00:34:14.133396"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 23ms (Views: 0.7ms | ActiveRecord: 1.2ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:14.152566"], ["email", "test@email.com"], ["password_digest", "$2a$04$m8fs10DA3H1.l5udfd1dzudxR0BMuSbFoI8RnstRChISJLyAcZbSe"], ["updated_at", "2014-11-16 00:34:14.152566"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:34:14 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:14.215694"], ["email", "test@email.com"], ["password_digest", "$2a$04$x.0WYTVh6Nh/CklzGD1JxerKa3H9jwutiaqPNuoWktYaPOTwGPbcq"], ["updated_at", "2014-11-16 00:34:14.215694"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:34:14 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '59df5fc02d5b9ed16a67ecf1804db95b' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:34:14.223439"], ["expiration", "2014-11-17 00:34:14.225041"], ["key", "59df5fc02d5b9ed16a67ecf1804db95b"], ["updated_at", "2014-11-16 00:34:14.223439"], ["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 28ms (Views: 4.2ms | ActiveRecord: 3.2ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:34:14 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '59df5fc02d5b9ed16a67ecf1804db95b' LIMIT 1
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:54.211815"], ["email", "test@email.com"], ["password_digest", "$2a$04$zOU4dwba5UxvEFGGqEdeYujYhqbNN1aNnAevmWJzBpfIXTiajpsFa"], ["updated_at", "2014-11-16 00:34:54.211815"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '13edd3d749b14334df0f475f5bf12455' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "13edd3d749b14334df0f475f5bf12455"], ["reset_password_token_exp", "2014-11-16 08:34:54.275687"], ["updated_at", "2014-11-16 00:34:54.280598"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/13edd3d749b14334df0f475f5bf12455/" for 127.0.0.1 at 2014-11-15 16:34:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"13edd3d749b14334df0f475f5bf12455"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '13edd3d749b14334df0f475f5bf12455' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$M3g58SvARgzEcBnxOjHnFupb2UBEu8mF1SWgRIRFNAO36/c6VRI8u"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:34:54.309893"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 24ms (Views: 13.8ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:54.364766"], ["email", "test@email.com"], ["password_digest", "$2a$04$lxKPPPyEkmIESPWl1PZrk.g6GI0sd02wRHD.cg5NW.09nwAUTHv4K"], ["updated_at", "2014-11-16 00:34:54.364766"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b6d66077c91c87a03c33dd6f2951f71c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "b6d66077c91c87a03c33dd6f2951f71c"], ["reset_password_token_exp", "2014-11-16 08:34:54.370885"], ["updated_at", "2014-11-16 00:34:54.427615"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/b6d66077c91c87a03c33dd6f2951f71c/" for 127.0.0.1 at 2014-11-15 16:34:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b6d66077c91c87a03c33dd6f2951f71c"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b6d66077c91c87a03c33dd6f2951f71c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$VKYCwErWR.iV5giuDEyPguU.PSFzlZW6pLpKLPulNTPdHJ4FpwxNG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:34:54.437014"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/b6d66077c91c87a03c33dd6f2951f71c/" for 127.0.0.1 at 2014-11-15 16:34:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b6d66077c91c87a03c33dd6f2951f71c"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b6d66077c91c87a03c33dd6f2951f71c' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:34:54.488839"], ["email", "test@email.com"], ["password_digest", "$2a$04$weUvDqmxC.aPS5X9Rf1RdOmYLQtaOx0Mf1M..Y7MHEnDBzSmcW23m"], ["updated_at", "2014-11-16 00:34:54.488839"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b9c4e3813763b265a541c1ebf1ff8842' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b9c4e3813763b265a541c1ebf1ff8842"], ["reset_password_token_exp", "2014-11-16 08:34:54.505814"], ["updated_at", "2014-11-16 00:34:54.536860"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/b9c4e3813763b265a541c1ebf1ff8842/" for 127.0.0.1 at 2014-11-15 16:34:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"b9c4e3813763b265a541c1ebf1ff8842"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b9c4e3813763b265a541c1ebf1ff8842' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 16ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:54.562603"], ["email", "test@email.com"], ["password_digest", "$2a$04$nURgaOqhJQV.XkQz.BwN0eR616EiHZisZo7wtEsxbjR/UDJN8imH2"], ["updated_at", "2014-11-16 00:34:54.562603"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '88c948fc5efa6e39d343535953f6ce62' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "88c948fc5efa6e39d343535953f6ce62"], ["reset_password_token_exp", "2014-11-16 08:34:54.564218"], ["updated_at", "2014-11-16 00:34:54.566498"]]
  [1m[35m (6.9ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:34:54 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (11.7ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (12.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:54.636895"], ["email", "test@email.com"], ["password_digest", "$2a$04$.omRB2yRu9Lhl5OMPorI.esuV0Lkaz7zqDj6bInTAuNlrsEDb2foy"], ["updated_at", "2014-11-16 00:34:54.636895"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '45af5cb9afb4501e167d90107b3d7387' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "45af5cb9afb4501e167d90107b3d7387"], ["reset_password_token_exp", "2014-11-16 08:34:54.668489"], ["updated_at", "2014-11-16 00:34:54.672438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/42c730251081a7c32fe0a48508225385/" for 127.0.0.1 at 2014-11-15 16:34:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"42c730251081a7c32fe0a48508225385"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '42c730251081a7c32fe0a48508225385' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 8ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:54.710135"], ["email", "test@email.com"], ["password_digest", "$2a$04$vuIEB9IaLKvLW5aCNhRzhOKvQsRWADLZKCHdQL4BcR0qDo2v5im7C"], ["updated_at", "2014-11-16 00:34:54.710135"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:34:54 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3846778dd06938c358c2945a028f8f77' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3846778dd06938c358c2945a028f8f77"], ["reset_password_token_exp", "2014-11-16 08:34:54.783208"], ["updated_at", "2014-11-16 00:34:54.785259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 260.2ms

Sent mail to test@email.com (6.5ms)
Date: Sat, 15 Nov 2014 16:34:55 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f12fe5c0_1b613ff401049be4720ef@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f12fd287_1b613ff401049be471927";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f12fd287_1b613ff401049be471927
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/3846778dd06938c358c2945a028f8f77/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f12fd287_1b613ff401049be471927
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/3846778dd06938c358c2945a028f8f77/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f12fd287_1b613ff401049be471927--

  Rendered text template (0.0ms)
Completed 204 No Content in 288ms (Views: 2.8ms | ActiveRecord: 1.0ms)
  [1m[35m (11.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:55.086001"], ["email", "test@email.com"], ["password_digest", "$2a$04$sSdLfRP92ddVDMaoU8kjg.MPXcmWhZinNjgmg29UGzl9yu0roLFsy"], ["updated_at", "2014-11-16 00:34:55.086001"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:34:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.9ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 27.1ms

Sent mail to foo@bar.com (3.8ms)
Date: Sat, 15 Nov 2014 16:34:55 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f12f20273_1b613ff401049be4722fc@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f12f1fa2d_1b613ff401049be47216";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f12f1fa2d_1b613ff401049be47216
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f12f1fa2d_1b613ff401049be47216
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f12f1fa2d_1b613ff401049be47216--

  Rendered text template (0.0ms)
Completed 204 No Content in 33ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:55.212142"], ["email", "test@email.com"], ["password_digest", "$2a$04$pPNBz4JqR13Xln5244xS9O7WcnMAqBO1s9TXrGwoGa1vFnlu/Ivj2"], ["updated_at", "2014-11-16 00:34:55.212142"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:34:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '295c3ee6238ad396c1ac118a3a93957d' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "295c3ee6238ad396c1ac118a3a93957d"], ["reset_password_token_exp", "2014-11-16 08:34:55.219996"], ["updated_at", "2014-11-16 00:34:55.224696"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 8.0ms

Sent mail to test@email.com (9.2ms)
Date: Sat, 15 Nov 2014 16:34:55 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f12f3f6bd_1b613ff401049be47244c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f12f3e32f_1b613ff401049be472352";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f12f3e32f_1b613ff401049be472352
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/295c3ee6238ad396c1ac118a3a93957d/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f12f3e32f_1b613ff401049be472352
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/295c3ee6238ad396c1ac118a3a93957d/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f12f3e32f_1b613ff401049be472352--

  Rendered text template (0.0ms)
Completed 204 No Content in 51ms (Views: 2.5ms | ActiveRecord: 1.9ms)
  [1m[35m (9.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:55.288080"], ["email", "test@email.com"], ["password_digest", "$2a$04$tVlvb6Ok3UhfltkXDm7R6ua5aWT0JlZpfjjPCz1jOwnBuG38FmwEm"], ["updated_at", "2014-11-16 00:34:55.288080"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:34:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 28.6ms

Sent mail to foo@bar.com (21.9ms)
Date: Sat, 15 Nov 2014 16:34:55 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f12f5139f_1b613ff401049be472623@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f12f48ce1_1b613ff401049be4725e6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f12f48ce1_1b613ff401049be4725e6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f12f48ce1_1b613ff401049be4725e6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f12f48ce1_1b613ff401049be4725e6--

  Rendered text template (0.0ms)
Completed 204 No Content in 58ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:55.369598"], ["email", "test@email.com"], ["password_digest", "$2a$04$J7qdNsZfYERbfSKSiTr6pOZkJ/.MnmUcGyFazxXV9gIInF/l3HtKK"], ["updated_at", "2014-11-16 00:34:55.369598"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:34:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (7.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '3fa98404ecdc5f6472165a5e05a5aaf2' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:34:55.426563"], ["expiration", "2014-11-17 00:34:55.438323"], ["key", "3fa98404ecdc5f6472165a5e05a5aaf2"], ["updated_at", "2014-11-16 00:34:55.426563"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 55ms (Views: 0.3ms | ActiveRecord: 10.9ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:55.450540"], ["email", "test@email.com"], ["password_digest", "$2a$04$Ac5akCBqoG5/KKkLYPbXUuGOTE4bDM2WWgJNim7NYS3HwqfAHxAze"], ["updated_at", "2014-11-16 00:34:55.450540"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:34:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c3577760a9fd0252a185578e6e7085b5' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:34:55.485331"], ["expiration", "2014-11-17 00:34:55.491235"], ["key", "c3577760a9fd0252a185578e6e7085b5"], ["updated_at", "2014-11-16 00:34:55.485331"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 38ms (Views: 0.3ms | ActiveRecord: 2.5ms)
  [1m[35m (12.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:55.553968"], ["email", "test@email.com"], ["password_digest", "$2a$04$.3G14YWPUt/S5KiKqMMvMOXOHvuBSxoCKbWhvSl34gKLUgk0XC9R."], ["updated_at", "2014-11-16 00:34:55.553968"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:34:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 12ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[35m (7.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:34:55.631321"], ["email", "test@email.com"], ["password_digest", "$2a$04$//EZ87LAivqTxNjo20jjIeoOwxaI26r/YnaaXoFH8EA3S4AT6jhAy"], ["updated_at", "2014-11-16 00:34:55.631321"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:34:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1285e7a55f93f305bf0aecfbf03227a9' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:34:55.688412"], ["expiration", "2014-11-17 00:34:55.690785"], ["key", "1285e7a55f93f305bf0aecfbf03227a9"], ["updated_at", "2014-11-16 00:34:55.688412"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 27ms (Views: 0.3ms | ActiveRecord: 1.3ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:34:55 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1285e7a55f93f305bf0aecfbf03227a9' LIMIT 1
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (8.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:44.247037"], ["email", "test@email.com"], ["password_digest", "$2a$04$HpiJfwjDrEnYE7KQdsjp0uYxYHRUjN58O8TT/3J1rSE/19dru9Jma"], ["updated_at", "2014-11-16 00:36:44.247037"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7a2e337339a4111cfa15066b5f217b30' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (4.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7a2e337339a4111cfa15066b5f217b30"], ["reset_password_token_exp", "2014-11-16 08:36:44.261472"], ["updated_at", "2014-11-16 00:36:44.265471"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7a2e337339a4111cfa15066b5f217b30/" for 127.0.0.1 at 2014-11-15 16:36:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7a2e337339a4111cfa15066b5f217b30"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7a2e337339a4111cfa15066b5f217b30' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$Fsx3bPROMaJDP6GW/YjRQuTHqnsz/VxRkzsxGWwXxt1GnmSyLoRKG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:36:44.319872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 25ms (Views: 11.8ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:44.342094"], ["email", "test@email.com"], ["password_digest", "$2a$04$J83Ryf3Uz2jjVPflFRrceOWnKcRraRzNaVyMH1nWnpB8TW2.mPGn6"], ["updated_at", "2014-11-16 00:36:44.342094"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '69f4441c40fd90fee9c96f182b53eeee' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "69f4441c40fd90fee9c96f182b53eeee"], ["reset_password_token_exp", "2014-11-16 08:36:44.344243"], ["updated_at", "2014-11-16 00:36:44.346484"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/69f4441c40fd90fee9c96f182b53eeee/" for 127.0.0.1 at 2014-11-15 16:36:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"69f4441c40fd90fee9c96f182b53eeee"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '69f4441c40fd90fee9c96f182b53eeee' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$J3uyx7nnZxra80sy0KuyCu5uMGDFvZOv/9mKJWK6kMMz/TNmaHy9S"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:36:44.356641"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.7ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/69f4441c40fd90fee9c96f182b53eeee/" for 127.0.0.1 at 2014-11-15 16:36:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"69f4441c40fd90fee9c96f182b53eeee"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '69f4441c40fd90fee9c96f182b53eeee' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:36:44.379960"], ["email", "test@email.com"], ["password_digest", "$2a$04$m6Ju8TiIsTLxI9/nktol1OGY2ee8L1AEygivxAUY02VKeGmYjKwMK"], ["updated_at", "2014-11-16 00:36:44.379960"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '206d0ab83f8d4fee5b8c3ece61ea2362' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "206d0ab83f8d4fee5b8c3ece61ea2362"], ["reset_password_token_exp", "2014-11-16 08:36:44.383572"], ["updated_at", "2014-11-16 00:36:44.389111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/206d0ab83f8d4fee5b8c3ece61ea2362/" for 127.0.0.1 at 2014-11-15 16:36:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"206d0ab83f8d4fee5b8c3ece61ea2362"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '206d0ab83f8d4fee5b8c3ece61ea2362' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 22ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:44.422595"], ["email", "test@email.com"], ["password_digest", "$2a$04$t3eKaCzynC7uea9gwWCxT.2cvCgOqoychY8OzB1OJs/t.B8AMDtLK"], ["updated_at", "2014-11-16 00:36:44.422595"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd53c574362dcc0d3599c96ae13b00bb3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d53c574362dcc0d3599c96ae13b00bb3"], ["reset_password_token_exp", "2014-11-16 08:36:44.425900"], ["updated_at", "2014-11-16 00:36:44.428854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:36:44 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:44.443285"], ["email", "test@email.com"], ["password_digest", "$2a$04$UCBbr9vbJ1RAbl2zyD0ASey8CVbB0y0pVcnNpcOrGF4Yui5T8PBuK"], ["updated_at", "2014-11-16 00:36:44.443285"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '092f1660ce971cc84966201cee020ffd' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "092f1660ce971cc84966201cee020ffd"], ["reset_password_token_exp", "2014-11-16 08:36:44.448452"], ["updated_at", "2014-11-16 00:36:44.451447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/3af1bef71be81e5f8e35a5a6e45bc363/" for 127.0.0.1 at 2014-11-15 16:36:44 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"3af1bef71be81e5f8e35a5a6e45bc363"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3af1bef71be81e5f8e35a5a6e45bc363' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:44.465622"], ["email", "test@email.com"], ["password_digest", "$2a$04$sTAKI0ga41Q9h.uW/jYGruOfEocDlxdagP3hB1OjHwRKhSz5e0b3y"], ["updated_at", "2014-11-16 00:36:44.465622"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:36:44 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd03f3c26af4dc14356638e557b92a0c7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "d03f3c26af4dc14356638e557b92a0c7"], ["reset_password_token_exp", "2014-11-16 08:36:44.470903"], ["updated_at", "2014-11-16 00:36:44.476140"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (4.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (4.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 415.9ms

Sent mail to test@email.com (21.5ms)
Date: Sat, 15 Nov 2014 16:36:44 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f19cdfcd8_1b883fc261865bec958fd@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f19cda8da_1b883fc261865bec95749";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f19cda8da_1b883fc261865bec95749
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/d03f3c26af4dc14356638e557b92a0c7/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f19cda8da_1b883fc261865bec95749
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/d03f3c26af4dc14356638e557b92a0c7/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f19cda8da_1b883fc261865bec95749--

  Rendered text template (0.0ms)
Completed 204 No Content in 455ms (Views: 0.4ms | ActiveRecord: 1.7ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (16.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:44.931585"], ["email", "test@email.com"], ["password_digest", "$2a$04$F4tLFk2qDC5qETApBCLRRO9w3So1YfSqXUVjgsLQAbWf696ioyhfy"], ["updated_at", "2014-11-16 00:36:44.931585"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:36:44 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 20.0ms

Sent mail to foo@bar.com (3.0ms)
Date: Sat, 15 Nov 2014 16:36:45 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f19d4de_1b883fc261865bec960b6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f19cf3f60_1b883fc261865bec9592c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f19cf3f60_1b883fc261865bec9592c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f19cf3f60_1b883fc261865bec9592c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f19cf3f60_1b883fc261865bec9592c--

  Rendered text template (0.0ms)
Completed 204 No Content in 27ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:45.041718"], ["email", "test@email.com"], ["password_digest", "$2a$04$8jksqHOjCfLd.uF7J6kizOvJU709bk5GnTK0GmmWXgAkRltvEPi7m"], ["updated_at", "2014-11-16 00:36:45.041718"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:36:45 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a05018a6f2c30dd52605e1130953b346' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a05018a6f2c30dd52605e1130953b346"], ["reset_password_token_exp", "2014-11-16 08:36:45.051123"], ["updated_at", "2014-11-16 00:36:45.053469"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.3ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 36.0ms

Sent mail to test@email.com (23.2ms)
Date: Sat, 15 Nov 2014 16:36:45 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f19d18588_1b883fc261865bec962ed@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f19d15c73_1b883fc261865bec96158";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f19d15c73_1b883fc261865bec96158
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/a05018a6f2c30dd52605e1130953b346/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f19d15c73_1b883fc261865bec96158
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/a05018a6f2c30dd52605e1130953b346/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f19d15c73_1b883fc261865bec96158--

  Rendered text template (0.1ms)
Completed 204 No Content in 67ms (Views: 1.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:45.123567"], ["email", "test@email.com"], ["password_digest", "$2a$04$dzSXbncYrCbXWYeCu7h.YejKePQh9nkJfgDd7NPV5L.R2kz7vHAXa"], ["updated_at", "2014-11-16 00:36:45.123567"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:36:45 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 14.2ms

Sent mail to foo@bar.com (49.2ms)
Date: Sat, 15 Nov 2014 16:36:45 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f19d24704_1b883fc261865bec96441@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f19d22a05_1b883fc261865bec96354";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f19d22a05_1b883fc261865bec96354
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f19d22a05_1b883fc261865bec96354
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f19d22a05_1b883fc261865bec96354--

  Rendered text template (0.1ms)
Completed 204 No Content in 69ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:45.204733"], ["email", "test@email.com"], ["password_digest", "$2a$04$K7xx2OzXf4hc1lUypD9Lo.TVVpkzcdvWPf9hyFhj7ZZ0WtXBkbL4q"], ["updated_at", "2014-11-16 00:36:45.204733"], ["username", "test"]]
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:36:45 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a3c2020b4a0c73372a59a9cdcc8f2786' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:36:45.284544"], ["expiration", "2014-11-17 00:36:45.287834"], ["key", "a3c2020b4a0c73372a59a9cdcc8f2786"], ["updated_at", "2014-11-16 00:36:45.284544"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 30ms (Views: 0.3ms | ActiveRecord: 1.8ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:45.298029"], ["email", "test@email.com"], ["password_digest", "$2a$04$CnSFFv3PZQIaKM0S/PKrIOllsreSgLano33.GaJq2HmljNfbVQE3u"], ["updated_at", "2014-11-16 00:36:45.298029"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:36:45 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0f0d6ba9f8d802f50cc64809c8f35dd4' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:36:45.306799"], ["expiration", "2014-11-17 00:36:45.310322"], ["key", "0f0d6ba9f8d802f50cc64809c8f35dd4"], ["updated_at", "2014-11-16 00:36:45.306799"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.3ms | ActiveRecord: 1.4ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (5.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:45.341566"], ["email", "test@email.com"], ["password_digest", "$2a$04$wGqVU9r0yWc3jhw.Ol3J9.EQlEKateKQLp/hOWmGG61CNEmQX7eOa"], ["updated_at", "2014-11-16 00:36:45.341566"], ["username", "test"]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:36:45 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:36:45.401923"], ["email", "test@email.com"], ["password_digest", "$2a$04$yQHqbUsm9PbbXed4JUVO/.A4FZM6WXVIgVWQsXKZHUJXcJDOrPNVm"], ["updated_at", "2014-11-16 00:36:45.401923"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:36:45 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '19fae4c7dc94f4156e3c47408c23aba6' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:36:45.430083"], ["expiration", "2014-11-17 00:36:45.445275"], ["key", "19fae4c7dc94f4156e3c47408c23aba6"], ["updated_at", "2014-11-16 00:36:45.430083"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 29ms (Views: 1.7ms | ActiveRecord: 1.5ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:36:45 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '19fae4c7dc94f4156e3c47408c23aba6' LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (3.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:15.799722"], ["email", "test@email.com"], ["password_digest", "$2a$04$kwc35khlDUCihOHHGmCklOIHw6OUnQ7PA2IEziLA/M2VwVHXcLSxe"], ["updated_at", "2014-11-16 00:37:15.799722"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7d4db077f799258386a93b5efa038393' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7d4db077f799258386a93b5efa038393"], ["reset_password_token_exp", "2014-11-16 08:37:15.806911"], ["updated_at", "2014-11-16 00:37:15.809352"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7d4db077f799258386a93b5efa038393/" for 127.0.0.1 at 2014-11-15 16:37:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7d4db077f799258386a93b5efa038393"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7d4db077f799258386a93b5efa038393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$hWEtULjmULzsx249XacWfeMS677VJL7xTxjuch6eqUmjMgr4iDapy"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:37:15.866795"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 30ms (Views: 6.8ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (9.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:15.897037"], ["email", "test@email.com"], ["password_digest", "$2a$04$tufPUw5xtuFwMYY9gtwE5.xoUor834SUUrHXHGQRIgr/v.vJrTfem"], ["updated_at", "2014-11-16 00:37:15.897037"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2716c51108a4ec3eaf1db67cf4895f2a' LIMIT 1[0m
  [1m[35m (13.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2716c51108a4ec3eaf1db67cf4895f2a"], ["reset_password_token_exp", "2014-11-16 08:37:15.908078"], ["updated_at", "2014-11-16 00:37:15.927525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2716c51108a4ec3eaf1db67cf4895f2a/" for 127.0.0.1 at 2014-11-15 16:37:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2716c51108a4ec3eaf1db67cf4895f2a"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2716c51108a4ec3eaf1db67cf4895f2a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$tQm2WSP30JjYvn8nKyTIfeiiHokGtKkdNarRxStN8kJE7vclYYmvm"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:37:15.967412"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 32ms (Views: 4.6ms | ActiveRecord: 2.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/2716c51108a4ec3eaf1db67cf4895f2a/" for 127.0.0.1 at 2014-11-15 16:37:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2716c51108a4ec3eaf1db67cf4895f2a"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2716c51108a4ec3eaf1db67cf4895f2a' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 13ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:37:16.036091"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZNcCG5Vox/aKWL0UmnT.C.rZMdm.sJ5WhnsxNCBeTXcP4.EuVygWC"], ["updated_at", "2014-11-16 00:37:16.036091"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9c8257efabe140f94de936005f27b30a' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9c8257efabe140f94de936005f27b30a"], ["reset_password_token_exp", "2014-11-16 08:37:16.049520"], ["updated_at", "2014-11-16 00:37:16.051766"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/9c8257efabe140f94de936005f27b30a/" for 127.0.0.1 at 2014-11-15 16:37:16 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"9c8257efabe140f94de936005f27b30a"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9c8257efabe140f94de936005f27b30a' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 33ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:16.100081"], ["email", "test@email.com"], ["password_digest", "$2a$04$EN9zQFcNQa9NltKF632XZ.rd715SFy9r.e7G0WjCNMMfBqrQlUR02"], ["updated_at", "2014-11-16 00:37:16.100081"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2121fe0320f99fbd48555df2c95842d8' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2121fe0320f99fbd48555df2c95842d8"], ["reset_password_token_exp", "2014-11-16 08:37:16.102936"], ["updated_at", "2014-11-16 00:37:16.160322"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:37:16 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:16.182403"], ["email", "test@email.com"], ["password_digest", "$2a$04$DVHYuBsGvAE4W5.GxRbOVuPVf9lbRcFGD8L0uofGONtkIttS4KIoi"], ["updated_at", "2014-11-16 00:37:16.182403"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2fead76bd64b231a952d2a6eb439f2e2' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2fead76bd64b231a952d2a6eb439f2e2"], ["reset_password_token_exp", "2014-11-16 08:37:16.186899"], ["updated_at", "2014-11-16 00:37:16.198975"]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/59fb7e2d3c9c4ea539791bfe2e8ca2ed/" for 127.0.0.1 at 2014-11-15 16:37:16 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"59fb7e2d3c9c4ea539791bfe2e8ca2ed"}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '59fb7e2d3c9c4ea539791bfe2e8ca2ed' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 4ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:16.251251"], ["email", "test@email.com"], ["password_digest", "$2a$04$aelP1IPBmo/TecWpY8o6qeV3jjJ.Iy8ZVpdwiwUUvjEILBkDlSv/2"], ["updated_at", "2014-11-16 00:37:16.251251"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:37:16 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b37020e88e73f430b967af1dec60cc77' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b37020e88e73f430b967af1dec60cc77"], ["reset_password_token_exp", "2014-11-16 08:37:16.261944"], ["updated_at", "2014-11-16 00:37:16.264476"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (9.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 311.7ms

Sent mail to test@email.com (7.7ms)
Date: Sat, 15 Nov 2014 16:37:16 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f1bc9711e_1ba43fe555c65be06559f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f1bc957f6_1ba43fe555c65be06548";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f1bc957f6_1ba43fe555c65be06548
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/b37020e88e73f430b967af1dec60cc77/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f1bc957f6_1ba43fe555c65be06548
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/b37020e88e73f430b967af1dec60cc77/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f1bc957f6_1ba43fe555c65be06548--

  Rendered text template (0.0ms)
Completed 204 No Content in 365ms (Views: 0.9ms | ActiveRecord: 2.2ms)
  [1m[35m (8.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:16.659780"], ["email", "test@email.com"], ["password_digest", "$2a$04$t4SB1nNj6OyDJ2uSyXwOFuNeT/5wl9nnvAJdHTDybV2jyqxOQ7A0G"], ["updated_at", "2014-11-16 00:37:16.659780"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:37:16 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 9.7ms

Sent mail to foo@bar.com (37.6ms)
Date: Sat, 15 Nov 2014 16:37:16 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f1bcae7eb_1ba43fe555c65be065737@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f1bca6f83_1ba43fe555c65be06568f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f1bca6f83_1ba43fe555c65be06568f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f1bca6f83_1ba43fe555c65be06568f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f1bca6f83_1ba43fe555c65be06568f--

  Rendered text template (0.0ms)
Completed 204 No Content in 50ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:16.785592"], ["email", "test@email.com"], ["password_digest", "$2a$04$1hxym5iN0FC/Ti.VcAsovO2ejK5R/Q2oNuzhfr8adjcf4CGNwWTey"], ["updated_at", "2014-11-16 00:37:16.785592"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:37:16 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e8d1ff43d41d4d46b919216f434629e8' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (16.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e8d1ff43d41d4d46b919216f434629e8"], ["reset_password_token_exp", "2014-11-16 08:37:16.792215"], ["updated_at", "2014-11-16 00:37:16.795173"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 11.0ms

Sent mail to test@email.com (8.1ms)
Date: Sat, 15 Nov 2014 16:37:16 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f1bccd64b_1ba43fe555c65be0659a2@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f1bccba37_1ba43fe555c65be06586b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f1bccba37_1ba43fe555c65be06586b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/e8d1ff43d41d4d46b919216f434629e8/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f1bccba37_1ba43fe555c65be06586b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/e8d1ff43d41d4d46b919216f434629e8/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f1bccba37_1ba43fe555c65be06586b--

  Rendered text template (0.0ms)
Completed 204 No Content in 60ms (Views: 0.5ms | ActiveRecord: 17.4ms)
  [1m[35m (10.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:16.883731"], ["email", "test@email.com"], ["password_digest", "$2a$04$udDwEo8mcFzJXyXIbyb/2.oTG8HjbxYx2e29OMeumtO5oml1lvh56"], ["updated_at", "2014-11-16 00:37:16.883731"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:37:16 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.5ms

Sent mail to foo@bar.com (24.8ms)
Date: Sat, 15 Nov 2014 16:37:16 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f1bcdb390_1ba43fe555c65be06617c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f1bcda7b0_1ba43fe555c65be0660dc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f1bcda7b0_1ba43fe555c65be0660dc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f1bcda7b0_1ba43fe555c65be0660dc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f1bcda7b0_1ba43fe555c65be0660dc--

  Rendered text template (0.1ms)
Completed 204 No Content in 32ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:16.959583"], ["email", "test@email.com"], ["password_digest", "$2a$04$aZnOsOwVJLpAodm5XGZ5GOFNM3Vc5uKGvRXBFBleKWSAhMJP3Ppla"], ["updated_at", "2014-11-16 00:37:16.959583"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:37:16 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '812a48f58a71f290780f803a1a053a90' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:37:17.030035"], ["expiration", "2014-11-17 00:37:17.038808"], ["key", "812a48f58a71f290780f803a1a053a90"], ["updated_at", "2014-11-16 00:37:17.030035"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 64ms (Views: 0.3ms | ActiveRecord: 3.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:17.050231"], ["email", "test@email.com"], ["password_digest", "$2a$04$b5b5j4zMhU74USX86uHQJuhTXIOmfGDSDG8ttFCTh77yi6p0ppybe"], ["updated_at", "2014-11-16 00:37:17.050231"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:37:17 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a3dad6d5574fab63067c6f5a5b41043a' LIMIT 1[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:37:17.060707"], ["expiration", "2014-11-17 00:37:17.065600"], ["key", "a3dad6d5574fab63067c6f5a5b41043a"], ["updated_at", "2014-11-16 00:37:17.060707"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 36ms (Views: 0.4ms | ActiveRecord: 3.2ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (12.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:17.126606"], ["email", "test@email.com"], ["password_digest", "$2a$04$PdPNLCwbYIjo4PCalQUbiO0gHROvllC.b2G415RyP86M.Bh9oWqMu"], ["updated_at", "2014-11-16 00:37:17.126606"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:37:17 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (10.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 23ms (Views: 0.8ms | ActiveRecord: 10.0ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:37:17.181787"], ["email", "test@email.com"], ["password_digest", "$2a$04$2fgQNpdi/bK5SdPyy4c9y.7433pnisdwPnSpKdzTAWXX1iJZn7.v."], ["updated_at", "2014-11-16 00:37:17.181787"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:37:17 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0e1146058f3af5927a95ffabbcae8442' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:37:17.229282"], ["expiration", "2014-11-17 00:37:17.234725"], ["key", "0e1146058f3af5927a95ffabbcae8442"], ["updated_at", "2014-11-16 00:37:17.229282"], ["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 39ms (Views: 0.3ms | ActiveRecord: 2.8ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:37:17 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '0e1146058f3af5927a95ffabbcae8442' LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:37:17.267238"], ["email", "test@email.com"], ["password_digest", "$2a$04$zhBtQZxck5ZCNK5qjQhWiOOsCfEu.EKmSHpqkceaQTw8Pg518iv86"], ["updated_at", "2014-11-16 00:37:17.267238"], ["username", "test"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (5.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5f69230a6f75adfb98784db2b76649c2' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:37:17.271790"], ["expiration", "2014-11-17 00:37:17.303560"], ["key", "5f69230a6f75adfb98784db2b76649c2"], ["updated_at", "2014-11-16 00:37:17.271790"], ["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:37:17 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (3.4ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '5f69230a6f75adfb98784db2b76649c2' LIMIT 1
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 3.4ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:45.731128"], ["email", "test@email.com"], ["password_digest", "$2a$04$I3FaL2Lweur.1mViBDb24eRfkw1LiAqRU6QiRQm5i9L0Lhd9gcs36"], ["updated_at", "2014-11-16 00:38:45.731128"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '840adab5e7592162fce74aa9dc8c7fca' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "840adab5e7592162fce74aa9dc8c7fca"], ["reset_password_token_exp", "2014-11-16 08:38:45.768842"], ["updated_at", "2014-11-16 00:38:45.787600"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/840adab5e7592162fce74aa9dc8c7fca/" for 127.0.0.1 at 2014-11-15 16:38:45 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"840adab5e7592162fce74aa9dc8c7fca"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '840adab5e7592162fce74aa9dc8c7fca' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$s1fndHVKZUaJ5C98ZU9k2uFsb3Szep3oeq0iMfV87hZTSYdz2LPeC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:38:45.820447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 23ms (Views: 13.9ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:45.845932"], ["email", "test@email.com"], ["password_digest", "$2a$04$3DIy04idWw6k2qaHU6fhju4nyNc/5/EDRp1Q9ZuoWE4BhLjGP5MBa"], ["updated_at", "2014-11-16 00:38:45.845932"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e5b563973468549b9f10378e012dd337' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e5b563973468549b9f10378e012dd337"], ["reset_password_token_exp", "2014-11-16 08:38:45.871166"], ["updated_at", "2014-11-16 00:38:45.882242"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e5b563973468549b9f10378e012dd337/" for 127.0.0.1 at 2014-11-15 16:38:45 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e5b563973468549b9f10378e012dd337"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e5b563973468549b9f10378e012dd337' LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$pVcaDXdC/m0NAHmcZi.AiOrWxesyKZfI8Rc2AOAUGH8COZ411ZqR2"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:38:45.904015"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 33ms (Views: 1.1ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/e5b563973468549b9f10378e012dd337/" for 127.0.0.1 at 2014-11-15 16:38:45 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e5b563973468549b9f10378e012dd337"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e5b563973468549b9f10378e012dd337' LIMIT 1
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 4ms (Views: 1.7ms | ActiveRecord: 0.9ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (3.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:38:45.965864"], ["email", "test@email.com"], ["password_digest", "$2a$04$JYv17lvatKr85MLX6NQHZ.mJfgdWnwyn.nrAOCqDAlV5ngZVIutaq"], ["updated_at", "2014-11-16 00:38:45.965864"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '14c4edd57332bc382e5179e437edb329' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "14c4edd57332bc382e5179e437edb329"], ["reset_password_token_exp", "2014-11-16 08:38:45.972462"], ["updated_at", "2014-11-16 00:38:45.976528"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/14c4edd57332bc382e5179e437edb329/" for 127.0.0.1 at 2014-11-15 16:38:45 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"14c4edd57332bc382e5179e437edb329"}
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '14c4edd57332bc382e5179e437edb329' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 32ms (Views: 0.3ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:46.042539"], ["email", "test@email.com"], ["password_digest", "$2a$04$vur/JJ8auST.R7Yl4jPlYeO7tenoypDgdwvm4xcVuXvAT..CT40Um"], ["updated_at", "2014-11-16 00:38:46.042539"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '859fd46356985813eeff0ae82a6dec0d' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "859fd46356985813eeff0ae82a6dec0d"], ["reset_password_token_exp", "2014-11-16 08:38:46.045199"], ["updated_at", "2014-11-16 00:38:46.056311"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:38:46 -0800
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:46.122215"], ["email", "test@email.com"], ["password_digest", "$2a$04$Z8Po2qyfu4rpchcgiHrNY.OE.VwFk4YiooAmcOauSq0/OQ7iX5q1y"], ["updated_at", "2014-11-16 00:38:46.122215"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7ee444543c34878152e2f3807c56151e' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7ee444543c34878152e2f3807c56151e"], ["reset_password_token_exp", "2014-11-16 08:38:46.143914"], ["updated_at", "2014-11-16 00:38:46.147735"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/f223e174631c6287860e4fb832ae04be/" for 127.0.0.1 at 2014-11-15 16:38:46 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"f223e174631c6287860e4fb832ae04be"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'f223e174631c6287860e4fb832ae04be' LIMIT 1[0m
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 4ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (12.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:46.188211"], ["email", "test@email.com"], ["password_digest", "$2a$04$NOuKigfhczkk9pNJ5jyAJ.7YUV5oEFxdJxN.PMTVnS8gkv4ELg9kO"], ["updated_at", "2014-11-16 00:38:46.188211"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:38:46 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c207efb46f1122a0ad9830b7576c60ad' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (2.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c207efb46f1122a0ad9830b7576c60ad"], ["reset_password_token_exp", "2014-11-16 08:38:46.221982"], ["updated_at", "2014-11-16 00:38:46.225225"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 317.6ms

Sent mail to test@email.com (13.4ms)
Date: Sat, 15 Nov 2014 16:38:46 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f2168a98c_1bc83fde55c59be43001b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f2168903e_1bc83fde55c59be4299d6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f2168903e_1bc83fde55c59be4299d6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/c207efb46f1122a0ad9830b7576c60ad/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f2168903e_1bc83fde55c59be4299d6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/c207efb46f1122a0ad9830b7576c60ad/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f2168903e_1bc83fde55c59be4299d6--

  Rendered text template (0.0ms)
Completed 204 No Content in 357ms (Views: 0.6ms | ActiveRecord: 3.1ms)
  [1m[35m (6.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:46.595112"], ["email", "test@email.com"], ["password_digest", "$2a$04$71aIdf13iKiRqWqFPQTKhe.CEUcAneCws80fhkv4jxg.3fcJVlviu"], ["updated_at", "2014-11-16 00:38:46.595112"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:38:46 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 10.5ms

Sent mail to foo@bar.com (5.1ms)
Date: Sat, 15 Nov 2014 16:38:46 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f216a668f_1bc83fde55c59be4302bc@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f216a55ac_1bc83fde55c59be43012b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f216a55ac_1bc83fde55c59be43012b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f216a55ac_1bc83fde55c59be43012b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f216a55ac_1bc83fde55c59be43012b--

  Rendered text template (0.0ms)
Completed 204 No Content in 42ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (5.5ms)[0m  rollback transaction
  [1m[36m (13.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:46.751029"], ["email", "test@email.com"], ["password_digest", "$2a$04$ORPNSGOVbHABxtqdBh1e5.1LC8AAx7SC.BtmopX1Re2bOxXZcQx.K"], ["updated_at", "2014-11-16 00:38:46.751029"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:38:46 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bfb6ad252043c232d5b9ed76e6e9dc11' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bfb6ad252043c232d5b9ed76e6e9dc11"], ["reset_password_token_exp", "2014-11-16 08:38:46.760868"], ["updated_at", "2014-11-16 00:38:46.762593"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 25.6ms

Sent mail to test@email.com (6.1ms)
Date: Sat, 15 Nov 2014 16:38:46 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f216c2716_1bc83fde55c59be4304e3@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f216be170_1bc83fde55c59be43034b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f216be170_1bc83fde55c59be43034b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/bfb6ad252043c232d5b9ed76e6e9dc11/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f216be170_1bc83fde55c59be43034b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/bfb6ad252043c232d5b9ed76e6e9dc11/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f216be170_1bc83fde55c59be43034b--

  Rendered text template (0.0ms)
Completed 204 No Content in 42ms (Views: 0.3ms | ActiveRecord: 1.5ms)
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:46.838269"], ["email", "test@email.com"], ["password_digest", "$2a$04$1Ow8C71POgFcav5hS5hVRe3MRHpoa21ec2x9W.RNWcQH/dkm1xLw2"], ["updated_at", "2014-11-16 00:38:46.838269"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:38:46 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 5.0ms

Sent mail to foo@bar.com (9.0ms)
Date: Sat, 15 Nov 2014 16:38:46 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f216d84cd_1bc83fde55c59be4306de@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f216d6af8_1bc83fde55c59be4305f2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f216d6af8_1bc83fde55c59be4305f2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f216d6af8_1bc83fde55c59be4305f2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f216d6af8_1bc83fde55c59be4305f2--

  Rendered text template (0.0ms)
Completed 204 No Content in 16ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:46.926961"], ["email", "test@email.com"], ["password_digest", "$2a$04$vm1KMk56cR09xqpTZy21WunX3SQecwPPf6MLT62OSC9dpUyrcggw."], ["updated_at", "2014-11-16 00:38:46.926961"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:38:46 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6c1a3151b8f2e7a672ad249dc9831eec' LIMIT 1[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:38:47.013721"], ["expiration", "2014-11-17 00:38:47.017834"], ["key", "6c1a3151b8f2e7a672ad249dc9831eec"], ["updated_at", "2014-11-16 00:38:47.013721"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 3.3ms | ActiveRecord: 4.7ms)
  [1m[35m (4.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:47.039743"], ["email", "test@email.com"], ["password_digest", "$2a$04$HVdFt3oWod0NOsV4ZiI35./GyOIbmD8UbzRGlL68Po22qfusfjvoe"], ["updated_at", "2014-11-16 00:38:47.039743"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:38:47 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '72547226ced5523b91f96741aa061e7e' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:38:47.049044"], ["expiration", "2014-11-17 00:38:47.050558"], ["key", "72547226ced5523b91f96741aa061e7e"], ["updated_at", "2014-11-16 00:38:47.049044"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 0.6ms | ActiveRecord: 1.5ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:47.121589"], ["email", "test@email.com"], ["password_digest", "$2a$04$TTpzqwEfXk/yc6LTDgzO2OPchHoT9WS67hwv/z/awRATwnXKG.OMW"], ["updated_at", "2014-11-16 00:38:47.121589"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:38:47 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 7ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:38:47.173138"], ["email", "test@email.com"], ["password_digest", "$2a$04$1dfDmdFVp11EsXZrqv7I5e1Wc4rlKrD22pPZPtCv3bkkG6N576rgW"], ["updated_at", "2014-11-16 00:38:47.173138"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:38:47 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '04a8b879806616cc90c2695c8f361c80' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:38:47.185874"], ["expiration", "2014-11-17 00:38:47.187535"], ["key", "04a8b879806616cc90c2695c8f361c80"], ["updated_at", "2014-11-16 00:38:47.185874"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 30ms (Views: 0.3ms | ActiveRecord: 2.7ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:38:47 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '04a8b879806616cc90c2695c8f361c80' LIMIT 1
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (6.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:38:47.231282"], ["email", "test@email.com"], ["password_digest", "$2a$04$1VkzivoSq/QiEgcgvCF9mO7EazJEng2EsNZylKNylbLpZ620BkOO2"], ["updated_at", "2014-11-16 00:38:47.231282"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '57202d6b997f3f4b11d620b42e2905bf' LIMIT 1[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:38:47.261927"], ["expiration", "2014-11-17 00:38:47.262789"], ["key", "57202d6b997f3f4b11d620b42e2905bf"], ["updated_at", "2014-11-16 00:38:47.261927"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:33:47.269457"], ["updated_at", "2014-11-16 00:38:47.288904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:38:47 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '57202d6b997f3f4b11d620b42e2905bf' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:26.133651"], ["email", "test@email.com"], ["password_digest", "$2a$04$8hQHlAb2kKk2q2BE/ydn.O4vt3qtxaz8XWaYPKidPSiQyZTMhGjOW"], ["updated_at", "2014-11-16 00:39:26.133651"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0960e504e8001f59fee9b31e9a0cc0d9' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0960e504e8001f59fee9b31e9a0cc0d9"], ["reset_password_token_exp", "2014-11-16 08:39:26.140373"], ["updated_at", "2014-11-16 00:39:26.143107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0960e504e8001f59fee9b31e9a0cc0d9/" for 127.0.0.1 at 2014-11-15 16:39:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0960e504e8001f59fee9b31e9a0cc0d9"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0960e504e8001f59fee9b31e9a0cc0d9' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$MTwacaVCA4.CV5UvCyXyF.b0zcKAKdpVAf4sjPAWiDwMJdtUIh/lK"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:39:26.260808"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 90ms (Views: 21.4ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:26.297547"], ["email", "test@email.com"], ["password_digest", "$2a$04$nJ91X8tvoH9Q9GUZZhdoZOxSLu5MgnptrcI3jgeaO5YjUhZSRNLu6"], ["updated_at", "2014-11-16 00:39:26.297547"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7121c0c34fbcc54863c7c9d9c8e275c7' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7121c0c34fbcc54863c7c9d9c8e275c7"], ["reset_password_token_exp", "2014-11-16 08:39:26.310530"], ["updated_at", "2014-11-16 00:39:26.314008"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7121c0c34fbcc54863c7c9d9c8e275c7/" for 127.0.0.1 at 2014-11-15 16:39:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7121c0c34fbcc54863c7c9d9c8e275c7"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7121c0c34fbcc54863c7c9d9c8e275c7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$KaIO0EJtSJ7YrjlxUdvsH.Gjb6ASKk1uMcrfpkTJhNo0D3ZAe18qS"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:39:26.344124"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 9ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/7121c0c34fbcc54863c7c9d9c8e275c7/" for 127.0.0.1 at 2014-11-15 16:39:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7121c0c34fbcc54863c7c9d9c8e275c7"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7121c0c34fbcc54863c7c9d9c8e275c7' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (2.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (4.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:39:26.380359"], ["email", "test@email.com"], ["password_digest", "$2a$04$432cOfKbQf14QgyW8AQcIuRdTvsoPc7ENU5dlhET38ViQBkF.6Q.G"], ["updated_at", "2014-11-16 00:39:26.380359"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c9397d92886e86f5834a9a2328742972' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (9.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c9397d92886e86f5834a9a2328742972"], ["reset_password_token_exp", "2014-11-16 08:39:26.384763"], ["updated_at", "2014-11-16 00:39:26.401544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/c9397d92886e86f5834a9a2328742972/" for 127.0.0.1 at 2014-11-15 16:39:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"c9397d92886e86f5834a9a2328742972"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c9397d92886e86f5834a9a2328742972' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 29ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:26.453969"], ["email", "test@email.com"], ["password_digest", "$2a$04$Pdw6MBa6vhejeoVq1mTazuYPjNhd5bRLoUWO41Hm0OmuC3GYb74tW"], ["updated_at", "2014-11-16 00:39:26.453969"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '64b32470aec0a119bd5c4bd55b2a058d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "64b32470aec0a119bd5c4bd55b2a058d"], ["reset_password_token_exp", "2014-11-16 08:39:26.456654"], ["updated_at", "2014-11-16 00:39:26.467165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:39:26 -0800
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:26.500069"], ["email", "test@email.com"], ["password_digest", "$2a$04$UFAGhIYRG4IaWHkvvODAeeIU1he5vapMuVmTNX4Ka5kO1N6lWQPEm"], ["updated_at", "2014-11-16 00:39:26.500069"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0619f2e55ec8ebeda6957e1108060b3f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0619f2e55ec8ebeda6957e1108060b3f"], ["reset_password_token_exp", "2014-11-16 08:39:26.514376"], ["updated_at", "2014-11-16 00:39:26.516371"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e4275ed051fd3fb69091c511bc832532/" for 127.0.0.1 at 2014-11-15 16:39:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e4275ed051fd3fb69091c511bc832532"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e4275ed051fd3fb69091c511bc832532' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 5ms (Views: 2.4ms | ActiveRecord: 0.5ms)
  [1m[35m (7.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (47.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:26.556060"], ["email", "test@email.com"], ["password_digest", "$2a$04$rwDEonVP4kL7QSKQqBeYQ.Q547l52UQwwsHwAVQ5oh1RFBRhtEnSC"], ["updated_at", "2014-11-16 00:39:26.556060"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:39:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a0bdab8fcf8a5a1d16aaaf2f71795d4c' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a0bdab8fcf8a5a1d16aaaf2f71795d4c"], ["reset_password_token_exp", "2014-11-16 08:39:26.627074"], ["updated_at", "2014-11-16 00:39:26.629111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 311.4ms

Sent mail to test@email.com (11.1ms)
Date: Sat, 15 Nov 2014 16:39:26 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f23eea7dd_1be63fff7d463be487342@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f23ee8786_1be63fff7d463be4872e9";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f23ee8786_1be63fff7d463be4872e9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/a0bdab8fcf8a5a1d16aaaf2f71795d4c/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f23ee8786_1be63fff7d463be4872e9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/a0bdab8fcf8a5a1d16aaaf2f71795d4c/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f23ee8786_1be63fff7d463be4872e9--

  Rendered text template (0.0ms)
Completed 204 No Content in 340ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:26.972046"], ["email", "test@email.com"], ["password_digest", "$2a$04$irmPl13rdaRRw4/aK6Iib.RVUKKuBOwNUtjQ140S9Au0GXvYroVEy"], ["updated_at", "2014-11-16 00:39:26.972046"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:39:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 36.5ms

Sent mail to foo@bar.com (20.1ms)
Date: Sat, 15 Nov 2014 16:39:27 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f23f4479_1be63fff7d463be487519@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f23ef13f3_1be63fff7d463be4874d4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f23ef13f3_1be63fff7d463be4874d4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f23ef13f3_1be63fff7d463be4874d4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f23ef13f3_1be63fff7d463be4874d4--

  Rendered text template (0.1ms)
Completed 204 No Content in 59ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:27.100690"], ["email", "test@email.com"], ["password_digest", "$2a$04$CKgkf2b2jdQ3WcyepxhLiek57e97LbDxMTnL.O7Zr.LuQ2pedepk2"], ["updated_at", "2014-11-16 00:39:27.100690"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '66c04aafd1bcb62ac93332f23f868815' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "66c04aafd1bcb62ac93332f23f868815"], ["reset_password_token_exp", "2014-11-16 08:39:27.127530"], ["updated_at", "2014-11-16 00:39:27.136255"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 4.1ms

Sent mail to test@email.com (3.7ms)
Date: Sat, 15 Nov 2014 16:39:27 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f23f235d8_1be63fff7d463be48774e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f23f22c34_1be63fff7d463be487658";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f23f22c34_1be63fff7d463be487658
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/66c04aafd1bcb62ac93332f23f868815/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f23f22c34_1be63fff7d463be487658
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/66c04aafd1bcb62ac93332f23f868815/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f23f22c34_1be63fff7d463be487658--

  Rendered text template (0.0ms)
Completed 204 No Content in 37ms (Views: 0.4ms | ActiveRecord: 3.8ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:27.156799"], ["email", "test@email.com"], ["password_digest", "$2a$04$YFiA6zLSnVKx0lqXQG0Rjef5j11X6X603d/do3UMObL7cAjh4G2Nu"], ["updated_at", "2014-11-16 00:39:27.156799"], ["username", "test"]]
  [1m[35m (3.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.4ms

Sent mail to foo@bar.com (12.0ms)
Date: Sat, 15 Nov 2014 16:39:27 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f23f3548a_1be63fff7d463be4879fd@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f23f34c52_1be63fff7d463be4878be";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f23f34c52_1be63fff7d463be4878be
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f23f34c52_1be63fff7d463be4878be
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f23f34c52_1be63fff7d463be4878be--

  Rendered text template (0.0ms)
Completed 204 No Content in 21ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (33.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:27.284133"], ["email", "test@email.com"], ["password_digest", "$2a$04$r/bpl8mK5D2Q5ZTsTa4L5uKU1eAfSiqB4/2mToKvYo21VgsKoec1."], ["updated_at", "2014-11-16 00:39:27.284133"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'cde95b111f64b577143af948ce70be60' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:39:27.344462"], ["expiration", "2014-11-17 00:39:27.347432"], ["key", "cde95b111f64b577143af948ce70be60"], ["updated_at", "2014-11-16 00:39:27.344462"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 40ms (Views: 0.3ms | ActiveRecord: 1.2ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:27.373658"], ["email", "test@email.com"], ["password_digest", "$2a$04$H5FgqNweifrQHSfn5bEl..jXPQVXGxzZkbdVDgTdtaoHUtgOj5v7y"], ["updated_at", "2014-11-16 00:39:27.373658"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '9b55b197d010ad21d47dd4fe6611a95b' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:39:27.387252"], ["expiration", "2014-11-17 00:39:27.397650"], ["key", "9b55b197d010ad21d47dd4fe6611a95b"], ["updated_at", "2014-11-16 00:39:27.387252"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 38ms (Views: 0.3ms | ActiveRecord: 2.5ms)
  [1m[35m (9.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (14.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:27.447358"], ["email", "test@email.com"], ["password_digest", "$2a$04$s7grxfcybBRROro2rdErUeeCF.5vcE9tNxbxs1tf.7EEbsAHJ.4um"], ["updated_at", "2014-11-16 00:39:27.447358"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 8ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:27.518049"], ["email", "test@email.com"], ["password_digest", "$2a$04$AXfx0iYezMv1dM.jcpUtFu//QrlDQ/eogMgo.hwInustXW2bPx9h2"], ["updated_at", "2014-11-16 00:39:27.518049"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1ce0f9a4505a813148f9e330082afcd1' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:39:27.542355"], ["expiration", "2014-11-17 00:39:27.543614"], ["key", "1ce0f9a4505a813148f9e330082afcd1"], ["updated_at", "2014-11-16 00:39:27.542355"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.5ms | ActiveRecord: 1.3ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1ce0f9a4505a813148f9e330082afcd1' LIMIT 1
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:39:27.594833"], ["email", "test@email.com"], ["password_digest", "$2a$04$F1crMTbk5fcs/VMY7jBdxuFSu.eIjjxkC3LRJZkRJahzC7Fx6l1wm"], ["updated_at", "2014-11-16 00:39:27.594833"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '8299606537259a5da3c0821e130d5ebc' LIMIT 1[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:39:27.597304"], ["expiration", "2014-11-17 00:39:27.599599"], ["key", "8299606537259a5da3c0821e130d5ebc"], ["updated_at", "2014-11-16 00:39:27.597304"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:34:27.617103"], ["updated_at", "2014-11-16 00:39:27.617563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '8299606537259a5da3c0821e130d5ebc' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:27.639301"], ["email", "test@email.com"], ["password_digest", "$2a$04$akihai4CrA5ZBrCuOAp15.Lvd0tryNF.gPf7cc5qqAnXHHrpMG5SK"], ["updated_at", "2014-11-16 00:39:27.639301"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.5ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7aff997a3b39e01e12c1074947909a4c' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:39:27.646905"], ["expiration", "2014-11-17 00:39:27.649457"], ["key", "7aff997a3b39e01e12c1074947909a4c"], ["updated_at", "2014-11-16 00:39:27.646905"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-11-16 00:34:27.652694"], ["updated_at", "2014-11-16 00:39:27.653773"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:39:27 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7aff997a3b39e01e12c1074947909a4c' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:57.587241"], ["email", "test@email.com"], ["password_digest", "$2a$04$3OQ/QISUWBEMFyZ0cgv85exYWcuUnXTH7tNmbPTv0o/SB2uLDMYAi"], ["updated_at", "2014-11-16 00:40:57.587241"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '908d5dea8346e055cf7b10ad2605e390' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (4.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "908d5dea8346e055cf7b10ad2605e390"], ["reset_password_token_exp", "2014-11-16 08:40:57.598739"], ["updated_at", "2014-11-16 00:40:57.602811"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/908d5dea8346e055cf7b10ad2605e390/" for 127.0.0.1 at 2014-11-15 16:40:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"908d5dea8346e055cf7b10ad2605e390"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '908d5dea8346e055cf7b10ad2605e390' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$8Z1c9xqkHViVoAm5ZgxKj.4XE1HkCK3E6TPxw6710Xw5J4M/qeSkG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:40:57.684710"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 38ms (Views: 14.2ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:57.723227"], ["email", "test@email.com"], ["password_digest", "$2a$04$BTbveQo.ub9C8QJ5U1iFJOf9nXJTQrv7L5/8NgpXOXFkN5Zjq7uJy"], ["updated_at", "2014-11-16 00:40:57.723227"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e887094bb9670972cdbf235d430f14f5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e887094bb9670972cdbf235d430f14f5"], ["reset_password_token_exp", "2014-11-16 08:40:57.728814"], ["updated_at", "2014-11-16 00:40:57.736499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e887094bb9670972cdbf235d430f14f5/" for 127.0.0.1 at 2014-11-15 16:40:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e887094bb9670972cdbf235d430f14f5"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e887094bb9670972cdbf235d430f14f5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$1gOpPozAZiPmUFplpDcN/um1TeUw9bz1WPezAUEWmpXJd1/m.ndDi"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:40:57.764100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 25ms (Views: 0.6ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/e887094bb9670972cdbf235d430f14f5/" for 127.0.0.1 at 2014-11-15 16:40:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e887094bb9670972cdbf235d430f14f5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e887094bb9670972cdbf235d430f14f5' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (4.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:40:57.803395"], ["email", "test@email.com"], ["password_digest", "$2a$04$gnWVTQz2clCiyfkvmb78/eh.2KOgcANy76.Y7IahRNoEGds2DEdTe"], ["updated_at", "2014-11-16 00:40:57.803395"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7b6b8aa989ad4ca6b28f0a107968e60d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7b6b8aa989ad4ca6b28f0a107968e60d"], ["reset_password_token_exp", "2014-11-16 08:40:57.812623"], ["updated_at", "2014-11-16 00:40:57.814379"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/7b6b8aa989ad4ca6b28f0a107968e60d/" for 127.0.0.1 at 2014-11-15 16:40:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"7b6b8aa989ad4ca6b28f0a107968e60d"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7b6b8aa989ad4ca6b28f0a107968e60d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 19ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (14.3ms)[0m  rollback transaction
  [1m[36m (3.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:57.933695"], ["email", "test@email.com"], ["password_digest", "$2a$04$GZhdd7ePmrHfqpg0UzAtS.GbfUF9zXG68CwL7LnG0ZEo4c1zVTzTq"], ["updated_at", "2014-11-16 00:40:57.933695"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (10.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '90a13fdfc892383eeef3993dc8d0d767' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "90a13fdfc892383eeef3993dc8d0d767"], ["reset_password_token_exp", "2014-11-16 08:40:57.959340"], ["updated_at", "2014-11-16 00:40:57.964354"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:40:57 -0800
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:58.014397"], ["email", "test@email.com"], ["password_digest", "$2a$04$Qu.LnnbYT/tATC0RItPs5uLQznW3Do5x43uIlJnnR1rnkcfDiQZ3."], ["updated_at", "2014-11-16 00:40:58.014397"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd7604fc45a2faa729e84e3d939dde087' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d7604fc45a2faa729e84e3d939dde087"], ["reset_password_token_exp", "2014-11-16 08:40:58.044297"], ["updated_at", "2014-11-16 00:40:58.049171"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/229b4f070b4af63d9817b5abd889739d/" for 127.0.0.1 at 2014-11-15 16:40:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"229b4f070b4af63d9817b5abd889739d"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '229b4f070b4af63d9817b5abd889739d' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (5.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:58.128507"], ["email", "test@email.com"], ["password_digest", "$2a$04$F9jmKQ.TfyHmc5tBXA0kx.ega8rsSPJ9igIEFJsLP8epH/Loxa3rm"], ["updated_at", "2014-11-16 00:40:58.128507"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:40:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5d3626a1d8b6a39d7b4a516edce32416' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "5d3626a1d8b6a39d7b4a516edce32416"], ["reset_password_token_exp", "2014-11-16 08:40:58.139646"], ["updated_at", "2014-11-16 00:40:58.141863"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (5.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 258.3ms

Sent mail to test@email.com (10.3ms)
Date: Sat, 15 Nov 2014 16:40:58 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f29a69bf6_1c0b3fc116457bf0171d1@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f29a6880a_1c0b3fc116457bf017024";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f29a6880a_1c0b3fc116457bf017024
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/5d3626a1d8b6a39d7b4a516edce32416/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f29a6880a_1c0b3fc116457bf017024
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/5d3626a1d8b6a39d7b4a516edce32416/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f29a6880a_1c0b3fc116457bf017024--

  Rendered text template (0.0ms)
Completed 204 No Content in 308ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[35m (8.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:58.475247"], ["email", "test@email.com"], ["password_digest", "$2a$04$zwGNNnztMfN5iBFKXrQDpu7qmxfCFxL2XMGZLjlw.t7aiRKeT4TYK"], ["updated_at", "2014-11-16 00:40:58.475247"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:40:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 31.8ms

Sent mail to foo@bar.com (20.4ms)
Date: Sat, 15 Nov 2014 16:40:58 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f29a834b9_1c0b3fc116457bf017399@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f29a7dcab_1c0b3fc116457bf0172fe";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f29a7dcab_1c0b3fc116457bf0172fe
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f29a7dcab_1c0b3fc116457bf0172fe
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f29a7dcab_1c0b3fc116457bf0172fe--

  Rendered text template (0.0ms)
Completed 204 No Content in 55ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (8.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:58.603854"], ["email", "test@email.com"], ["password_digest", "$2a$04$Rp3nplKAwpMvjwpxQW6lTuz3Ius8N6BmIdtyFjY5GSUx1RyJsQvve"], ["updated_at", "2014-11-16 00:40:58.603854"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:40:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '366d84e5c829bfcc62c949467e498a80' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "366d84e5c829bfcc62c949467e498a80"], ["reset_password_token_exp", "2014-11-16 08:40:58.643272"], ["updated_at", "2014-11-16 00:40:58.647368"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 14.2ms

Sent mail to test@email.com (10.5ms)
Date: Sat, 15 Nov 2014 16:40:58 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f29aa3162_1c0b3fc116457bf0175b3@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f29a9ee08_1c0b3fc116457bf017460";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f29a9ee08_1c0b3fc116457bf017460
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/366d84e5c829bfcc62c949467e498a80/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f29a9ee08_1c0b3fc116457bf017460
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/366d84e5c829bfcc62c949467e498a80/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f29a9ee08_1c0b3fc116457bf017460--

  Rendered text template (0.0ms)
Completed 204 No Content in 36ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[35m (9.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:58.712562"], ["email", "test@email.com"], ["password_digest", "$2a$04$wf.N89eYx7biL9PkvwoCY.60oO/o0ExydtRnqdRJKd87d.6O2rlue"], ["updated_at", "2014-11-16 00:40:58.712562"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:40:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (20.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 17.3ms

Sent mail to foo@bar.com (10.6ms)
Date: Sat, 15 Nov 2014 16:40:58 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f29abce6b_1c0b3fc116457bf017731@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f29abb726_1c0b3fc116457bf017689";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f29abb726_1c0b3fc116457bf017689
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f29abb726_1c0b3fc116457bf017689
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f29abb726_1c0b3fc116457bf017689--

  Rendered text template (0.0ms)
Completed 204 No Content in 70ms (Views: 1.1ms | ActiveRecord: 20.7ms)
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:58.802239"], ["email", "test@email.com"], ["password_digest", "$2a$04$HgJw93uBY5iLuaN6DdtwdOJSxVKjpXskcJsjtZ7ubA1kfK8Nx0RGS"], ["updated_at", "2014-11-16 00:40:58.802239"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:40:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f67c02feaec7f7eef5c6d9ee92fc01fa' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:40:58.866921"], ["expiration", "2014-11-17 00:40:58.873265"], ["key", "f67c02feaec7f7eef5c6d9ee92fc01fa"], ["updated_at", "2014-11-16 00:40:58.866921"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 60ms (Views: 0.3ms | ActiveRecord: 4.8ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (13.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:58.883643"], ["email", "test@email.com"], ["password_digest", "$2a$04$n36RLmdGHB8jd2V8myhymuN52IK/97RwfacgBQHg/un4qzoiU4hP6"], ["updated_at", "2014-11-16 00:40:58.883643"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:40:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a4c4b9510c847458e65f08f90d83377a' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:40:58.943057"], ["expiration", "2014-11-17 00:40:58.957400"], ["key", "a4c4b9510c847458e65f08f90d83377a"], ["updated_at", "2014-11-16 00:40:58.943057"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 51ms (Views: 0.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (1.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:58.969795"], ["email", "test@email.com"], ["password_digest", "$2a$04$IbnfxMv1G8ZFLfe9Q.W4t.vbGTXpECuo9HP8ZDjWsWqyiA0GIt2Qi"], ["updated_at", "2014-11-16 00:40:58.969795"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:40:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 9ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (8.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:59.022735"], ["email", "test@email.com"], ["password_digest", "$2a$04$pluJ/8MLzo2RUOxJcJ2kVu/odOyvtOaLqqNN.v.Q3qG4R6DL5opEO"], ["updated_at", "2014-11-16 00:40:59.022735"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:40:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b160574838b47d4d54f028c41222340b' LIMIT 1[0m
  [1m[35mSQL (8.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:40:59.050134"], ["expiration", "2014-11-17 00:40:59.061281"], ["key", "b160574838b47d4d54f028c41222340b"], ["updated_at", "2014-11-16 00:40:59.050134"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 50ms (Views: 2.4ms | ActiveRecord: 8.8ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:40:59 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b160574838b47d4d54f028c41222340b' LIMIT 1
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:40:59.108624"], ["email", "test@email.com"], ["password_digest", "$2a$04$fmxtVP5N6Wu3h9V6uM0g2OFX.oP/DTTZHYeNg7W88eUMq6Pz.T2Ti"], ["updated_at", "2014-11-16 00:40:59.108624"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (2.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a78038ce88f672023a1178d336b07817' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:40:59.111309"], ["expiration", "2014-11-17 00:40:59.125127"], ["key", "a78038ce88f672023a1178d336b07817"], ["updated_at", "2014-11-16 00:40:59.111309"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:35:59.133454"], ["updated_at", "2014-11-16 00:40:59.133944"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:40:59 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.3ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a78038ce88f672023a1178d336b07817' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (43.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:59.173783"], ["email", "test@email.com"], ["password_digest", "$2a$04$6Boeu9W/i4y8Xzu93hLFFeoxmcqE1c8oA093yk4d6qJPIDd3qVzvG"], ["updated_at", "2014-11-16 00:40:59.173783"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (5.8ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ef24aa5d161e673e3e326cf124993a21' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:40:59.224361"], ["expiration", "2014-11-17 00:40:59.232594"], ["key", "ef24aa5d161e673e3e326cf124993a21"], ["updated_at", "2014-11-16 00:40:59.224361"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:40:59 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ef24aa5d161e673e3e326cf124993a21' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 12ms (Views: 1.2ms | ActiveRecord: 1.0ms)
  [1m[36m (10.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:40:59.275124"], ["email", "test@email.com"], ["password_digest", "$2a$04$CinOCHmSw24YpQjaAUTO1.5Eimz85wdE5Ub8zbMaT1voKYLHS2gZi"], ["updated_at", "2014-11-16 00:40:59.275124"], ["username", "test"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '11f600a0011c67ab666832449072768a' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:40:59.298161"], ["expiration", "2014-11-17 00:40:59.305498"], ["key", "11f600a0011c67ab666832449072768a"], ["updated_at", "2014-11-16 00:40:59.298161"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:35:59.310052"], ["updated_at", "2014-11-16 00:40:59.310858"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:40:59 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '11f600a0011c67ab666832449072768a' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:25.981961"], ["email", "test@email.com"], ["password_digest", "$2a$04$3lN9hH9xKkH4DJ013oOQMuYn29nc0IZKrDPj6Wc1N3r15UABX0.yW"], ["updated_at", "2014-11-16 00:43:25.981961"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8ed3e11c4cd374a3ca21767a76156800' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (7.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "8ed3e11c4cd374a3ca21767a76156800"], ["reset_password_token_exp", "2014-11-16 08:43:25.988611"], ["updated_at", "2014-11-16 00:43:25.992184"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/8ed3e11c4cd374a3ca21767a76156800/" for 127.0.0.1 at 2014-11-15 16:43:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"8ed3e11c4cd374a3ca21767a76156800"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8ed3e11c4cd374a3ca21767a76156800' LIMIT 1[0m
  [1m[35m (1.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$sfbWD8ZK87zbAq6bJHvdLuObuPlfv/14Q1vLYi61pMiHxJPitzPma"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:43:26.046237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.2ms)
Completed 204 No Content in 28ms (Views: 7.7ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (29.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:26.101860"], ["email", "test@email.com"], ["password_digest", "$2a$04$EcuTKrDFINKBV11nJJb7wexP0GDFzGJ/CMncW8qQFKwHvDr2YUCE6"], ["updated_at", "2014-11-16 00:43:26.101860"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '286fa7d27329f42f87626b58cfeae9e2' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "286fa7d27329f42f87626b58cfeae9e2"], ["reset_password_token_exp", "2014-11-16 08:43:26.143301"], ["updated_at", "2014-11-16 00:43:26.150750"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/286fa7d27329f42f87626b58cfeae9e2/" for 127.0.0.1 at 2014-11-15 16:43:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"286fa7d27329f42f87626b58cfeae9e2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '286fa7d27329f42f87626b58cfeae9e2' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$rDYBHODnXvgS67Z5pSrTueUROelnAKF8jlmNplJ53lIf8buwLwMGi"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:43:26.161921"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 11ms (Views: 1.7ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/286fa7d27329f42f87626b58cfeae9e2/" for 127.0.0.1 at 2014-11-15 16:43:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"286fa7d27329f42f87626b58cfeae9e2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '286fa7d27329f42f87626b58cfeae9e2' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (11.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (7.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:43:26.230028"], ["email", "test@email.com"], ["password_digest", "$2a$04$brtGYrOBsGReqNF8m8akuezmHQNNhKwfTNJXDYm6i86Gb3A8Ek6y2"], ["updated_at", "2014-11-16 00:43:26.230028"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0ed92decaf3200a6eb839db2032fad05' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "0ed92decaf3200a6eb839db2032fad05"], ["reset_password_token_exp", "2014-11-16 08:43:26.272657"], ["updated_at", "2014-11-16 00:43:26.277722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/0ed92decaf3200a6eb839db2032fad05/" for 127.0.0.1 at 2014-11-15 16:43:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"0ed92decaf3200a6eb839db2032fad05"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0ed92decaf3200a6eb839db2032fad05' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 21ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (19.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:26.332551"], ["email", "test@email.com"], ["password_digest", "$2a$04$Fr9AzrIx7Ptde3CLDvkSkOM54azWI62StofsBbSgclPNbgMHRzI.y"], ["updated_at", "2014-11-16 00:43:26.332551"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd19db9bf7ec82d99281d14b45e97d06e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d19db9bf7ec82d99281d14b45e97d06e"], ["reset_password_token_exp", "2014-11-16 08:43:26.387168"], ["updated_at", "2014-11-16 00:43:26.391767"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:43:26 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:26.439431"], ["email", "test@email.com"], ["password_digest", "$2a$04$AllnFYdqvThK4fAkyLuuv.vmy20fBuHRvUl7FeuKiVyFFH40Rn.eC"], ["updated_at", "2014-11-16 00:43:26.439431"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '349b1c270cba397e9d7dbb823dc0da47' LIMIT 1[0m
  [1m[35m (20.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "349b1c270cba397e9d7dbb823dc0da47"], ["reset_password_token_exp", "2014-11-16 08:43:26.446059"], ["updated_at", "2014-11-16 00:43:26.473226"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e3f3585c21214a1d7e1f0da6d583bca0/" for 127.0.0.1 at 2014-11-15 16:43:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e3f3585c21214a1d7e1f0da6d583bca0"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e3f3585c21214a1d7e1f0da6d583bca0' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:26.490940"], ["email", "test@email.com"], ["password_digest", "$2a$04$A4Sgpes5SxRzuFB9kCZd9.ohrqIgrIysYiE2qyqFSDW5gZ8SV4UFu"], ["updated_at", "2014-11-16 00:43:26.490940"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:43:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (2.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a9299c87b69b29cd95d49cf9be17f7a6' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a9299c87b69b29cd95d49cf9be17f7a6"], ["reset_password_token_exp", "2014-11-16 08:43:26.522725"], ["updated_at", "2014-11-16 00:43:26.528624"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 358.0ms

Sent mail to test@email.com (22.6ms)
Date: Sat, 15 Nov 2014 16:43:26 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f32ee3278_1c4c3fc786041bf875917@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f32ede58e_1c4c3fc786041bf875893";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f32ede58e_1c4c3fc786041bf875893
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/a9299c87b69b29cd95d49cf9be17f7a6/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f32ede58e_1c4c3fc786041bf875893
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/a9299c87b69b29cd95d49cf9be17f7a6/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f32ede58e_1c4c3fc786041bf875893--

  Rendered text template (0.0ms)
Completed 204 No Content in 433ms (Views: 0.6ms | ActiveRecord: 4.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:26.945728"], ["email", "test@email.com"], ["password_digest", "$2a$04$lbnMNAN3rGonvtxcUrg8fu2GIWpS0EitiTQLGBG4jkP4CkcbBnxi."], ["updated_at", "2014-11-16 00:43:26.945728"], ["username", "test"]]
  [1m[35m (1.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:43:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 41.6ms

Sent mail to foo@bar.com (8.2ms)
Date: Sat, 15 Nov 2014 16:43:27 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f32f1d44_1c4c3fc786041bf87614e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f32fc97_1c4c3fc786041bf87603a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f32fc97_1c4c3fc786041bf87603a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f32fc97_1c4c3fc786041bf87603a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f32fc97_1c4c3fc786041bf87603a--

  Rendered text template (0.0ms)
Completed 204 No Content in 55ms (Views: 0.5ms | ActiveRecord: 2.2ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:27.056505"], ["email", "test@email.com"], ["password_digest", "$2a$04$0I21LQlwActAw9noqclBj.mNXi06LWdSd1.LD8mBIw8uqs4szlyRy"], ["updated_at", "2014-11-16 00:43:27.056505"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '40af3e0e3b80ef8ed64f7f3872b83f36' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "40af3e0e3b80ef8ed64f7f3872b83f36"], ["reset_password_token_exp", "2014-11-16 08:43:27.124670"], ["updated_at", "2014-11-16 00:43:27.135834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.2ms

Sent mail to test@email.com (3.8ms)
Date: Sat, 15 Nov 2014 16:43:27 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f32f22cc7_1c4c3fc786041bf876325@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f32f2223e_1c4c3fc786041bf876257";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f32f2223e_1c4c3fc786041bf876257
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/40af3e0e3b80ef8ed64f7f3872b83f36/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f32f2223e_1c4c3fc786041bf876257
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/40af3e0e3b80ef8ed64f7f3872b83f36/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f32f2223e_1c4c3fc786041bf876257--

  Rendered text template (0.0ms)
Completed 204 No Content in 40ms (Views: 0.4ms | ActiveRecord: 1.3ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (43.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:27.209484"], ["email", "test@email.com"], ["password_digest", "$2a$04$f5mhwRiOKlggZZ./1w8soe8rd/gHoJ3vytXGiwQ9iEHsMzYsndsHi"], ["updated_at", "2014-11-16 00:43:27.209484"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.2ms

Sent mail to foo@bar.com (12.4ms)
Date: Sat, 15 Nov 2014 16:43:27 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f32f38336_1c4c3fc786041bf8765df@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f32f35ced_1c4c3fc786041bf876485";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f32f35ced_1c4c3fc786041bf876485
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f32f35ced_1c4c3fc786041bf876485
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f32f35ced_1c4c3fc786041bf876485--

  Rendered text template (0.0ms)
Completed 204 No Content in 21ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:27.276625"], ["email", "test@email.com"], ["password_digest", "$2a$04$VlFnD/RtINzH4JjZoFdRnOYdxBXtYADCJuv61IeViLTMWAsMElMZ6"], ["updated_at", "2014-11-16 00:43:27.276625"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '2661168ed582c73b0fd1e8f7dfe28c29' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:43:27.346935"], ["expiration", "2014-11-17 00:43:27.350211"], ["key", "2661168ed582c73b0fd1e8f7dfe28c29"], ["updated_at", "2014-11-16 00:43:27.346935"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 32ms (Views: 0.3ms | ActiveRecord: 1.5ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:27.359486"], ["email", "test@email.com"], ["password_digest", "$2a$04$ufTrxdmB2ZoZbmd4ow/WV.RrIPvaAkfLXLYIJ6LyG5DJ5/6ZC/6x."], ["updated_at", "2014-11-16 00:43:27.359486"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'e1c3a5357e9d171e9b5404bba0e5a17c' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:43:27.394271"], ["expiration", "2014-11-17 00:43:27.396201"], ["key", "e1c3a5357e9d171e9b5404bba0e5a17c"], ["updated_at", "2014-11-16 00:43:27.394271"], ["user_id", 1]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 41ms (Views: 0.5ms | ActiveRecord: 2.8ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:27.440990"], ["email", "test@email.com"], ["password_digest", "$2a$04$9pJUn0R4foYIFRx8sBw5j.OilU9uKDX6s2Gh4CINx2mZJdMza61em"], ["updated_at", "2014-11-16 00:43:27.440990"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 13ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (4.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:27.493041"], ["email", "test@email.com"], ["password_digest", "$2a$04$TnJoLWKc.8U7Jv5.nAdaceIUbPTuIpPWVpEm0xR8mAoR30Y038PgG"], ["updated_at", "2014-11-16 00:43:27.493041"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd16b280da6d8b62fe688510803a9cd8a' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:43:27.516325"], ["expiration", "2014-11-17 00:43:27.519942"], ["key", "d16b280da6d8b62fe688510803a9cd8a"], ["updated_at", "2014-11-16 00:43:27.516325"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 27ms (Views: 2.5ms | ActiveRecord: 1.6ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd16b280da6d8b62fe688510803a9cd8a' LIMIT 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:43:27.558727"], ["email", "test@email.com"], ["password_digest", "$2a$04$sGR/bVibxQj7eh7wy1GRP.cjr0xmLx/bGdGMiKQCg/4jPj2X.7L8W"], ["updated_at", "2014-11-16 00:43:27.558727"], ["username", "test"]]
  [1m[36m (1.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f28a06107dac09c85c2e3b4ce9ad31b8' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:43:27.607694"], ["expiration", "2014-11-17 00:43:27.609740"], ["key", "f28a06107dac09c85c2e3b4ce9ad31b8"], ["updated_at", "2014-11-16 00:43:27.607694"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:38:27.612618"], ["updated_at", "2014-11-16 00:43:27.613135"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f28a06107dac09c85c2e3b4ce9ad31b8' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:27.632792"], ["email", "test@email.com"], ["password_digest", "$2a$04$XXkL1T56cfk/V.63qNKldOBaeeLc0MidNb9EZ5aT8ZRnXGNVOBBG2"], ["updated_at", "2014-11-16 00:43:27.632792"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '8c9461c9be89178309a3d3ad728a127d' LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:43:27.635015"], ["expiration", "2014-11-17 00:43:27.636400"], ["key", "8c9461c9be89178309a3d3ad728a127d"], ["updated_at", "2014-11-16 00:43:27.635015"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '8c9461c9be89178309a3d3ad728a127d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 6ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (24.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:43:27.692680"], ["email", "test@email.com"], ["password_digest", "$2a$04$V9hdPFG2Dq6nUXjexe/0iuD.Y3wvHvBbk5PwY1PlitKy8fCsXcoo2"], ["updated_at", "2014-11-16 00:43:27.692680"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b2174e84445a100239590f928dccf4b3' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:43:27.721732"], ["expiration", "2014-11-17 00:43:27.723222"], ["key", "b2174e84445a100239590f928dccf4b3"], ["updated_at", "2014-11-16 00:43:27.721732"], ["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:38:27.735487"], ["updated_at", "2014-11-16 00:43:27.741505"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:43:27 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b2174e84445a100239590f928dccf4b3' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (8.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:47.388230"], ["email", "test@email.com"], ["password_digest", "$2a$04$aoRWwSZDfH3eaJTGkaoRkO02fJCTprh8vChY6Rr7lP7g7zJZmNCsa"], ["updated_at", "2014-11-16 00:48:47.388230"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'dcb639144f4935a29c037b5e4cfd1886' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (4.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "dcb639144f4935a29c037b5e4cfd1886"], ["reset_password_token_exp", "2014-11-16 08:48:47.399759"], ["updated_at", "2014-11-16 00:48:47.403757"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/dcb639144f4935a29c037b5e4cfd1886/" for 127.0.0.1 at 2014-11-15 16:48:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"dcb639144f4935a29c037b5e4cfd1886"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dcb639144f4935a29c037b5e4cfd1886' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$mYCvjWIEZ90LBtoMGuxgh.ROZovRJqBjKhffP.hh4oeiVi6iFu7YS"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:48:47.462941"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 31ms (Views: 11.3ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:47.485991"], ["email", "test@email.com"], ["password_digest", "$2a$04$DVN5Qd5tXw2ytxQ0SnqGBewea4UZMczhSZfa1WbJZ6khodwLIh/7K"], ["updated_at", "2014-11-16 00:48:47.485991"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e0896c439987e059dfe6ac026b0f8a26' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e0896c439987e059dfe6ac026b0f8a26"], ["reset_password_token_exp", "2014-11-16 08:48:47.488562"], ["updated_at", "2014-11-16 00:48:47.490307"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e0896c439987e059dfe6ac026b0f8a26/" for 127.0.0.1 at 2014-11-15 16:48:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e0896c439987e059dfe6ac026b0f8a26"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e0896c439987e059dfe6ac026b0f8a26' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$6DUxdvle7nrXRppQk5AI4uFh43W7XUjXEdm0xjja.Wn7NPfzkZ2zS"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:48:47.507199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 12ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/e0896c439987e059dfe6ac026b0f8a26/" for 127.0.0.1 at 2014-11-15 16:48:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e0896c439987e059dfe6ac026b0f8a26"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e0896c439987e059dfe6ac026b0f8a26' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (27.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:48:47.598301"], ["email", "test@email.com"], ["password_digest", "$2a$04$FBvTLJqDYCzF7sdKxpI94e6lyEovMEpaL4EvEgT0hHjDeiPmOI4ee"], ["updated_at", "2014-11-16 00:48:47.598301"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7e6ebda20373dec62c37fb3e37522b04' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7e6ebda20373dec62c37fb3e37522b04"], ["reset_password_token_exp", "2014-11-16 08:48:47.602551"], ["updated_at", "2014-11-16 00:48:47.608601"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/7e6ebda20373dec62c37fb3e37522b04/" for 127.0.0.1 at 2014-11-15 16:48:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"7e6ebda20373dec62c37fb3e37522b04"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7e6ebda20373dec62c37fb3e37522b04' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:47.677843"], ["email", "test@email.com"], ["password_digest", "$2a$04$Wd5..jqhwWok041kLzfzz.FRvcRxyYjhUunTkqW7BftmdWBeRpsYu"], ["updated_at", "2014-11-16 00:48:47.677843"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '235c0d25da6d9aff4e121b8e3c2df2ca' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "235c0d25da6d9aff4e121b8e3c2df2ca"], ["reset_password_token_exp", "2014-11-16 08:48:47.681242"], ["updated_at", "2014-11-16 00:48:47.696451"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:48:47 -0800
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:47.718283"], ["email", "test@email.com"], ["password_digest", "$2a$04$Xwr2/lZmrqnyL3DXTaPVkORn9.IBKCrymTiEKcIVWlI6VaksCsTqu"], ["updated_at", "2014-11-16 00:48:47.718283"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '26421c3f53316da09e0467bf77f612d1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "26421c3f53316da09e0467bf77f612d1"], ["reset_password_token_exp", "2014-11-16 08:48:47.720582"], ["updated_at", "2014-11-16 00:48:47.725781"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/8d73a8f1a27d10dddf379b8559112e99/" for 127.0.0.1 at 2014-11-15 16:48:47 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"8d73a8f1a27d10dddf379b8559112e99"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8d73a8f1a27d10dddf379b8559112e99' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:47.748522"], ["email", "test@email.com"], ["password_digest", "$2a$04$3eMBQ6dO3m95/eqe4mUmMurgXIPKy7ArDcf5lraXMMl6DLa0i9ZN6"], ["updated_at", "2014-11-16 00:48:47.748522"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:48:47 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b07aa4c5cded296a9c3430f9fdcaad1d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b07aa4c5cded296a9c3430f9fdcaad1d"], ["reset_password_token_exp", "2014-11-16 08:48:47.775224"], ["updated_at", "2014-11-16 00:48:47.783067"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (5.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 340.7ms

Sent mail to test@email.com (12.5ms)
Date: Sat, 15 Nov 2014 16:48:48 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f47026180_1c903fc195c4dbf0607be@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f47024ad6_1c903fc195c4dbf0606e3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f47024ad6_1c903fc195c4dbf0606e3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/b07aa4c5cded296a9c3430f9fdcaad1d/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f47024ad6_1c903fc195c4dbf0606e3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/b07aa4c5cded296a9c3430f9fdcaad1d/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f47024ad6_1c903fc195c4dbf0606e3--

  Rendered text template (0.0ms)
Completed 204 No Content in 399ms (Views: 3.0ms | ActiveRecord: 2.4ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (29.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.200595"], ["email", "test@email.com"], ["password_digest", "$2a$04$cpCcNy8CWtZ5vNn3z/9W6OFgu6WqqozTNh/AIkpKXDQo67Ib1331e"], ["updated_at", "2014-11-16 00:48:48.200595"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 11.7ms

Sent mail to foo@bar.com (18.7ms)
Date: Sat, 15 Nov 2014 16:48:48 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f4703f2c3_1c903fc195c4dbf06096f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4703e39f_1c903fc195c4dbf0608c7";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4703e39f_1c903fc195c4dbf0608c7
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f4703e39f_1c903fc195c4dbf0608c7
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f4703e39f_1c903fc195c4dbf0608c7--

  Rendered text template (0.0ms)
Completed 204 No Content in 35ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.286496"], ["email", "test@email.com"], ["password_digest", "$2a$04$LTBtgyqHULqagaAnoqVI0ujTgsF1sjtVDYKwIrpLzB2L08KX7a3D."], ["updated_at", "2014-11-16 00:48:48.286496"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'db57ebe927750d18d490d9ec9a9fd6d1' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "db57ebe927750d18d490d9ec9a9fd6d1"], ["reset_password_token_exp", "2014-11-16 08:48:48.321245"], ["updated_at", "2014-11-16 00:48:48.328363"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (19.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 55.3ms

Sent mail to test@email.com (8.5ms)
Date: Sat, 15 Nov 2014 16:48:48 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f4705ed06_1c903fc195c4dbf061173@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4705c954_1c903fc195c4dbf06108b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4705c954_1c903fc195c4dbf06108b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/db57ebe927750d18d490d9ec9a9fd6d1/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f4705c954_1c903fc195c4dbf06108b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/db57ebe927750d18d490d9ec9a9fd6d1/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f4705c954_1c903fc195c4dbf06108b--

  Rendered text template (0.0ms)
Completed 204 No Content in 76ms (Views: 0.5ms | ActiveRecord: 1.5ms)
  [1m[35m (9.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.413840"], ["email", "test@email.com"], ["password_digest", "$2a$04$pMlNkh2IE6e6/CvkzmA8deur7MJL0EbS9g7iZRHEp3Y55xZuTqcQe"], ["updated_at", "2014-11-16 00:48:48.413840"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (18.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.3ms

Sent mail to foo@bar.com (24.4ms)
Date: Sat, 15 Nov 2014 16:48:48 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f4707036a_1c903fc195c4dbf061398@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4706e3da_1c903fc195c4dbf0612d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4706e3da_1c903fc195c4dbf0612d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f4706e3da_1c903fc195c4dbf0612d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f4706e3da_1c903fc195c4dbf0612d--

  Rendered text template (0.0ms)
Completed 204 No Content in 63ms (Views: 0.6ms | ActiveRecord: 18.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.489613"], ["email", "test@email.com"], ["password_digest", "$2a$04$JlrBIZ.HjrBXTjstQ4gLSeJjlqFqVzQ7g.r5kP0IxUdufvD4em5bS"], ["updated_at", "2014-11-16 00:48:48.489613"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '2eda857516ef0938390d514fdfa5590f' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:48:48.572212"], ["expiration", "2014-11-17 00:48:48.576902"], ["key", "2eda857516ef0938390d514fdfa5590f"], ["updated_at", "2014-11-16 00:48:48.572212"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 0.3ms | ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.585804"], ["email", "test@email.com"], ["password_digest", "$2a$04$pqJnApMfWpFjvZ5.SEEoJebvyP6de0mTfhV7q3/DgYvPExdRnllbC"], ["updated_at", "2014-11-16 00:48:48.585804"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'fc9993819dcc2ab9fc2941a2e1d4dbd0' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:48:48.615996"], ["expiration", "2014-11-17 00:48:48.618520"], ["key", "fc9993819dcc2ab9fc2941a2e1d4dbd0"], ["updated_at", "2014-11-16 00:48:48.615996"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 31ms (Views: 0.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.651411"], ["email", "test@email.com"], ["password_digest", "$2a$04$vnCKyRXgn0aJ56jZAPBiMOftbvAr7kgD.1sL6wmEAa2f2NWmmNRyG"], ["updated_at", "2014-11-16 00:48:48.651411"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.708279"], ["email", "test@email.com"], ["password_digest", "$2a$04$3IeDyPjjECY2RqH4EeeeYOAk2mxLnR/wc95o0xw2/CIpaKFwTtJsK"], ["updated_at", "2014-11-16 00:48:48.708279"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'cc78b53217b826079c3c60c049486795' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:48:48.752708"], ["expiration", "2014-11-17 00:48:48.755196"], ["key", "cc78b53217b826079c3c60c049486795"], ["updated_at", "2014-11-16 00:48:48.752708"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 0.3ms | ActiveRecord: 1.6ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'cc78b53217b826079c3c60c049486795' LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:48:48.790158"], ["email", "test@email.com"], ["password_digest", "$2a$04$L2gNTjnE6H3zC63Rz.IYWuwtBQUAU2HtS.fblrr2noPpNp96R8lzS"], ["updated_at", "2014-11-16 00:48:48.790158"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '995e4634cc9a27535a6138ff3f8cd8bb' LIMIT 1[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:48:48.796034"], ["expiration", "2014-11-17 00:48:48.810399"], ["key", "995e4634cc9a27535a6138ff3f8cd8bb"], ["updated_at", "2014-11-16 00:48:48.796034"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:43:48.814808"], ["updated_at", "2014-11-16 00:48:48.815548"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '995e4634cc9a27535a6138ff3f8cd8bb' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (1.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.869788"], ["email", "test@email.com"], ["password_digest", "$2a$04$MuJ5yyLX2H5pXn/PnZxpp.RLccefi.pfo1qoXZ2JHdV8gZ3T3wX9C"], ["updated_at", "2014-11-16 00:48:48.869788"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '54e6b3987f91c18127002faaa297518e' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:48:48.886975"], ["expiration", "2014-11-17 00:48:48.888261"], ["key", "54e6b3987f91c18127002faaa297518e"], ["updated_at", "2014-11-16 00:48:48.886975"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '54e6b3987f91c18127002faaa297518e' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 6ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:48:48.917272"], ["email", "test@email.com"], ["password_digest", "$2a$04$a5OXwSJFmjRKSVvN1Vjj3uq30dgppmSedvSf9PZ7CZjGBW6GfY9aK"], ["updated_at", "2014-11-16 00:48:48.917272"], ["username", "test"]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5f4fd663bb3f374a5d7563472d2353c2' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:48:48.944735"], ["expiration", "2014-11-17 00:48:48.946109"], ["key", "5f4fd663bb3f374a5d7563472d2353c2"], ["updated_at", "2014-11-16 00:48:48.944735"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:43:48.948277"], ["updated_at", "2014-11-16 00:48:48.948700"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '5f4fd663bb3f374a5d7563472d2353c2' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:48:48 -0800
Processing by UsersController#create as HTML
  Parameters: {"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}
Completed 400 Bad Request in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:48:49 -0800
Processing by UsersController#create as HTML
  Parameters: {"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}
Completed 400 Bad Request in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.056083"], ["email", "test@email.com"], ["password_digest", "$2a$04$A7qj.ZKQStEYZgXeQ6AdSOYRAzbXk8o9nHkbxdIGJnRo8us2qz81e"], ["updated_at", "2014-11-16 00:50:09.056083"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd54c8cd78d704715e90f9870480dbba8' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d54c8cd78d704715e90f9870480dbba8"], ["reset_password_token_exp", "2014-11-16 08:50:09.067666"], ["updated_at", "2014-11-16 00:50:09.070716"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d54c8cd78d704715e90f9870480dbba8/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d54c8cd78d704715e90f9870480dbba8"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd54c8cd78d704715e90f9870480dbba8' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$bWvsNND/oW6f50RqZWGnguwoYz4m.V9RuctwoZUKCMlLNwRA3l4uW"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:50:09.132731"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 26ms (Views: 10.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.156275"], ["email", "test@email.com"], ["password_digest", "$2a$04$QksKir14Wio4I70FthEDhOsjjvXleuYbW8GvURqv.P97jIRYUOP5W"], ["updated_at", "2014-11-16 00:50:09.156275"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '64e228933c42eaa6502d2726dcf3a45c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "64e228933c42eaa6502d2726dcf3a45c"], ["reset_password_token_exp", "2014-11-16 08:50:09.159349"], ["updated_at", "2014-11-16 00:50:09.163222"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/64e228933c42eaa6502d2726dcf3a45c/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"64e228933c42eaa6502d2726dcf3a45c"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '64e228933c42eaa6502d2726dcf3a45c' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$OUBzFYo9c82e5jRbLbz6iOOvGK8PKwOFn0G3yoLw.SPMkE8VcOHB."], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:50:09.184893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 22ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/64e228933c42eaa6502d2726dcf3a45c/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"64e228933c42eaa6502d2726dcf3a45c"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '64e228933c42eaa6502d2726dcf3a45c' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:09.221528"], ["email", "test@email.com"], ["password_digest", "$2a$04$jchOxe6u7sIkwCp1Y4BvMuz2ah5AYDGP80BUG1.1D45MBeYFaRV42"], ["updated_at", "2014-11-16 00:50:09.221528"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8090774bd61639431682037c2bafe9d8' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8090774bd61639431682037c2bafe9d8"], ["reset_password_token_exp", "2014-11-16 08:50:09.228092"], ["updated_at", "2014-11-16 00:50:09.232149"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/8090774bd61639431682037c2bafe9d8/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"8090774bd61639431682037c2bafe9d8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8090774bd61639431682037c2bafe9d8' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 23ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.275891"], ["email", "test@email.com"], ["password_digest", "$2a$04$SOoeWjoKPaK/BGmtMKajk.lfTQcWlfvQFfKheUllvb1zJv23oRPN6"], ["updated_at", "2014-11-16 00:50:09.275891"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '40f9ff629b39b1aea409a7305ab33489' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "40f9ff629b39b1aea409a7305ab33489"], ["reset_password_token_exp", "2014-11-16 08:50:09.281889"], ["updated_at", "2014-11-16 00:50:09.285082"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.309288"], ["email", "test@email.com"], ["password_digest", "$2a$04$VPK92AvF7Qh/5IZ4GBEDa./nhPMynT09eG2yXRfXTdNYoj3rrThHW"], ["updated_at", "2014-11-16 00:50:09.309288"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6091fefa4be97c55ae47b33d66ad9653' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6091fefa4be97c55ae47b33d66ad9653"], ["reset_password_token_exp", "2014-11-16 08:50:09.315573"], ["updated_at", "2014-11-16 00:50:09.317870"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/67276c9db420ebfe0a2362972214d78c/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"67276c9db420ebfe0a2362972214d78c"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '67276c9db420ebfe0a2362972214d78c' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 5ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.360352"], ["email", "test@email.com"], ["password_digest", "$2a$04$kUUR1glhHcAeTxDC7DDSv.kppbVFviqkLsGGo25qmCxTWJNJ6/l/C"], ["updated_at", "2014-11-16 00:50:09.360352"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c14bdb850cfad1d7b87270fa86500405' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c14bdb850cfad1d7b87270fa86500405"], ["reset_password_token_exp", "2014-11-16 08:50:09.375591"], ["updated_at", "2014-11-16 00:50:09.380969"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 336.8ms

Sent mail to test@email.com (8.6ms)
Date: Sat, 15 Nov 2014 16:50:09 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f4c1b678b_1cb63fd630c63be44059a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4c1b4f5a_1cb63fd630c63be440494";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4c1b4f5a_1cb63fd630c63be440494
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/c14bdb850cfad1d7b87270fa86500405/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f4c1b4f5a_1cb63fd630c63be440494
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/c14bdb850cfad1d7b87270fa86500405/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f4c1b4f5a_1cb63fd630c63be440494--

  Rendered text template (0.1ms)
Completed 204 No Content in 387ms (Views: 3.1ms | ActiveRecord: 1.7ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.766133"], ["email", "test@email.com"], ["password_digest", "$2a$04$Zho9VYc6fR1/mhgiZLhbj.knWSa9ve.QoT0Ppn..BcFmMikX2DHL."], ["updated_at", "2014-11-16 00:50:09.766133"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 33.9ms

Sent mail to foo@bar.com (8.7ms)
Date: Sat, 15 Nov 2014 16:50:09 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f4c1c62f3_1cb63fd630c63be440787@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4c1c36aa_1cb63fd630c63be440632";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4c1c36aa_1cb63fd630c63be440632
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f4c1c36aa_1cb63fd630c63be440632
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f4c1c36aa_1cb63fd630c63be440632--

  Rendered text template (0.1ms)
Completed 204 No Content in 48ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.828950"], ["email", "test@email.com"], ["password_digest", "$2a$04$zexdgLFQlMv.jhBaY84r..P2jMiIGnyOS9hfCE8/VfrmmbkknEuWu"], ["updated_at", "2014-11-16 00:50:09.828950"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c587168640352664ab28df2ac21a9771' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (12.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c587168640352664ab28df2ac21a9771"], ["reset_password_token_exp", "2014-11-16 08:50:09.843766"], ["updated_at", "2014-11-16 00:50:09.861740"]]
  [1m[36m (6.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 3.6ms

Sent mail to test@email.com (4.9ms)
Date: Sat, 15 Nov 2014 16:50:09 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f4c1d7445_1cb63fd630c63be44096b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4c1d6a7c_1cb63fd630c63be44088a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4c1d6a7c_1cb63fd630c63be44088a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/c587168640352664ab28df2ac21a9771/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f4c1d6a7c_1cb63fd630c63be44088a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/c587168640352664ab28df2ac21a9771/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f4c1d6a7c_1cb63fd630c63be44088a--

  Rendered text template (0.0ms)
Completed 204 No Content in 48ms (Views: 0.6ms | ActiveRecord: 24.6ms)
  [1m[35m (9.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.900679"], ["email", "test@email.com"], ["password_digest", "$2a$04$jdOpAeiF2yZF02AtlhUzge5OUb25T6UXMF3iYYAtUVEvE7Xn8rohm"], ["updated_at", "2014-11-16 00:50:09.900679"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.0ms

Sent mail to foo@bar.com (30.3ms)
Date: Sat, 15 Nov 2014 16:50:09 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f4c1df168_1cb63fd630c63be441119@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4c1de737_1cb63fd630c63be44106f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4c1de737_1cb63fd630c63be44106f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f4c1de737_1cb63fd630c63be44106f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f4c1de737_1cb63fd630c63be44106f--

  Rendered text template (0.1ms)
Completed 204 No Content in 42ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:09.994118"], ["email", "test@email.com"], ["password_digest", "$2a$04$xayZH3YrseLNkaijw48gseaQtKXJ7R.78/lwQovthVuVjYaFZeOvi"], ["updated_at", "2014-11-16 00:50:09.994118"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:50:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'fde18a6b82ae99463cd2b9be1318790d' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:10.039639"], ["expiration", "2014-11-17 00:50:10.042602"], ["key", "fde18a6b82ae99463cd2b9be1318790d"], ["updated_at", "2014-11-16 00:50:10.039639"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 26ms (Views: 0.2ms | ActiveRecord: 1.9ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:10.073822"], ["email", "test@email.com"], ["password_digest", "$2a$04$Hq409Oxga.pD4J2iY65PHuUFOqn.yYh2yDtIH8N5hG7ynG6u04Jdi"], ["updated_at", "2014-11-16 00:50:10.073822"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (3.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (5.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4b242e941736353b6069f48845ec034f' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:10.093038"], ["expiration", "2014-11-17 00:50:10.119922"], ["key", "4b242e941736353b6069f48845ec034f"], ["updated_at", "2014-11-16 00:50:10.093038"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 43ms (Views: 0.2ms | ActiveRecord: 10.1ms)
  [1m[35m (22.6ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:10.184507"], ["email", "test@email.com"], ["password_digest", "$2a$04$cftFlDHA7tUo72Q0zYiJkeM2If9p.4TL1Sx9MNgx/EHFZ5pST0oqW"], ["updated_at", "2014-11-16 00:50:10.184507"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 24ms (Views: 19.1ms | ActiveRecord: 0.2ms)
  [1m[35m (7.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:10.249901"], ["email", "test@email.com"], ["password_digest", "$2a$04$.B/5T1u1UKSzoLyo1vWZ5OlTUAMw83RQRdj4Vc/qkbPwpVR9YpxdS"], ["updated_at", "2014-11-16 00:50:10.249901"], ["username", "test"]]
  [1m[35m (12.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (10.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7625a6582bd1d9b5942e849247de25c7' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:10.310280"], ["expiration", "2014-11-17 00:50:10.313613"], ["key", "7625a6582bd1d9b5942e849247de25c7"], ["updated_at", "2014-11-16 00:50:10.310280"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 28ms (Views: 0.2ms | ActiveRecord: 12.2ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7625a6582bd1d9b5942e849247de25c7' LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:10.329530"], ["email", "test@email.com"], ["password_digest", "$2a$04$u7AI.FA/AY/zhGcLyqPr5.Pv/on5GdyRm60x0K8CTVQeRnqcnczvm"], ["updated_at", "2014-11-16 00:50:10.329530"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '923b06edf0afbcd3c3635a4fa3723c3f' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:10.331756"], ["expiration", "2014-11-17 00:50:10.333664"], ["key", "923b06edf0afbcd3c3635a4fa3723c3f"], ["updated_at", "2014-11-16 00:50:10.331756"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:45:10.338998"], ["updated_at", "2014-11-16 00:50:10.340500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '923b06edf0afbcd3c3635a4fa3723c3f' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (8.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:10.374059"], ["email", "test@email.com"], ["password_digest", "$2a$04$6mKnUwc5fP3a/IXh2zP5FOvxGOS0.eeKevslIKOZyLWDMdY7fd9bO"], ["updated_at", "2014-11-16 00:50:10.374059"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '40c86513073b6cf05493682cef1c1cba' LIMIT 1
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:10.391548"], ["expiration", "2014-11-17 00:50:10.393277"], ["key", "40c86513073b6cf05493682cef1c1cba"], ["updated_at", "2014-11-16 00:50:10.391548"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '40c86513073b6cf05493682cef1c1cba' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 7ms (Views: 0.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:10.444055"], ["email", "test@email.com"], ["password_digest", "$2a$04$/s1ep8s5PaeTZnYnQE6ZoulItXtR1.eIDJLiqx94XonpKIHu2etVW"], ["updated_at", "2014-11-16 00:50:10.444055"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '38e5b6eaddd8a9cc4f68158224116bbd' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:10.448914"], ["expiration", "2014-11-17 00:50:10.452064"], ["key", "38e5b6eaddd8a9cc4f68158224116bbd"], ["updated_at", "2014-11-16 00:50:10.448914"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:45:10.463118"], ["updated_at", "2014-11-16 00:50:10.463556"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '38e5b6eaddd8a9cc4f68158224116bbd' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:50:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
Completed 500 Internal Server Error in 7ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:49.979585"], ["email", "test@email.com"], ["password_digest", "$2a$04$qDDZtP0dRTcc3oxL1lGewuTcMvH35e9z1z5vRRJRrtJgBoSKeT//S"], ["updated_at", "2014-11-16 00:50:49.979585"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '48ac79cab7ce605f106623d9271d4cf5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "48ac79cab7ce605f106623d9271d4cf5"], ["reset_password_token_exp", "2014-11-16 08:50:49.991530"], ["updated_at", "2014-11-16 00:50:49.996239"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/48ac79cab7ce605f106623d9271d4cf5/" for 127.0.0.1 at 2014-11-15 16:50:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"48ac79cab7ce605f106623d9271d4cf5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '48ac79cab7ce605f106623d9271d4cf5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$5zwmLadmnej6ajN7scTDh.vHXrbK2q2T2jSt4K.QKjZMFNrPFbDum"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:50:50.050343"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 27ms (Views: 11.3ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:50.082872"], ["email", "test@email.com"], ["password_digest", "$2a$04$6cGXOE9.qVrGIxPvAepKWeh.vpbOgIYH59cDYvPHQHvGDcSiHLmAq"], ["updated_at", "2014-11-16 00:50:50.082872"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ae6be340a0cce1b4e1515e63e45b251d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ae6be340a0cce1b4e1515e63e45b251d"], ["reset_password_token_exp", "2014-11-16 08:50:50.104629"], ["updated_at", "2014-11-16 00:50:50.106596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/ae6be340a0cce1b4e1515e63e45b251d/" for 127.0.0.1 at 2014-11-15 16:50:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"ae6be340a0cce1b4e1515e63e45b251d"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ae6be340a0cce1b4e1515e63e45b251d' LIMIT 1[0m
  [1m[35m (4.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$jfJ2sinePSnHBC606vMjDeA8lxR5dl4AlIEjIbhO97enQIQLpJ/u6"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:50:50.161923"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 53ms (Views: 0.6ms | ActiveRecord: 6.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/ae6be340a0cce1b4e1515e63e45b251d/" for 127.0.0.1 at 2014-11-15 16:50:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"ae6be340a0cce1b4e1515e63e45b251d"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ae6be340a0cce1b4e1515e63e45b251d' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:50.176041"], ["email", "test@email.com"], ["password_digest", "$2a$04$g4cOkMZ4WIgcNCAyVRcACuw6zrmOL07xbGnyRX6lT6sBeyOw908Ym"], ["updated_at", "2014-11-16 00:50:50.176041"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'acd7e71172a6b318e60f25b96f050564' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "acd7e71172a6b318e60f25b96f050564"], ["reset_password_token_exp", "2014-11-16 08:50:50.195316"], ["updated_at", "2014-11-16 00:50:50.209689"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/acd7e71172a6b318e60f25b96f050564/" for 127.0.0.1 at 2014-11-15 16:50:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"acd7e71172a6b318e60f25b96f050564"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'acd7e71172a6b318e60f25b96f050564' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 35ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (30.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:50.277797"], ["email", "test@email.com"], ["password_digest", "$2a$04$tCxbw2ACbYwHwQl8Vq14m.v5VqOPSzXNQ0OO2ctoQnd0N72HQt6oG"], ["updated_at", "2014-11-16 00:50:50.277797"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd81abcd6a57c60b76a4363ad1c398745' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d81abcd6a57c60b76a4363ad1c398745"], ["reset_password_token_exp", "2014-11-16 08:50:50.328586"], ["updated_at", "2014-11-16 00:50:50.336409"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:50:50 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (10.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:50.375872"], ["email", "test@email.com"], ["password_digest", "$2a$04$k8LPgtr3FPOUwbmla2kEQe.suQMQW8ZnyUTfRiVKwmy6NJ.aoR1Su"], ["updated_at", "2014-11-16 00:50:50.375872"], ["username", "test"]]
  [1m[35m (5.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (4.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b2fc0c943b5fe9d0b331ebaad8ddaebb' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "b2fc0c943b5fe9d0b331ebaad8ddaebb"], ["reset_password_token_exp", "2014-11-16 08:50:50.400918"], ["updated_at", "2014-11-16 00:50:50.406190"]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/4fd380eeb4efb19611931a4255a3e0c0/" for 127.0.0.1 at 2014-11-15 16:50:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"4fd380eeb4efb19611931a4255a3e0c0"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '4fd380eeb4efb19611931a4255a3e0c0' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 8ms (Views: 0.6ms | ActiveRecord: 1.0ms)
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:50.429241"], ["email", "test@email.com"], ["password_digest", "$2a$04$iqhc7EEyyO5Gf0aUSPeSLeN9OYS4XmXsbYLjr2uj1dVeluk31NSJW"], ["updated_at", "2014-11-16 00:50:50.429241"], ["username", "test"]]
  [1m[35m (5.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:50:50 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '238d130d7c77de35d976e1d616cb25c9' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "238d130d7c77de35d976e1d616cb25c9"], ["reset_password_token_exp", "2014-11-16 08:50:50.473515"], ["updated_at", "2014-11-16 00:50:50.480561"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 386.8ms

Sent mail to test@email.com (6.8ms)
Date: Sat, 15 Nov 2014 16:50:50 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f4eadfb13_1cd43feec5465bec3489b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4eade9a1_1cd43feec5465bec34758";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4eade9a1_1cd43feec5465bec34758
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/238d130d7c77de35d976e1d616cb25c9/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f4eade9a1_1cd43feec5465bec34758
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/238d130d7c77de35d976e1d616cb25c9/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f4eade9a1_1cd43feec5465bec34758--

  Rendered text template (0.0ms)
Completed 204 No Content in 451ms (Views: 0.3ms | ActiveRecord: 2.7ms)
  [1m[35m (9.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (24.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:50.946424"], ["email", "test@email.com"], ["password_digest", "$2a$04$8rsrEk95zqDldbmm7MQ3Du97hAx0vBCZOZpky/CTD4t7Z.axkIF5i"], ["updated_at", "2014-11-16 00:50:50.946424"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 41.0ms

Sent mail to foo@bar.com (3.3ms)
Date: Sat, 15 Nov 2014 16:50:51 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f4eb1312a_1cd43feec5465bec35046@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4eb12543_1cd43feec5465bec349cc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4eb12543_1cd43feec5465bec349cc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f4eb12543_1cd43feec5465bec349cc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f4eb12543_1cd43feec5465bec349cc--

  Rendered text template (0.0ms)
Completed 204 No Content in 55ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:51.086492"], ["email", "test@email.com"], ["password_digest", "$2a$04$d3KjqsBwZmuM3/RecjVQme8OPgc9RYQzcjGJ9DvaU02XaU3hXP5xe"], ["updated_at", "2014-11-16 00:50:51.086492"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e8f50a6f339ca6a46ac9b38d71744ced' LIMIT 1
  [1m[36m (2.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (15.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e8f50a6f339ca6a46ac9b38d71744ced"], ["reset_password_token_exp", "2014-11-16 08:50:51.119565"], ["updated_at", "2014-11-16 00:50:51.151890"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.4ms

Sent mail to test@email.com (14.4ms)
Date: Sat, 15 Nov 2014 16:50:51 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f4eb269e1_1cd43feec5465bec35273@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4eb260ba_1cd43feec5465bec35112";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4eb260ba_1cd43feec5465bec35112
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/e8f50a6f339ca6a46ac9b38d71744ced/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f4eb260ba_1cd43feec5465bec35112
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/e8f50a6f339ca6a46ac9b38d71744ced/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f4eb260ba_1cd43feec5465bec35112--

  Rendered text template (0.0ms)
Completed 204 No Content in 59ms (Views: 0.5ms | ActiveRecord: 21.4ms)
  [1m[35m (8.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:51.240289"], ["email", "test@email.com"], ["password_digest", "$2a$04$pg3qmyaf/FdM9X0dS8qym.4bQ22j/v4QAgC4cl5dgXcyZU8QylCH."], ["updated_at", "2014-11-16 00:50:51.240289"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 10.1ms

Sent mail to foo@bar.com (5.8ms)
Date: Sat, 15 Nov 2014 16:50:51 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f4eb4d513_1cd43feec5465bec354c9@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f4eb4c2de_1cd43feec5465bec3534b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f4eb4c2de_1cd43feec5465bec3534b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f4eb4c2de_1cd43feec5465bec3534b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f4eb4c2de_1cd43feec5465bec3534b--

  Rendered text template (0.0ms)
Completed 204 No Content in 35ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:51.327428"], ["email", "test@email.com"], ["password_digest", "$2a$04$bBJTfJKt4KkO55uDoA64eu15tNwSwNY1keXIKbsdr7xydZDrqljnG"], ["updated_at", "2014-11-16 00:50:51.327428"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'befd71c9c97f8d5f8e5187b526c3fb59' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:51.395579"], ["expiration", "2014-11-17 00:50:51.400291"], ["key", "befd71c9c97f8d5f8e5187b526c3fb59"], ["updated_at", "2014-11-16 00:50:51.395579"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 41ms (Views: 0.2ms | ActiveRecord: 2.0ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:51.412531"], ["email", "test@email.com"], ["password_digest", "$2a$04$TCQN98vsvQfGK8CvKfmkXudmszFggym36xYJzBrZtMiAFQF/uXQcq"], ["updated_at", "2014-11-16 00:50:51.412531"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '43ed977f97db155e5f4687f3e492309d' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:51.425621"], ["expiration", "2014-11-17 00:50:51.427054"], ["key", "43ed977f97db155e5f4687f3e492309d"], ["updated_at", "2014-11-16 00:50:51.425621"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 14ms (Views: 0.4ms | ActiveRecord: 1.7ms)
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:51.451400"], ["email", "test@email.com"], ["password_digest", "$2a$04$L1Dqyops7horkzUePupNyOPil3pTSDoeMEyScp6xVEv5zZ0EiN2SC"], ["updated_at", "2014-11-16 00:50:51.451400"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 17ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:51.500418"], ["email", "test@email.com"], ["password_digest", "$2a$04$BmtOTwVu4LOl4ArrrAWxHulUnr3XoKDDj0zsIRuJZmCBAFVvpTP1G"], ["updated_at", "2014-11-16 00:50:51.500418"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '830f589cdb07edc6b6992d7d5dfd591c' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:51.526052"], ["expiration", "2014-11-17 00:50:51.532103"], ["key", "830f589cdb07edc6b6992d7d5dfd591c"], ["updated_at", "2014-11-16 00:50:51.526052"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 24ms (Views: 0.5ms | ActiveRecord: 3.0ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (1.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '830f589cdb07edc6b6992d7d5dfd591c' LIMIT 1
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (5.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:51.612841"], ["email", "test@email.com"], ["password_digest", "$2a$04$XfPD9n1Z4FUTWhC8kufrkeo21AfWnOHURHGjaNH5LDj8Ge0Iv1e7S"], ["updated_at", "2014-11-16 00:50:51.612841"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'cb794cc25e30f75c6b2edfeeac2caeba' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:51.635544"], ["expiration", "2014-11-17 00:50:51.644000"], ["key", "cb794cc25e30f75c6b2edfeeac2caeba"], ["updated_at", "2014-11-16 00:50:51.635544"], ["user_id", 1]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:45:51.651574"], ["updated_at", "2014-11-16 00:50:51.653976"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'cb794cc25e30f75c6b2edfeeac2caeba' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (15.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:51.704671"], ["email", "test@email.com"], ["password_digest", "$2a$04$H27IdlUrlbpAaR39vCg.keCPb9/mFfMaCf0O8x1w.tP75UZYlg0km"], ["updated_at", "2014-11-16 00:50:51.704671"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f4a258acdb07306dd7c8b21a7bc5384d' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:50:51.706819"], ["expiration", "2014-11-17 00:50:51.708708"], ["key", "f4a258acdb07306dd7c8b21a7bc5384d"], ["updated_at", "2014-11-16 00:50:51.706819"], ["user_id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.3ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f4a258acdb07306dd7c8b21a7bc5384d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 12ms (Views: 1.3ms | ActiveRecord: 2.6ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (4.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:51.780718"], ["email", "test@email.com"], ["password_digest", "$2a$04$NI.h3mBqoK7Lz72JLQFqPu1DJiyoUyGbOfaqCLZRTcGXC.VZR19ZC"], ["updated_at", "2014-11-16 00:50:51.780718"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '809d7e5c1751ba644ceb138826d0549e' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:50:51.812205"], ["expiration", "2014-11-17 00:50:51.813342"], ["key", "809d7e5c1751ba644ceb138826d0549e"], ["updated_at", "2014-11-16 00:50:51.812205"], ["user_id", 1]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:45:51.818143"], ["updated_at", "2014-11-16 00:50:51.818816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (5.8ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '809d7e5c1751ba644ceb138826d0549e' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 0.2ms | ActiveRecord: 5.8ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:50:51 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:39.097150"], ["email", "test@email.com"], ["password_digest", "$2a$04$ywvjFcgKvJ3nkA8H2jmySOVS4CDVrWndGnol3liEal7zH4m8On7Q6"], ["updated_at", "2014-11-16 00:51:39.097150"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b57dbde3e08c019a9db1416f66583595' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "b57dbde3e08c019a9db1416f66583595"], ["reset_password_token_exp", "2014-11-16 08:51:39.120689"], ["updated_at", "2014-11-16 00:51:39.123900"]]
  [1m[35m (1.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/b57dbde3e08c019a9db1416f66583595/" for 127.0.0.1 at 2014-11-15 16:51:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b57dbde3e08c019a9db1416f66583595"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b57dbde3e08c019a9db1416f66583595' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$laXpY86..W.mpLfWMBi9J.cyjnutkj1WBAAWT/x5F.eVslI2O/fp2"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:51:39.182216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.2ms)
Completed 204 No Content in 25ms (Views: 13.6ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:39.213337"], ["email", "test@email.com"], ["password_digest", "$2a$04$sRp/xReJLRpOhgJyCV4hPeV2HOobzNk/ypm.hFcT4upXdDKHup65m"], ["updated_at", "2014-11-16 00:51:39.213337"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6d0dbf59a21651cdb11361875d62748a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6d0dbf59a21651cdb11361875d62748a"], ["reset_password_token_exp", "2014-11-16 08:51:39.216022"], ["updated_at", "2014-11-16 00:51:39.235355"]]
  [1m[35m (2.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/6d0dbf59a21651cdb11361875d62748a/" for 127.0.0.1 at 2014-11-15 16:51:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6d0dbf59a21651cdb11361875d62748a"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6d0dbf59a21651cdb11361875d62748a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$AxWI.VDV7Fw4Z6ULJJcC.uAssi3QuOiD9mWwHDmVXYW59VeIo8ztO"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:51:39.292435"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 41ms (Views: 0.5ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/6d0dbf59a21651cdb11361875d62748a/" for 127.0.0.1 at 2014-11-15 16:51:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6d0dbf59a21651cdb11361875d62748a"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6d0dbf59a21651cdb11361875d62748a' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 14ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:51:39.321562"], ["email", "test@email.com"], ["password_digest", "$2a$04$c9P6WDxfPuJYHpMZplez8ejoZt4aBhZVe0j0RTjaWiVHdyGHysoF2"], ["updated_at", "2014-11-16 00:51:39.321562"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ba1e93267f8773febe5a3318cfd4246f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ba1e93267f8773febe5a3318cfd4246f"], ["reset_password_token_exp", "2014-11-16 08:51:39.324528"], ["updated_at", "2014-11-16 00:51:39.332054"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/ba1e93267f8773febe5a3318cfd4246f/" for 127.0.0.1 at 2014-11-15 16:51:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"ba1e93267f8773febe5a3318cfd4246f"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ba1e93267f8773febe5a3318cfd4246f' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 42ms (Views: 2.4ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (4.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:39.402256"], ["email", "test@email.com"], ["password_digest", "$2a$04$HkkQt3cUT8v7xdutxSB2DOAx7VB3gm8zal8UwawBKVyvcD.eg58sG"], ["updated_at", "2014-11-16 00:51:39.402256"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2bf8262ae7e80f850a6b434eba44b6e7' LIMIT 1[0m
  [1m[35m (17.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (6.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2bf8262ae7e80f850a6b434eba44b6e7"], ["reset_password_token_exp", "2014-11-16 08:51:39.419645"], ["updated_at", "2014-11-16 00:51:39.461849"]]
  [1m[35m (7.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:51:39 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:39.499644"], ["email", "test@email.com"], ["password_digest", "$2a$04$5PSfirkHJGeBaGh6I/E76.if//B4wrWnpzdlSsjYCE/tnMZGeMTD2"], ["updated_at", "2014-11-16 00:51:39.499644"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bb1297fab4d8a9f88e72538748728eba' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (7.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "bb1297fab4d8a9f88e72538748728eba"], ["reset_password_token_exp", "2014-11-16 08:51:39.503111"], ["updated_at", "2014-11-16 00:51:39.517372"]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e6d4c8295245d22411b2aa05b94fc4dd/" for 127.0.0.1 at 2014-11-15 16:51:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e6d4c8295245d22411b2aa05b94fc4dd"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e6d4c8295245d22411b2aa05b94fc4dd' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:39.582241"], ["email", "test@email.com"], ["password_digest", "$2a$04$XR9BgY5PxniKHt9NdpqfhurlFaST8/W5Cde0TkiXUFUbw6n8R2b/y"], ["updated_at", "2014-11-16 00:51:39.582241"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:51:39 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fb1baf41085011694120232f1941c02d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (5.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "fb1baf41085011694120232f1941c02d"], ["reset_password_token_exp", "2014-11-16 08:51:39.588851"], ["updated_at", "2014-11-16 00:51:39.619091"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 396.8ms

Sent mail to test@email.com (14.2ms)
Date: Sat, 15 Nov 2014 16:51:40 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f51cf223_1cf63fd2c1065be830784@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f51cbfe4_1cf63fd2c1065be8306f3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f51cbfe4_1cf63fd2c1065be8306f3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/fb1baf41085011694120232f1941c02d/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f51cbfe4_1cf63fd2c1065be8306f3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/fb1baf41085011694120232f1941c02d/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f51cbfe4_1cf63fd2c1065be8306f3--

  Rendered text template (0.0ms)
Completed 204 No Content in 482ms (Views: 0.5ms | ActiveRecord: 6.5ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.073427"], ["email", "test@email.com"], ["password_digest", "$2a$04$nf8NgDJyDqWeXqsA1duIrumcgrb2zxopf02/rq3jC9rNDMNAIFGXa"], ["updated_at", "2014-11-16 00:51:40.073427"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 36.4ms

Sent mail to foo@bar.com (9.9ms)
Date: Sat, 15 Nov 2014 16:51:40 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f51c1ca4b_1cf63fd2c1065be83095e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f51c1a73a_1cf63fd2c1065be830894";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f51c1a73a_1cf63fd2c1065be830894
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f51c1a73a_1cf63fd2c1065be830894
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f51c1a73a_1cf63fd2c1065be830894--

  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.137532"], ["email", "test@email.com"], ["password_digest", "$2a$04$oICzRfu0iCPuKAkxLbfEpuGJR2JRE8uQH7TQz.wyd8bkYieFMMwJi"], ["updated_at", "2014-11-16 00:51:40.137532"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c4f1eb5a27356b69c91d3a7ec0565c29' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c4f1eb5a27356b69c91d3a7ec0565c29"], ["reset_password_token_exp", "2014-11-16 08:51:40.143770"], ["updated_at", "2014-11-16 00:51:40.152629"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 16.4ms

Sent mail to test@email.com (7.9ms)
Date: Sat, 15 Nov 2014 16:51:40 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f51c2cbd3_1cf63fd2c1065be83116f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f51c2b9a8_1cf63fd2c1065be8310ea";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f51c2b9a8_1cf63fd2c1065be8310ea
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/c4f1eb5a27356b69c91d3a7ec0565c29/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f51c2b9a8_1cf63fd2c1065be8310ea
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/c4f1eb5a27356b69c91d3a7ec0565c29/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f51c2b9a8_1cf63fd2c1065be8310ea--

  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[35m (13.4ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.240929"], ["email", "test@email.com"], ["password_digest", "$2a$04$hJyGQvbaoRZFoWM6RZm6wOQGkEA0zjmnlylvg.d3bFgpH.MSH1bMa"], ["updated_at", "2014-11-16 00:51:40.240929"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.6ms

Sent mail to foo@bar.com (6.4ms)
Date: Sat, 15 Nov 2014 16:51:40 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f51c41c8b_1cf63fd2c1065be8313b2@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f51c40958_1cf63fd2c1065be8312b2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f51c40958_1cf63fd2c1065be8312b2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f51c40958_1cf63fd2c1065be8312b2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f51c40958_1cf63fd2c1065be8312b2--

  Rendered text template (0.0ms)
Completed 204 No Content in 18ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.317643"], ["email", "test@email.com"], ["password_digest", "$2a$04$2phVq.vVDBNV5i0Flc3MhOYMVD80RXJr9zjGSAb.zsEdQTkcS5n0G"], ["updated_at", "2014-11-16 00:51:40.317643"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (3.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '2208727f978966e24deb7b2855cf3213' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:51:40.397566"], ["expiration", "2014-11-17 00:51:40.404614"], ["key", "2208727f978966e24deb7b2855cf3213"], ["updated_at", "2014-11-16 00:51:40.397566"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 58ms (Views: 0.2ms | ActiveRecord: 7.1ms)
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.420988"], ["email", "test@email.com"], ["password_digest", "$2a$04$3J8oxB0T6ebONcYTgHCYiuk0EeYm1ZFnjEVvekqTl4EhidXLsNQGG"], ["updated_at", "2014-11-16 00:51:40.420988"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0c0f0c35dcdd137fe9f13fe80fb72462' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:51:40.427761"], ["expiration", "2014-11-17 00:51:40.430973"], ["key", "0c0f0c35dcdd137fe9f13fe80fb72462"], ["updated_at", "2014-11-16 00:51:40.427761"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 10.7ms | ActiveRecord: 2.5ms)
  [1m[35m (4.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.489892"], ["email", "test@email.com"], ["password_digest", "$2a$04$6.BueBDF/RVxZks8qLNxkeaVtmvswVo.qmK8357hBy8MXyeUn.rQC"], ["updated_at", "2014-11-16 00:51:40.489892"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (4.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 12ms (Views: 0.5ms | ActiveRecord: 4.7ms)
  [1m[35m (9.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.551692"], ["email", "test@email.com"], ["password_digest", "$2a$04$OGQ.IjaZca4LJKhAkbM5YeY5F6WghP1dTAAM3na5tRQ6I5qVYupSK"], ["updated_at", "2014-11-16 00:51:40.551692"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '91da6aaca5ad5b45fd5e0708c9749fc5' LIMIT 1[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:51:40.583851"], ["expiration", "2014-11-17 00:51:40.585314"], ["key", "91da6aaca5ad5b45fd5e0708c9749fc5"], ["updated_at", "2014-11-16 00:51:40.583851"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 16ms (Views: 0.3ms | ActiveRecord: 3.7ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (1.0ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '91da6aaca5ad5b45fd5e0708c9749fc5' LIMIT 1
Completed 200 OK in 14ms (Views: 1.8ms | ActiveRecord: 1.0ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:51:40.632659"], ["email", "test@email.com"], ["password_digest", "$2a$04$zjyCe/AJaOkgLfo79g1M1.uBfNQSx2NJjqesjvuKpZkfzlaPkyKYO"], ["updated_at", "2014-11-16 00:51:40.632659"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'cade543fe1ad5195bd6edf7a82e0e96f' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:51:40.654852"], ["expiration", "2014-11-17 00:51:40.656411"], ["key", "cade543fe1ad5195bd6edf7a82e0e96f"], ["updated_at", "2014-11-16 00:51:40.654852"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:46:40.660385"], ["updated_at", "2014-11-16 00:51:40.661120"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'cade543fe1ad5195bd6edf7a82e0e96f' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (9.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (28.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.707886"], ["email", "test@email.com"], ["password_digest", "$2a$04$OP4dRVPO/iFt2Lp/9mIjFeh0YxdF/LxUZvmQydsYPcn26jtBpfRfq"], ["updated_at", "2014-11-16 00:51:40.707886"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.3ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '35da24eea7f590ec3c23fda9c31ddc24' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:51:40.738745"], ["expiration", "2014-11-17 00:51:40.740634"], ["key", "35da24eea7f590ec3c23fda9c31ddc24"], ["updated_at", "2014-11-16 00:51:40.738745"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '35da24eea7f590ec3c23fda9c31ddc24' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 31ms (Views: 10.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:51:40.795866"], ["email", "test@email.com"], ["password_digest", "$2a$04$TTDQ5WxbYsQHDHkvOHXz/OiHCBFm/11b5hEA8dZoOP3fPVZsQ5i8q"], ["updated_at", "2014-11-16 00:51:40.795866"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a0a733e64ed03d44ad57eba3d4dc9626' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:51:40.806941"], ["expiration", "2014-11-17 00:51:40.810670"], ["key", "a0a733e64ed03d44ad57eba3d4dc9626"], ["updated_at", "2014-11-16 00:51:40.806941"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:46:40.815498"], ["updated_at", "2014-11-16 00:51:40.817310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a0a733e64ed03d44ad57eba3d4dc9626' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
Completed 500 Internal Server Error in 7ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:51:40 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:18.982170"], ["email", "test@email.com"], ["password_digest", "$2a$04$HtxexQXv7HWcmJzI0I5O1uD/ZKK6iJidzuK4s5tKwFV/TaQhnD00e"], ["updated_at", "2014-11-16 00:52:18.982170"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '55c8923b023e3586554c09f8419d5b37' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "55c8923b023e3586554c09f8419d5b37"], ["reset_password_token_exp", "2014-11-16 08:52:18.991982"], ["updated_at", "2014-11-16 00:52:18.994783"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/55c8923b023e3586554c09f8419d5b37/" for 127.0.0.1 at 2014-11-15 16:52:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"55c8923b023e3586554c09f8419d5b37"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '55c8923b023e3586554c09f8419d5b37' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$hkWPSlhSibIvZpZxOPlyvOc8PddXv7ef483lKI3Y9FAdiIa/rBBM6"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:52:19.056022"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 27ms (Views: 8.6ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (9.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:19.085042"], ["email", "test@email.com"], ["password_digest", "$2a$04$5pSpvhZighVrIuukZvKXlecNPtH1rVjDXBB8rvRl.SvxD9svR0ZgW"], ["updated_at", "2014-11-16 00:52:19.085042"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '504b329a3abec84280f99a2d905be9b0' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "504b329a3abec84280f99a2d905be9b0"], ["reset_password_token_exp", "2014-11-16 08:52:19.087105"], ["updated_at", "2014-11-16 00:52:19.088748"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/504b329a3abec84280f99a2d905be9b0/" for 127.0.0.1 at 2014-11-15 16:52:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"504b329a3abec84280f99a2d905be9b0"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '504b329a3abec84280f99a2d905be9b0' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$C8PFDMnXEKiETgbnF3JB5erKeNWsY.6aRpva6BfL0cR9vhKxRUhee"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:52:19.159952"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 43ms (Views: 0.7ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/504b329a3abec84280f99a2d905be9b0/" for 127.0.0.1 at 2014-11-15 16:52:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"504b329a3abec84280f99a2d905be9b0"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '504b329a3abec84280f99a2d905be9b0' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (2.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (6.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:52:19.210297"], ["email", "test@email.com"], ["password_digest", "$2a$04$tnVHwMbeBvARqA9qyA0ZEuEwaMfO9srrA3RTBiGDcBrMaug7pBaMO"], ["updated_at", "2014-11-16 00:52:19.210297"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3495e7081567993d547cd2fb74524859' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3495e7081567993d547cd2fb74524859"], ["reset_password_token_exp", "2014-11-16 08:52:19.237182"], ["updated_at", "2014-11-16 00:52:19.238686"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/3495e7081567993d547cd2fb74524859/" for 127.0.0.1 at 2014-11-15 16:52:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"3495e7081567993d547cd2fb74524859"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3495e7081567993d547cd2fb74524859' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 53ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (8.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:19.325606"], ["email", "test@email.com"], ["password_digest", "$2a$04$aaBx/O/1LDiXa9mjRVjJT.pxq/wjJ6pRmhFYx/nonoMTjv2IBgs9m"], ["updated_at", "2014-11-16 00:52:19.325606"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1c30e47114f5b59d63aac7d1ce5b03dc' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "1c30e47114f5b59d63aac7d1ce5b03dc"], ["reset_password_token_exp", "2014-11-16 08:52:19.332227"], ["updated_at", "2014-11-16 00:52:19.338701"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:52:19 -0800
  [1m[36mUser Load (20.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:19.395130"], ["email", "test@email.com"], ["password_digest", "$2a$04$vinOra7Nyi/kmwpTk1Wyp.OQ6BEX8QSK7YOI9XAZx1AaW.GPsRT/S"], ["updated_at", "2014-11-16 00:52:19.395130"], ["username", "test"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2a12d5328f8fa5523ab5f5f56fd53c79' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (30.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2a12d5328f8fa5523ab5f5f56fd53c79"], ["reset_password_token_exp", "2014-11-16 08:52:19.408266"], ["updated_at", "2014-11-16 00:52:19.449915"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/074b9a2f7ee17b9b0e62509cc32c3e80/" for 127.0.0.1 at 2014-11-15 16:52:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"074b9a2f7ee17b9b0e62509cc32c3e80"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '074b9a2f7ee17b9b0e62509cc32c3e80' LIMIT 1[0m
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:19.491040"], ["email", "test@email.com"], ["password_digest", "$2a$04$XxeiXoYil4CjmVjoWPGZU.44RlVL/gP4bJT3/grDxrRbiMwas1Vmy"], ["updated_at", "2014-11-16 00:52:19.491040"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:52:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '10d3df0c2e60653604d500a7a08476d3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "10d3df0c2e60653604d500a7a08476d3"], ["reset_password_token_exp", "2014-11-16 08:52:19.509968"], ["updated_at", "2014-11-16 00:52:19.517341"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 346.2ms

Sent mail to test@email.com (11.0ms)
Date: Sat, 15 Nov 2014 16:52:19 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f543de402_1d153fecf1c65bec93565@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f543dc7a2_1d153fecf1c65bec934c2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f543dc7a2_1d153fecf1c65bec934c2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/10d3df0c2e60653604d500a7a08476d3/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f543dc7a2_1d153fecf1c65bec934c2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/10d3df0c2e60653604d500a7a08476d3/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f543dc7a2_1d153fecf1c65bec934c2--

  Rendered text template (0.0ms)
Completed 204 No Content in 413ms (Views: 2.7ms | ActiveRecord: 1.3ms)
  [1m[35m (9.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:19.935935"], ["email", "test@email.com"], ["password_digest", "$2a$04$Q9XEY3OiusitFBX8ogaC4.apBB0SQrvHq.uaNIDzbekBMRgzP84OC"], ["updated_at", "2014-11-16 00:52:19.935935"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:52:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.9ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 21.3ms

Sent mail to foo@bar.com (40.8ms)
Date: Sat, 15 Nov 2014 16:52:19 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f543ee084_1d153fecf1c65bec937a7@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f543ea55d_1d153fecf1c65bec9369c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f543ea55d_1d153fecf1c65bec9369c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f543ea55d_1d153fecf1c65bec9369c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f543ea55d_1d153fecf1c65bec9369c--

  Rendered text template (0.0ms)
Completed 204 No Content in 68ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.035454"], ["email", "test@email.com"], ["password_digest", "$2a$04$92Bn7QIUI1ohU70LaEEth.A13FcuolElYqAyL4q9PEUdphkpQR6P."], ["updated_at", "2014-11-16 00:52:20.035454"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e997efac347fbaab5bb811d5332d7cf3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e997efac347fbaab5bb811d5332d7cf3"], ["reset_password_token_exp", "2014-11-16 08:52:20.040022"], ["updated_at", "2014-11-16 00:52:20.042560"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 19.7ms

Sent mail to test@email.com (11.4ms)
Date: Sat, 15 Nov 2014 16:52:20 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f54414cf8_1d153fecf1c65bec9392c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f5441278d_1d153fecf1c65bec938b6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f5441278d_1d153fecf1c65bec938b6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/e997efac347fbaab5bb811d5332d7cf3/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f5441278d_1d153fecf1c65bec938b6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/e997efac347fbaab5bb811d5332d7cf3/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f5441278d_1d153fecf1c65bec938b6--

  Rendered text template (0.0ms)
Completed 204 No Content in 51ms (Views: 0.5ms | ActiveRecord: 1.4ms)
  [1m[35m (61.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.157212"], ["email", "test@email.com"], ["password_digest", "$2a$04$kQRVZzu01kRDsUHLNYFKKOt8mhhb7OT0W5eYbkEt0tiTR7UjMvxD."], ["updated_at", "2014-11-16 00:52:20.157212"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 41.2ms

Sent mail to foo@bar.com (7.3ms)
Date: Sat, 15 Nov 2014 16:52:20 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f5443278d_1d153fecf1c65bec941c0@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f54427d9d_1d153fecf1c65bec940b4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f54427d9d_1d153fecf1c65bec940b4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f54427d9d_1d153fecf1c65bec940b4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f54427d9d_1d153fecf1c65bec940b4--

  Rendered text template (0.0ms)
Completed 204 No Content in 51ms (Views: 0.8ms | ActiveRecord: 0.1ms)
  [1m[35m (6.9ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.235463"], ["email", "test@email.com"], ["password_digest", "$2a$04$rGbsgNlfpzWc2Gauylx.CeEH/vvdXkkI6M.ZFRrrGDvMV/AnPfipC"], ["updated_at", "2014-11-16 00:52:20.235463"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'e773784188b1e1a9f8d0af06a7cfbb18' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:52:20.288446"], ["expiration", "2014-11-17 00:52:20.292354"], ["key", "e773784188b1e1a9f8d0af06a7cfbb18"], ["updated_at", "2014-11-16 00:52:20.288446"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 39ms (Views: 0.3ms | ActiveRecord: 4.0ms)
  [1m[35m (6.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.315598"], ["email", "test@email.com"], ["password_digest", "$2a$04$9rO8YGWtBbIR.H2lAsgAR.uxu1kXcP8g24MiYH.05F7hzXGHi2VfC"], ["updated_at", "2014-11-16 00:52:20.315598"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'cb31d2a685a89eb21f477e8845597716' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:52:20.344011"], ["expiration", "2014-11-17 00:52:20.347524"], ["key", "cb31d2a685a89eb21f477e8845597716"], ["updated_at", "2014-11-16 00:52:20.344011"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 42ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.377954"], ["email", "test@email.com"], ["password_digest", "$2a$04$mz9EtGLaY7tPwOF1i0o/t.98r2NLthhjj.ugVhh3737K1u5jqp/4G"], ["updated_at", "2014-11-16 00:52:20.377954"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 10ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.412571"], ["email", "test@email.com"], ["password_digest", "$2a$04$/xnOrUO4NKLIrGeW5Oq6IO7SqzT1PI8qLjxQbbdgZeDt.RtIahrNG"], ["updated_at", "2014-11-16 00:52:20.412571"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0c33f6291fab66c73fa178ce30f4e0d9' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:52:20.424294"], ["expiration", "2014-11-17 00:52:20.425143"], ["key", "0c33f6291fab66c73fa178ce30f4e0d9"], ["updated_at", "2014-11-16 00:52:20.424294"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 0.3ms | ActiveRecord: 2.1ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '0c33f6291fab66c73fa178ce30f4e0d9' LIMIT 1
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:52:20.507936"], ["email", "test@email.com"], ["password_digest", "$2a$04$575rU5WlKKl1/HVJ021ZcuqoqSDz4w.zkKtdH2vSO1cfMegngz4HG"], ["updated_at", "2014-11-16 00:52:20.507936"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '3ec1c686a73767abeb34529e26ec90ff' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:52:20.514197"], ["expiration", "2014-11-17 00:52:20.516080"], ["key", "3ec1c686a73767abeb34529e26ec90ff"], ["updated_at", "2014-11-16 00:52:20.514197"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:47:20.517564"], ["updated_at", "2014-11-16 00:52:20.517914"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '3ec1c686a73767abeb34529e26ec90ff' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (10.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.575306"], ["email", "test@email.com"], ["password_digest", "$2a$04$vzM8wcDNsdOMV32n1JNIIOtvbfJhjNfi69eJRnb5r/fuK6S9DfqJG"], ["updated_at", "2014-11-16 00:52:20.575306"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5b1372cd67a524b8623c7302e167dea4' LIMIT 1
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.577564"], ["expiration", "2014-11-17 00:52:20.578397"], ["key", "5b1372cd67a524b8623c7302e167dea4"], ["updated_at", "2014-11-16 00:52:20.577564"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '5b1372cd67a524b8623c7302e167dea4' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 11ms (Views: 0.8ms | ActiveRecord: 0.9ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:52:20.634995"], ["email", "test@email.com"], ["password_digest", "$2a$04$1Q6R3SXmH354niLSNpc.0ucNdwkRtwpBej.R2CrGGUQeAWZQWJJRS"], ["updated_at", "2014-11-16 00:52:20.634995"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '17e758a1257845fe062069ee40fb0839' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:52:20.647396"], ["expiration", "2014-11-17 00:52:20.650358"], ["key", "17e758a1257845fe062069ee40fb0839"], ["updated_at", "2014-11-16 00:52:20.647396"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:47:20.653898"], ["updated_at", "2014-11-16 00:52:20.654358"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '17e758a1257845fe062069ee40fb0839' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:52:20.697906"], ["email", "test"], ["password_digest", "$2a$04$d/BknMxWSymQN008d96cPuNMUe1fp2hU4d6mUVFpXFMr2ve1PeNey"], ["updated_at", "2014-11-16 00:52:20.697906"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 21ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:52:20 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 13ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:54:08 -0800
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:54:08 -0800
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:54:27 -0800
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:54:27 -0800
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:01.735538"], ["email", "test@email.com"], ["password_digest", "$2a$04$Bzkp6bXVvXNJso8IEARZ2OcsOlqLzUMLn6K4QullTjsoJvFc4.qWe"], ["updated_at", "2014-11-16 00:55:01.735538"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '079f8cb9d983e6dba780c0cf4ef99fa2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "079f8cb9d983e6dba780c0cf4ef99fa2"], ["reset_password_token_exp", "2014-11-16 08:55:01.748628"], ["updated_at", "2014-11-16 00:55:01.756568"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/079f8cb9d983e6dba780c0cf4ef99fa2/" for 127.0.0.1 at 2014-11-15 16:55:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"079f8cb9d983e6dba780c0cf4ef99fa2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '079f8cb9d983e6dba780c0cf4ef99fa2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$rxuX9cSBNU9wxX79VNNW4ej8swuUVjWljwOSF/YLiisVrkNRSvzci"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:55:01.821010"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 32ms (Views: 9.4ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:01.840914"], ["email", "test@email.com"], ["password_digest", "$2a$04$3lhzGLPORhia6Dvin7QjsOIpgESUXIPeSCo0oWvHqDic5LDwMlbJG"], ["updated_at", "2014-11-16 00:55:01.840914"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0d14d16ec497649173dce58b76577d1f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0d14d16ec497649173dce58b76577d1f"], ["reset_password_token_exp", "2014-11-16 08:55:01.844007"], ["updated_at", "2014-11-16 00:55:01.877084"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0d14d16ec497649173dce58b76577d1f/" for 127.0.0.1 at 2014-11-15 16:55:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0d14d16ec497649173dce58b76577d1f"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0d14d16ec497649173dce58b76577d1f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$DBHsirzTcsA9D8a6qeVRwu9.AAm6bTXoObxC/ezkR3S4NlUdMcn4S"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:55:01.908220"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 20ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/0d14d16ec497649173dce58b76577d1f/" for 127.0.0.1 at 2014-11-15 16:55:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0d14d16ec497649173dce58b76577d1f"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0d14d16ec497649173dce58b76577d1f' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (5.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:55:01.924628"], ["email", "test@email.com"], ["password_digest", "$2a$04$QjC3uJQlUNRuK.b7tULdeu5C1sNreEE6MRdJrWMBtNJN0s4YgiK7G"], ["updated_at", "2014-11-16 00:55:01.924628"], ["username", "test"]]
  [1m[36m (7.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5c629d82a2e6b38152e99905b52235e0' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "5c629d82a2e6b38152e99905b52235e0"], ["reset_password_token_exp", "2014-11-16 08:55:01.967369"], ["updated_at", "2014-11-16 00:55:01.982423"]]
  [1m[36m (1.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/5c629d82a2e6b38152e99905b52235e0/" for 127.0.0.1 at 2014-11-15 16:55:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"5c629d82a2e6b38152e99905b52235e0"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5c629d82a2e6b38152e99905b52235e0' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.016837"], ["email", "test@email.com"], ["password_digest", "$2a$04$Jr94blrhkBPtaWDtJz/25OQW8omFoBB7XKPuALhzITb5IOvwrNm/6"], ["updated_at", "2014-11-16 00:55:02.016837"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fecc9de79105c21e189a0f0ab2c2f756' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "fecc9de79105c21e189a0f0ab2c2f756"], ["reset_password_token_exp", "2014-11-16 08:55:02.019271"], ["updated_at", "2014-11-16 00:55:02.032697"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.062652"], ["email", "test@email.com"], ["password_digest", "$2a$04$Xsgn0StEqQeAlG1dLRbe6u7lW6aZWf8yxE87VbDjhsoLLxZHs.Af2"], ["updated_at", "2014-11-16 00:55:02.062652"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b3b283ac6ebde272641131e364b460b8' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "b3b283ac6ebde272641131e364b460b8"], ["reset_password_token_exp", "2014-11-16 08:55:02.066722"], ["updated_at", "2014-11-16 00:55:02.068736"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e8527539ae9fb532bf96fa73af1ba696/" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e8527539ae9fb532bf96fa73af1ba696"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e8527539ae9fb532bf96fa73af1ba696' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (8.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.120537"], ["email", "test@email.com"], ["password_digest", "$2a$04$VD/PN4BxgiNtU8W5veL/qucyuPgnRkSheaTPYzk138vuhVR2nWH2y"], ["updated_at", "2014-11-16 00:55:02.120537"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1c8267195a9e9f05a780e29e830a5b13' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "1c8267195a9e9f05a780e29e830a5b13"], ["reset_password_token_exp", "2014-11-16 08:55:02.130767"], ["updated_at", "2014-11-16 00:55:02.133295"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 323.2ms

Sent mail to test@email.com (10.0ms)
Date: Sat, 15 Nov 2014 16:55:02 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f5e6786e2_1d763fc490c63bf06421@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f5e6764b2_1d763fc490c63bf0637f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f5e6764b2_1d763fc490c63bf0637f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/1c8267195a9e9f05a780e29e830a5b13/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f5e6764b2_1d763fc490c63bf0637f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/1c8267195a9e9f05a780e29e830a5b13/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f5e6764b2_1d763fc490c63bf0637f--

  Rendered text template (0.0ms)
Completed 204 No Content in 369ms (Views: 0.4ms | ActiveRecord: 1.9ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.503491"], ["email", "test@email.com"], ["password_digest", "$2a$04$OuGfUr4bA/VLNuDR33164eC15M2kCzYRD7yZoQdZddtctl2zw2W3q"], ["updated_at", "2014-11-16 00:55:02.503491"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 15.3ms

Sent mail to foo@bar.com (50.0ms)
Date: Sat, 15 Nov 2014 16:55:02 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f5e6863a6_1d763fc490c63bf066c3@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f5e67e619_1d763fc490c63bf065d9";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f5e67e619_1d763fc490c63bf065d9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f5e67e619_1d763fc490c63bf065d9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f5e67e619_1d763fc490c63bf065d9--

  Rendered text template (0.0ms)
Completed 204 No Content in 68ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (5.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.588052"], ["email", "test@email.com"], ["password_digest", "$2a$04$mRLaMgz96RhnQy62HXGrc.rFAGnWXLC6JkU61oWb2F4/o3uVCWVX2"], ["updated_at", "2014-11-16 00:55:02.588052"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9e620468498829cd3affd7e1e72bbf35' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9e620468498829cd3affd7e1e72bbf35"], ["reset_password_token_exp", "2014-11-16 08:55:02.630548"], ["updated_at", "2014-11-16 00:55:02.652071"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 3.8ms

Sent mail to test@email.com (4.3ms)
Date: Sat, 15 Nov 2014 16:55:02 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f5e6a1e62_1d763fc490c63bf0686b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f5e6a0dfc_1d763fc490c63bf06743";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f5e6a0dfc_1d763fc490c63bf06743
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/9e620468498829cd3affd7e1e72bbf35/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f5e6a0dfc_1d763fc490c63bf06743
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/9e620468498829cd3affd7e1e72bbf35/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f5e6a0dfc_1d763fc490c63bf06743--

  Rendered text template (0.0ms)
Completed 204 No Content in 39ms (Views: 0.5ms | ActiveRecord: 2.8ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.686647"], ["email", "test@email.com"], ["password_digest", "$2a$04$qtpRLtouUL9j1Dm/HKOvUura6w6wyRGAtse3hZwjaDeERCCOUR2o."], ["updated_at", "2014-11-16 00:55:02.686647"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 31.2ms

Sent mail to foo@bar.com (5.7ms)
Date: Sat, 15 Nov 2014 16:55:02 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f5e6b50f0_1d763fc490c63bf070cd@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f5e6b25d7_1d763fc490c63bf069ae";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f5e6b25d7_1d763fc490c63bf069ae
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f5e6b25d7_1d763fc490c63bf069ae
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f5e6b25d7_1d763fc490c63bf069ae--

  Rendered text template (0.1ms)
Completed 204 No Content in 45ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.764617"], ["email", "test@email.com"], ["password_digest", "$2a$04$GlIvJU7Y.tnlkHOs8sWAS.XhHpm3kzjQ2lRSE2dTrwdFjSxlvBoV2"], ["updated_at", "2014-11-16 00:55:02.764617"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7460c897481756797a031ed4c4b57abd' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:55:02.832132"], ["expiration", "2014-11-17 00:55:02.835060"], ["key", "7460c897481756797a031ed4c4b57abd"], ["updated_at", "2014-11-16 00:55:02.832132"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 29ms (Views: 0.3ms | ActiveRecord: 1.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.844886"], ["email", "test@email.com"], ["password_digest", "$2a$04$0YQ5fwbTudsHZEs6DGi9We9zqrGjmikkZh93tBUl4lfCZX9y0iKpK"], ["updated_at", "2014-11-16 00:55:02.844886"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7b76ec684d358ba4b5e3ae64e5505c99' LIMIT 1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:55:02.853662"], ["expiration", "2014-11-17 00:55:02.864756"], ["key", "7b76ec684d358ba4b5e3ae64e5505c99"], ["updated_at", "2014-11-16 00:55:02.853662"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 0.4ms | ActiveRecord: 3.3ms)
  [1m[35m (4.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:02.925817"], ["email", "test@email.com"], ["password_digest", "$2a$04$T.F8K0.3vYsLF4uxmg0ghOqE7O55XmwZ3q.q8enIIf2MQ6qVWAoni"], ["updated_at", "2014-11-16 00:55:02.925817"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:55:02 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 16ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (15.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:03.006850"], ["email", "test@email.com"], ["password_digest", "$2a$04$nOwPRm9xWOeCCxKpHOTLgeQlImVXcNZxWOy0LBwv.8WMjQdYj.Kly"], ["updated_at", "2014-11-16 00:55:03.006850"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:55:03 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b63e1025f5c51edadf1fddd2bfc70e49' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:55:03.018723"], ["expiration", "2014-11-17 00:55:03.019863"], ["key", "b63e1025f5c51edadf1fddd2bfc70e49"], ["updated_at", "2014-11-16 00:55:03.018723"], ["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 5.8ms | ActiveRecord: 2.8ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:55:03 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b63e1025f5c51edadf1fddd2bfc70e49' LIMIT 1
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (18.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:55:03.074006"], ["email", "test@email.com"], ["password_digest", "$2a$04$jFNvO2bhLU504KDjeO3MLeA6/0CrNX/RIdI3DeIddb7iQz16ELNdO"], ["updated_at", "2014-11-16 00:55:03.074006"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ccc29356b17aecdcd6511f800482124d' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:55:03.079485"], ["expiration", "2014-11-17 00:55:03.082175"], ["key", "ccc29356b17aecdcd6511f800482124d"], ["updated_at", "2014-11-16 00:55:03.079485"], ["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:50:03.099320"], ["updated_at", "2014-11-16 00:55:03.100448"]]
  [1m[35m (9.9ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:55:03 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ccc29356b17aecdcd6511f800482124d' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:03.139404"], ["email", "test@email.com"], ["password_digest", "$2a$04$tP01j5nVUnegqJ5cmnfjtexlI4BxKvmusy3iHDJHIQa145uNgSMTm"], ["updated_at", "2014-11-16 00:55:03.139404"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1ed0c2bcdca37b5e4760f938c05f715d' LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:03.141453"], ["expiration", "2014-11-17 00:55:03.149659"], ["key", "1ed0c2bcdca37b5e4760f938c05f715d"], ["updated_at", "2014-11-16 00:55:03.141453"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:55:03 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1ed0c2bcdca37b5e4760f938c05f715d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 7ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (22.5ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:55:03.217996"], ["email", "test@email.com"], ["password_digest", "$2a$04$cKe2lsg98IBMJnXksgVvTe8UL6zISIsyAoHD3y9hhcC9y.TYdDvHG"], ["updated_at", "2014-11-16 00:55:03.217996"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '04b6efa84280ef31969abe2d020eb676' LIMIT 1[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:55:03.221059"], ["expiration", "2014-11-17 00:55:03.232336"], ["key", "04b6efa84280ef31969abe2d020eb676"], ["updated_at", "2014-11-16 00:55:03.221059"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:50:03.240213"], ["updated_at", "2014-11-16 00:55:03.241178"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:55:03 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '04b6efa84280ef31969abe2d020eb676' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.8ms | ActiveRecord: 0.5ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:55:03 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:55:03.304528"], ["email", "test"], ["password_digest", "$2a$04$rYOE9LZ4t0IDQaXpH7qW/.40qrFZJtrUMkOainVOq.yGUyVql3bwG"], ["updated_at", "2014-11-16 00:55:03.304528"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 39ms
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:55:03 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 13ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:20.749354"], ["email", "test@email.com"], ["password_digest", "$2a$04$eXv5l3HhQN/e806Z3JAL4uXGHETGuUqjrlbaDBcqP5LGmQiF4MvMO"], ["updated_at", "2014-11-16 00:56:20.749354"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fcd2357da2f6a8d1ddb37c1d6c84747c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "fcd2357da2f6a8d1ddb37c1d6c84747c"], ["reset_password_token_exp", "2014-11-16 08:56:20.758492"], ["updated_at", "2014-11-16 00:56:20.761204"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/fcd2357da2f6a8d1ddb37c1d6c84747c/" for 127.0.0.1 at 2014-11-15 16:56:20 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"fcd2357da2f6a8d1ddb37c1d6c84747c"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'fcd2357da2f6a8d1ddb37c1d6c84747c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$CVNvLja9zkzmzyBX4iQT.OyCKzitF7YsAO/jzZTWZ9NkScF0EIYDa"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:56:20.810279"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 33ms (Views: 16.9ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:20.845721"], ["email", "test@email.com"], ["password_digest", "$2a$04$asV3lnDalECWNzoyn/RukO66W2Oe.9g6kMcv/chzN3i7NrfGcxdma"], ["updated_at", "2014-11-16 00:56:20.845721"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '29b5ac4d424c7110b6afd1f828e148f6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "29b5ac4d424c7110b6afd1f828e148f6"], ["reset_password_token_exp", "2014-11-16 08:56:20.848489"], ["updated_at", "2014-11-16 00:56:20.852432"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/29b5ac4d424c7110b6afd1f828e148f6/" for 127.0.0.1 at 2014-11-15 16:56:20 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"29b5ac4d424c7110b6afd1f828e148f6"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '29b5ac4d424c7110b6afd1f828e148f6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$V0n9AydfBStkbaKC/DvKduoRsQJG5PLbMPUTTDDhAj.wxT7KS8A0G"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:56:20.869511"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 14ms (Views: 0.6ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/29b5ac4d424c7110b6afd1f828e148f6/" for 127.0.0.1 at 2014-11-15 16:56:20 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"29b5ac4d424c7110b6afd1f828e148f6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '29b5ac4d424c7110b6afd1f828e148f6' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:20.891031"], ["email", "test@email.com"], ["password_digest", "$2a$04$OmeVM2Hww92FUDxtSIg8v.eSGt6IJBENrl6FoBCYu57vejWlxUMVe"], ["updated_at", "2014-11-16 00:56:20.891031"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3461b8f5c91054bb9cc5d3fd1bac0bd5' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3461b8f5c91054bb9cc5d3fd1bac0bd5"], ["reset_password_token_exp", "2014-11-16 08:56:20.899490"], ["updated_at", "2014-11-16 00:56:20.919178"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/3461b8f5c91054bb9cc5d3fd1bac0bd5/" for 127.0.0.1 at 2014-11-15 16:56:20 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"3461b8f5c91054bb9cc5d3fd1bac0bd5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3461b8f5c91054bb9cc5d3fd1bac0bd5' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 47ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:21.004706"], ["email", "test@email.com"], ["password_digest", "$2a$04$a2zm1Pb7hC1MyR53duQxPO3PiO/Ujm4hTaobThEtHg7ZmpPoArzHy"], ["updated_at", "2014-11-16 00:56:21.004706"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bf52b9cd41ec16e6dea25a9e166bce96' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "bf52b9cd41ec16e6dea25a9e166bce96"], ["reset_password_token_exp", "2014-11-16 08:56:21.007188"], ["updated_at", "2014-11-16 00:56:21.010499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:56:21 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:21.065397"], ["email", "test@email.com"], ["password_digest", "$2a$04$ONfq2KMrx1IXwtSd1cLxC.TXNkGE3Na7bxGPXddVD.Pn.Z6otDlFe"], ["updated_at", "2014-11-16 00:56:21.065397"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5e518fd787c62d6610181150ddf3dc72' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5e518fd787c62d6610181150ddf3dc72"], ["reset_password_token_exp", "2014-11-16 08:56:21.076391"], ["updated_at", "2014-11-16 00:56:21.082161"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2230ad94de57d15901ec5a0da3b7f1aa/" for 127.0.0.1 at 2014-11-15 16:56:21 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2230ad94de57d15901ec5a0da3b7f1aa"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2230ad94de57d15901ec5a0da3b7f1aa' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (3.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:21.109517"], ["email", "test@email.com"], ["password_digest", "$2a$04$1kJfXRN6LpZ.q9n2Edr2wOv46F.ewQGeaKj4D2UQeAq/nYzQAi9oa"], ["updated_at", "2014-11-16 00:56:21.109517"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:56:21 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '83e4c25b5997c5705deb35650e6ed658' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "83e4c25b5997c5705deb35650e6ed658"], ["reset_password_token_exp", "2014-11-16 08:56:21.167533"], ["updated_at", "2014-11-16 00:56:21.171735"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (12.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 387.1ms

Sent mail to test@email.com (16.7ms)
Date: Sat, 15 Nov 2014 16:56:21 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f6358c49f_1d9c3fedd5c15be4281ca@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f635892a9_1d9c3fedd5c15be428090";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f635892a9_1d9c3fedd5c15be428090
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/83e4c25b5997c5705deb35650e6ed658/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f635892a9_1d9c3fedd5c15be428090
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/83e4c25b5997c5705deb35650e6ed658/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f635892a9_1d9c3fedd5c15be428090--

  Rendered text template (0.0ms)
Completed 204 No Content in 447ms (Views: 0.4ms | ActiveRecord: 2.0ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:21.588906"], ["email", "test@email.com"], ["password_digest", "$2a$04$o6IA6Mh/Z/pe/rf6o7Uz1.RoOHe/NyAyC.aa5jXdejnxrtnLl0iMW"], ["updated_at", "2014-11-16 00:56:21.588906"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:56:21 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 14.7ms

Sent mail to foo@bar.com (32.5ms)
Date: Sat, 15 Nov 2014 16:56:21 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f635949e8_1d9c3fedd5c15be42834c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f63593be5_1d9c3fedd5c15be428282";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f63593be5_1d9c3fedd5c15be428282
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f63593be5_1d9c3fedd5c15be428282
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f63593be5_1d9c3fedd5c15be428282--

  Rendered text template (0.1ms)
Completed 204 No Content in 57ms (Views: 6.8ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:21.673689"], ["email", "test@email.com"], ["password_digest", "$2a$04$dN68NlVDMIjVRAM2QX6prOhI.eA4cfZD9Wszi3XkjzMYYaH43HOOq"], ["updated_at", "2014-11-16 00:56:21.673689"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:56:21 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '14f0b0a1c8d9d49b3276316eecc28114' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "14f0b0a1c8d9d49b3276316eecc28114"], ["reset_password_token_exp", "2014-11-16 08:56:21.681247"], ["updated_at", "2014-11-16 00:56:21.683042"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 33.1ms

Sent mail to test@email.com (16.3ms)
Date: Sat, 15 Nov 2014 16:56:21 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f635b69ec_1d9c3fedd5c15be428544@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f635ae49e_1d9c3fedd5c15be428473";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f635ae49e_1d9c3fedd5c15be428473
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/14f0b0a1c8d9d49b3276316eecc28114/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f635ae49e_1d9c3fedd5c15be428473
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/14f0b0a1c8d9d49b3276316eecc28114/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f635ae49e_1d9c3fedd5c15be428473--

  Rendered text template (0.0ms)
Completed 204 No Content in 77ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[35m (8.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:21.794191"], ["email", "test@email.com"], ["password_digest", "$2a$04$KTRbZx1b3iYjcM6/PBARkeE1dscWJlQDUXG2LgqB2CiA71E7/scjS"], ["updated_at", "2014-11-16 00:56:21.794191"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:56:21 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.1ms

Sent mail to foo@bar.com (27.1ms)
Date: Sat, 15 Nov 2014 16:56:21 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f635c722a_1d9c3fedd5c15be4287d7@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f635c4445_1d9c3fedd5c15be4286eb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f635c4445_1d9c3fedd5c15be4286eb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f635c4445_1d9c3fedd5c15be4286eb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f635c4445_1d9c3fedd5c15be4286eb--

  Rendered text template (0.0ms)
Completed 204 No Content in 37ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (14.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:21.884395"], ["email", "test@email.com"], ["password_digest", "$2a$04$CRTtw1RKr800N8YNJVxGuuuTUPOCDBFDbjF9Qfliw26tYklQ2RJv2"], ["updated_at", "2014-11-16 00:56:21.884395"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:56:21 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '68308ae02ece8ab449e80aaafcf221cb' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:21.938920"], ["expiration", "2014-11-17 00:56:21.959815"], ["key", "68308ae02ece8ab449e80aaafcf221cb"], ["updated_at", "2014-11-16 00:56:21.938920"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 37ms (Views: 0.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:21.993320"], ["email", "test@email.com"], ["password_digest", "$2a$04$XH4Lru8b/5UdiWhvTCAMMOtmwFtAqQquCEqf/sBI1rFZnF.AkxIXy"], ["updated_at", "2014-11-16 00:56:21.993320"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b1ab2bb42e4b5d28cd5e66f757c1530a' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:22.007073"], ["expiration", "2014-11-17 00:56:22.007812"], ["key", "b1ab2bb42e4b5d28cd5e66f757c1530a"], ["updated_at", "2014-11-16 00:56:22.007073"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (12.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:22.054740"], ["email", "test@email.com"], ["password_digest", "$2a$04$N8inqQrAvXRiMKTvmvUQeupsYeb9iGgcvKEZc2JpDHItqnH/XcP/K"], ["updated_at", "2014-11-16 00:56:22.054740"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (3.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 13ms (Views: 0.4ms | ActiveRecord: 3.5ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:22.104716"], ["email", "test@email.com"], ["password_digest", "$2a$04$kyN8dG7hyTz5ZMK8mdN7FORINLHAoXAQOkLRS8fs43fRozEGCmqUC"], ["updated_at", "2014-11-16 00:56:22.104716"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4c6da0ba1b78f13f8b267768c9803df6' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:22.160696"], ["expiration", "2014-11-17 00:56:22.162722"], ["key", "4c6da0ba1b78f13f8b267768c9803df6"], ["updated_at", "2014-11-16 00:56:22.160696"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 27ms (Views: 0.6ms | ActiveRecord: 1.6ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4c6da0ba1b78f13f8b267768c9803df6' LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (3.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (14.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:22.204564"], ["email", "test@email.com"], ["password_digest", "$2a$04$qCwKuScJvoKrNMO/mb9rhed9wBf6TOshQBGgCsT9hla2qBAbY6d1."], ["updated_at", "2014-11-16 00:56:22.204564"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5717a09e92e7ea91dfca394a17eb8ff8' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:22.215350"], ["expiration", "2014-11-17 00:56:22.216714"], ["key", "5717a09e92e7ea91dfca394a17eb8ff8"], ["updated_at", "2014-11-16 00:56:22.215350"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:51:22.218737"], ["updated_at", "2014-11-16 00:56:22.219217"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '5717a09e92e7ea91dfca394a17eb8ff8' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.8ms | ActiveRecord: 0.5ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:22.251151"], ["email", "test@email.com"], ["password_digest", "$2a$04$2R8/8vhJy8ERqacs9uWR8uh0D6xXuF.qIC5u7nz7.kdKD9CJAfrJ6"], ["updated_at", "2014-11-16 00:56:22.251151"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (1.8ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a97cfedd4aab3baa163582db42d6d2f7' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:22.254559"], ["expiration", "2014-11-17 00:56:22.260049"], ["key", "a97cfedd4aab3baa163582db42d6d2f7"], ["updated_at", "2014-11-16 00:56:22.254559"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a97cfedd4aab3baa163582db42d6d2f7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 30ms (Views: 10.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:22.309494"], ["email", "test@email.com"], ["password_digest", "$2a$04$VlV2Vl1/cDc9Gwk0udsOkOnv2ZE5hEoRVfKH0pvVGw5j.TaAAHxv6"], ["updated_at", "2014-11-16 00:56:22.309494"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '579d9f4ba8e8b9c9e4fa68c5204fc25c' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:22.316657"], ["expiration", "2014-11-17 00:56:22.357125"], ["key", "579d9f4ba8e8b9c9e4fa68c5204fc25c"], ["updated_at", "2014-11-16 00:56:22.316657"], ["user_id", 1]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:51:22.379645"], ["updated_at", "2014-11-16 00:56:22.380756"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '579d9f4ba8e8b9c9e4fa68c5204fc25c' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:22.443756"], ["email", "test"], ["password_digest", "$2a$04$kKAk4U5dd8WtETSDbzaG4ujzjkFzV7S.BuUOxFTAZ/3X.xQ2hZic6"], ["updated_at", "2014-11-16 00:56:22.443756"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 26ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:56:22 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 14ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:37.835916"], ["email", "test@email.com"], ["password_digest", "$2a$04$iXNO0l/cs6suwS.krlqaaePqrEqqGVivW6gslJW4NakbfF77aS8Qq"], ["updated_at", "2014-11-16 00:56:37.835916"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3233538c8713bc2eec7178449d2b62f8' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3233538c8713bc2eec7178449d2b62f8"], ["reset_password_token_exp", "2014-11-16 08:56:37.845114"], ["updated_at", "2014-11-16 00:56:37.847859"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/3233538c8713bc2eec7178449d2b62f8/" for 127.0.0.1 at 2014-11-15 16:56:37 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"3233538c8713bc2eec7178449d2b62f8"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3233538c8713bc2eec7178449d2b62f8' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$gGtmmka2tpbsQdWiK2EL8.mseUm.B89yQbqRTGPMksA5t8dl2cJsC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:56:37.901659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 34ms (Views: 13.3ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (23.1ms)[0m  rollback transaction
  [1m[36m (1.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:37.958936"], ["email", "test@email.com"], ["password_digest", "$2a$04$QRQqEAy5aPKsB57ZkOPFROyLKHEqbIv3reV//oKFqOR8tB2.zqIRG"], ["updated_at", "2014-11-16 00:56:37.958936"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '21e149e26931cc2e9aaea8b006be70ac' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "21e149e26931cc2e9aaea8b006be70ac"], ["reset_password_token_exp", "2014-11-16 08:56:38.008382"], ["updated_at", "2014-11-16 00:56:38.013681"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/21e149e26931cc2e9aaea8b006be70ac/" for 127.0.0.1 at 2014-11-15 16:56:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"21e149e26931cc2e9aaea8b006be70ac"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '21e149e26931cc2e9aaea8b006be70ac' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$sWE29g4kdPh3Ioo3tfb0DOMdoTtiQmfB8aQVFjxG2lwI38UnDUqIa"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:56:38.036167"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 21ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/21e149e26931cc2e9aaea8b006be70ac/" for 127.0.0.1 at 2014-11-15 16:56:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"21e149e26931cc2e9aaea8b006be70ac"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '21e149e26931cc2e9aaea8b006be70ac' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:38.070918"], ["email", "test@email.com"], ["password_digest", "$2a$04$japW.PtY297uFlRmtfjiuupYlKkehe/il5mZXi2uAYTCJmEfPprUG"], ["updated_at", "2014-11-16 00:56:38.070918"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ac4d180cb2a7847e71df71e83d1055c7' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ac4d180cb2a7847e71df71e83d1055c7"], ["reset_password_token_exp", "2014-11-16 08:56:38.089926"], ["updated_at", "2014-11-16 00:56:38.127597"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/ac4d180cb2a7847e71df71e83d1055c7/" for 127.0.0.1 at 2014-11-15 16:56:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"ac4d180cb2a7847e71df71e83d1055c7"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ac4d180cb2a7847e71df71e83d1055c7' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 25ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (9.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:38.174989"], ["email", "test@email.com"], ["password_digest", "$2a$04$.DdGlsyWgFru72STFw2A/eGRT6k/iAqHc802MidAo3GUmJHoWYX1C"], ["updated_at", "2014-11-16 00:56:38.174989"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3c7b942e87889eab62c3b0bfa77681df' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3c7b942e87889eab62c3b0bfa77681df"], ["reset_password_token_exp", "2014-11-16 08:56:38.177275"], ["updated_at", "2014-11-16 00:56:38.182199"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:56:38 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:38.244576"], ["email", "test@email.com"], ["password_digest", "$2a$04$AabD5HR/0bhf1NRyJfKUAukwdAp6BH2Th2P/TeJzNHZOJs4uRamQC"], ["updated_at", "2014-11-16 00:56:38.244576"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '377bc1a7ec090a70d363ce11162043f4' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "377bc1a7ec090a70d363ce11162043f4"], ["reset_password_token_exp", "2014-11-16 08:56:38.252000"], ["updated_at", "2014-11-16 00:56:38.254587"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/167d1d4d7c2e13daba59f012f5263ca3/" for 127.0.0.1 at 2014-11-15 16:56:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"167d1d4d7c2e13daba59f012f5263ca3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '167d1d4d7c2e13daba59f012f5263ca3' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 10ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:38.297885"], ["email", "test@email.com"], ["password_digest", "$2a$04$Vwbj6GzLH71SvuCYhnj0qeUfFMNcCJHzrjoy7dml3wYI7ctjYGbK6"], ["updated_at", "2014-11-16 00:56:38.297885"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:56:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (9.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3a49b453281c756a3e208ed4f92de5ed' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (4.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3a49b453281c756a3e208ed4f92de5ed"], ["reset_password_token_exp", "2014-11-16 08:56:38.325647"], ["updated_at", "2014-11-16 00:56:38.343360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 492.6ms

Sent mail to test@email.com (20.1ms)
Date: Sat, 15 Nov 2014 16:56:38 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f646d24c0_1db73fe4c8c65bf0106cb@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f646d0734_1db73fe4c8c65bf010572";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f646d0734_1db73fe4c8c65bf010572
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/3a49b453281c756a3e208ed4f92de5ed/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f646d0734_1db73fe4c8c65bf010572
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/3a49b453281c756a3e208ed4f92de5ed/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f646d0734_1db73fe4c8c65bf010572--

  Rendered text template (0.0ms)
Completed 204 No Content in 568ms (Views: 0.4ms | ActiveRecord: 15.3ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:38.884379"], ["email", "test@email.com"], ["password_digest", "$2a$04$MRe5B5EY05MWUDQG7ZcXMuoqIVD2jr6EDgPKtcNUh6ak2A3pRbd1q"], ["updated_at", "2014-11-16 00:56:38.884379"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:56:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 18.8ms

Sent mail to foo@bar.com (9.4ms)
Date: Sat, 15 Nov 2014 16:56:38 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f646e2bc3_1db73fe4c8c65bf010821@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f646e24c5_1db73fe4c8c65bf01076b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f646e24c5_1db73fe4c8c65bf01076b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f646e24c5_1db73fe4c8c65bf01076b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f646e24c5_1db73fe4c8c65bf01076b--

  Rendered text template (0.0ms)
Completed 204 No Content in 63ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:38.992484"], ["email", "test@email.com"], ["password_digest", "$2a$04$r/fCJ0TE30Wfqk48DqYa6.BcL4ytg503zqiXQ52Vn2kKcPUzskatK"], ["updated_at", "2014-11-16 00:56:38.992484"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:56:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b049dc95a66d59934660125b00271d09' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (3.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b049dc95a66d59934660125b00271d09"], ["reset_password_token_exp", "2014-11-16 08:56:39.004360"], ["updated_at", "2014-11-16 00:56:39.007759"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 6.0ms

Sent mail to test@email.com (16.0ms)
Date: Sat, 15 Nov 2014 16:56:39 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f64755b1_1db73fe4c8c65bf01108a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f64747b6_1db73fe4c8c65bf010964";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f64747b6_1db73fe4c8c65bf010964
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/b049dc95a66d59934660125b00271d09/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f64747b6_1db73fe4c8c65bf010964
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/b049dc95a66d59934660125b00271d09/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f64747b6_1db73fe4c8c65bf010964--

  Rendered text template (0.0ms)
Completed 204 No Content in 39ms (Views: 0.6ms | ActiveRecord: 5.4ms)
  [1m[35m (13.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:39.093158"], ["email", "test@email.com"], ["password_digest", "$2a$04$tYT7.DHGGWPNx4t.A5jnJOQY5zq3EpyCvzREzJPA8wPWeqa8AsW.y"], ["updated_at", "2014-11-16 00:56:39.093158"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (3.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 20.7ms

Sent mail to foo@bar.com (3.0ms)
Date: Sat, 15 Nov 2014 16:56:39 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f64727559_1db73fe4c8c65bf01128c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f647245b2_1db73fe4c8c65bf0111b2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f647245b2_1db73fe4c8c65bf0111b2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f647245b2_1db73fe4c8c65bf0111b2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f647245b2_1db73fe4c8c65bf0111b2--

  Rendered text template (0.0ms)
Completed 204 No Content in 37ms (Views: 4.4ms | ActiveRecord: 1.7ms)
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:39.186962"], ["email", "test@email.com"], ["password_digest", "$2a$04$iPpIaZ8jqdo9hLReEHt71.g2/qrZoVv8gCnHIotGjMSYp.AWldFXq"], ["updated_at", "2014-11-16 00:56:39.186962"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a0275fde3bd14c16b4e185b331ff2ec2' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:39.247127"], ["expiration", "2014-11-17 00:56:39.249748"], ["key", "a0275fde3bd14c16b4e185b331ff2ec2"], ["updated_at", "2014-11-16 00:56:39.247127"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 0.4ms | ActiveRecord: 1.9ms)
  [1m[35m (18.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:39.298863"], ["email", "test@email.com"], ["password_digest", "$2a$04$4YiIz9lp.NsX7GRAe6AED.aqa6vcKTDdAIO1cM1Eb8ISOmoYWinNG"], ["updated_at", "2014-11-16 00:56:39.298863"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'bdd073331546df2d49cfe0a78823702c' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:39.307489"], ["expiration", "2014-11-17 00:56:39.309678"], ["key", "bdd073331546df2d49cfe0a78823702c"], ["updated_at", "2014-11-16 00:56:39.307489"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (3.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:39.336470"], ["email", "test@email.com"], ["password_digest", "$2a$04$Kx.gm1UXSlPfLz6gPwFWTOc7w9M57.DK.2ESx43IvtlF6YiQ6xSQu"], ["updated_at", "2014-11-16 00:56:39.336470"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:39.382990"], ["email", "test@email.com"], ["password_digest", "$2a$04$ij1tzYYGbsse11gKgjxcZOkp85rvST702VM1Qpawyo8DXPHfpTMIi"], ["updated_at", "2014-11-16 00:56:39.382990"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f52bc3a5b145a0d7ecc85aa746ed65b4' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:39.419553"], ["expiration", "2014-11-17 00:56:39.420427"], ["key", "f52bc3a5b145a0d7ecc85aa746ed65b4"], ["updated_at", "2014-11-16 00:56:39.419553"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 1.6ms | ActiveRecord: 1.0ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f52bc3a5b145a0d7ecc85aa746ed65b4' LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (5.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:39.466939"], ["email", "test@email.com"], ["password_digest", "$2a$04$wXV7xT20cF4pp/X7XlCkCeT3zNNyHmByZacqIm2Q6N1libaYP0uXG"], ["updated_at", "2014-11-16 00:56:39.466939"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '51af8eb4b16539ce3a37745fe0b4e9f2' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:39.469112"], ["expiration", "2014-11-17 00:56:39.470152"], ["key", "51af8eb4b16539ce3a37745fe0b4e9f2"], ["updated_at", "2014-11-16 00:56:39.469112"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:51:39.471586"], ["updated_at", "2014-11-16 00:56:39.472659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '51af8eb4b16539ce3a37745fe0b4e9f2' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:39.497484"], ["email", "test@email.com"], ["password_digest", "$2a$04$JluBvclt5bRThccKkv7QoeiAH9OIatT4UX1fL1gCpfT9uFjt44On6"], ["updated_at", "2014-11-16 00:56:39.497484"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5da191120a56c3d3f3b090e5009031b3' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:39.501231"], ["expiration", "2014-11-17 00:56:39.505820"], ["key", "5da191120a56c3d3f3b090e5009031b3"], ["updated_at", "2014-11-16 00:56:39.501231"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (7.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '5da191120a56c3d3f3b090e5009031b3' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 30ms (Views: 4.5ms | ActiveRecord: 8.3ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:39.548551"], ["email", "test@email.com"], ["password_digest", "$2a$04$a3lW1aR4w/l9aTKz0oCoP.XFCktho8/FFI5PYjH1SvXYQwfeTLONC"], ["updated_at", "2014-11-16 00:56:39.548551"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd47201208135308cc4f1ecaa61e47bdc' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:56:39.550507"], ["expiration", "2014-11-17 00:56:39.551607"], ["key", "d47201208135308cc4f1ecaa61e47bdc"], ["updated_at", "2014-11-16 00:56:39.550507"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:51:39.554190"], ["updated_at", "2014-11-16 00:56:39.554461"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (1.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd47201208135308cc4f1ecaa61e47bdc' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (13.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:56:39.638052"], ["email", "test"], ["password_digest", "$2a$04$byPo.4gYLx./Cx1lp3rKVux2JmrFviP6MwzxWqdztjZzdHHEvH7qO"], ["updated_at", "2014-11-16 00:56:39.638052"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 14ms
  [1m[36m (7.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:56:39 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 22ms (Views: 6.7ms | ActiveRecord: 1.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (2.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:29.905211"], ["email", "test@email.com"], ["password_digest", "$2a$04$AqbFyCIkArNSKWaGzYHTM.adS5QZOqg45XiUrPK/zUGbIHXNwEhpi"], ["updated_at", "2014-11-16 00:58:29.905211"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '46a332ba8429f12b6c4603613285bc4f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (5.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "46a332ba8429f12b6c4603613285bc4f"], ["reset_password_token_exp", "2014-11-16 08:58:29.921441"], ["updated_at", "2014-11-16 00:58:29.935351"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/46a332ba8429f12b6c4603613285bc4f/" for 127.0.0.1 at 2014-11-15 16:58:29 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"46a332ba8429f12b6c4603613285bc4f"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '46a332ba8429f12b6c4603613285bc4f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$uA2h60xFRoO3uomAMMqOPuAQnIJWhETdgZW6iLgOLQdrKAoe0Kevu"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:58:30.008251"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 18ms (Views: 5.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:30.025892"], ["email", "test@email.com"], ["password_digest", "$2a$04$1UYz47s2GvEnfstqsYFwAuRs4dhfe2e0cuxKM2J6royIC37qunB1G"], ["updated_at", "2014-11-16 00:58:30.025892"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '842d4eefa334c8c383a3a67d92a44af7' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "842d4eefa334c8c383a3a67d92a44af7"], ["reset_password_token_exp", "2014-11-16 08:58:30.052240"], ["updated_at", "2014-11-16 00:58:30.099431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/842d4eefa334c8c383a3a67d92a44af7/" for 127.0.0.1 at 2014-11-15 16:58:30 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"842d4eefa334c8c383a3a67d92a44af7"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '842d4eefa334c8c383a3a67d92a44af7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$Nb/2GskqNMHBnTNBic3NNe579vsGdNiDL8IuTnVfW9tfppKtKFfDa"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:58:30.113326"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 23ms (Views: 1.4ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/842d4eefa334c8c383a3a67d92a44af7/" for 127.0.0.1 at 2014-11-15 16:58:30 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"842d4eefa334c8c383a3a67d92a44af7"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '842d4eefa334c8c383a3a67d92a44af7' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:30.146570"], ["email", "test@email.com"], ["password_digest", "$2a$04$G9RF.lEJdvHQZ76iZFnEe.XEUBUzQ8RYR8qhvvhLdkVKl6Ow9Dpqy"], ["updated_at", "2014-11-16 00:58:30.146570"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f21dbdd1bb905c22293ba840e8bb8e59' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "f21dbdd1bb905c22293ba840e8bb8e59"], ["reset_password_token_exp", "2014-11-16 08:58:30.149577"], ["updated_at", "2014-11-16 00:58:30.184464"]]
  [1m[36m (1.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/f21dbdd1bb905c22293ba840e8bb8e59/" for 127.0.0.1 at 2014-11-15 16:58:30 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"f21dbdd1bb905c22293ba840e8bb8e59"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'f21dbdd1bb905c22293ba840e8bb8e59' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 25ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (19.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:30.249152"], ["email", "test@email.com"], ["password_digest", "$2a$04$RKRSVZ6zGaHXA01bwtSQJuikRI3Y4abgSCsY0knKIplLXv.v3utXm"], ["updated_at", "2014-11-16 00:58:30.249152"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fa2f583340363087c93084542a2417b5' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "fa2f583340363087c93084542a2417b5"], ["reset_password_token_exp", "2014-11-16 08:58:30.252894"], ["updated_at", "2014-11-16 00:58:30.277320"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:58:30 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (16.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:30.330916"], ["email", "test@email.com"], ["password_digest", "$2a$04$MB2UpHmmZcXkVtdtQyl4OuXwVlBn6vYYvlJEVx1RmHVl08KziZ/X2"], ["updated_at", "2014-11-16 00:58:30.330916"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4bc2e5d23f0261831c7693ceeb5f4415' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "4bc2e5d23f0261831c7693ceeb5f4415"], ["reset_password_token_exp", "2014-11-16 08:58:30.338496"], ["updated_at", "2014-11-16 00:58:30.343163"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/ed70c784900962d1e97881f2b3b78727/" for 127.0.0.1 at 2014-11-15 16:58:30 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"ed70c784900962d1e97881f2b3b78727"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ed70c784900962d1e97881f2b3b78727' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (4.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:30.375956"], ["email", "test@email.com"], ["password_digest", "$2a$04$sac2hifJAZ454czZDbsNC.iihpXwT2gDzC16T0ZFjF2V.XaQGi6TW"], ["updated_at", "2014-11-16 00:58:30.375956"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:58:30 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fd3029c9381524dcccd2aaadc01642a3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "fd3029c9381524dcccd2aaadc01642a3"], ["reset_password_token_exp", "2014-11-16 08:58:30.413219"], ["updated_at", "2014-11-16 00:58:30.420221"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 362.3ms

Sent mail to test@email.com (8.7ms)
Date: Sat, 15 Nov 2014 16:58:30 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f6b6c57a8_1df83fce06463bec57982@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f6b6c3d8d_1df83fce06463bec57858";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f6b6c3d8d_1df83fce06463bec57858
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/fd3029c9381524dcccd2aaadc01642a3/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f6b6c3d8d_1df83fce06463bec57858
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/fd3029c9381524dcccd2aaadc01642a3/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f6b6c3d8d_1df83fce06463bec57858--

  Rendered text template (0.0ms)
Completed 204 No Content in 405ms (Views: 1.1ms | ActiveRecord: 1.8ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:30.819456"], ["email", "test@email.com"], ["password_digest", "$2a$04$7BQsjS5rmKwhxScLKhcU5u0JjHRoUXbsbEqwg.CkkPn/QVB2BSMEW"], ["updated_at", "2014-11-16 00:58:30.819456"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:58:30 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (13.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 59.4ms

Sent mail to foo@bar.com (3.5ms)
Date: Sat, 15 Nov 2014 16:58:30 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f6b6d7ef1_1df83fce06463bec5814a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f6b6d427b_1df83fce06463bec58014";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f6b6d427b_1df83fce06463bec58014
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f6b6d427b_1df83fce06463bec58014
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f6b6d427b_1df83fce06463bec58014--

  Rendered text template (0.0ms)
Completed 204 No Content in 65ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (7.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:30.938373"], ["email", "test@email.com"], ["password_digest", "$2a$04$bXGDXXZMiIs8MCWc3LR.Guu51JxqxfZU2cqMMKuqMLvoVZcX/ylOy"], ["updated_at", "2014-11-16 00:58:30.938373"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:58:30 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1a38e27e738ded16ade83721027bcda7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "1a38e27e738ded16ade83721027bcda7"], ["reset_password_token_exp", "2014-11-16 08:58:30.981559"], ["updated_at", "2014-11-16 00:58:30.982940"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 19.1ms

Sent mail to test@email.com (4.3ms)
Date: Sat, 15 Nov 2014 16:58:31 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f6b742c2_1df83fce06463bec58386@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f6b72b0_1df83fce06463bec58299";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f6b72b0_1df83fce06463bec58299
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/1a38e27e738ded16ade83721027bcda7/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f6b72b0_1df83fce06463bec58299
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/1a38e27e738ded16ade83721027bcda7/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f6b72b0_1df83fce06463bec58299--

  Rendered text template (0.0ms)
Completed 204 No Content in 53ms (Views: 0.4ms | ActiveRecord: 1.7ms)
  [1m[35m (10.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:31.049947"], ["email", "test@email.com"], ["password_digest", "$2a$04$UtZOo903oGASgreTdIijeu9qWhVZR.h/ws09eQrYtbrfxpwbEk.pG"], ["updated_at", "2014-11-16 00:58:31.049947"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 12.0ms

Sent mail to foo@bar.com (4.2ms)
Date: Sat, 15 Nov 2014 16:58:31 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f6b7191f5_1df83fce06463bec585ed@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f6b717b15_1df83fce06463bec584ef";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f6b717b15_1df83fce06463bec584ef
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f6b717b15_1df83fce06463bec584ef
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f6b717b15_1df83fce06463bec584ef--

  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:31.131618"], ["email", "test@email.com"], ["password_digest", "$2a$04$BgC9SjvQCecq0Lf5kPOydetNTd0tr/NMBIoWwx9ViMH.E0NyX5eVa"], ["updated_at", "2014-11-16 00:58:31.131618"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c0524a33c6ebd4ea6588e89a29f0f760' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:31.188137"], ["expiration", "2014-11-17 00:58:31.191556"], ["key", "c0524a33c6ebd4ea6588e89a29f0f760"], ["updated_at", "2014-11-16 00:58:31.188137"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 32ms (Views: 0.9ms | ActiveRecord: 2.3ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:31.218507"], ["email", "test@email.com"], ["password_digest", "$2a$04$Mpzjm3P.XEGXLmsqxiqY8Oe6gx.GLGP0sq2GwFdEFr6C20qRIu7oi"], ["updated_at", "2014-11-16 00:58:31.218507"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (6.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '986946f640ce3096f417a9754f6d7e0c' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:31.251664"], ["expiration", "2014-11-17 00:58:31.252696"], ["key", "986946f640ce3096f417a9754f6d7e0c"], ["updated_at", "2014-11-16 00:58:31.251664"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 34ms (Views: 0.3ms | ActiveRecord: 7.4ms)
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:31.270948"], ["email", "test@email.com"], ["password_digest", "$2a$04$Dvyf6H90WEFZRmJ/qnwDWOAzEC4Q17n9svCz1JZ2DqS6h3y/mUYDW"], ["updated_at", "2014-11-16 00:58:31.270948"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 8ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (6.2ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:31.332482"], ["email", "test@email.com"], ["password_digest", "$2a$04$VHGow8aEuxFeOs97BL.zouj8wToh7c0sSNVmX/ga6M4aEM0V1sxba"], ["updated_at", "2014-11-16 00:58:31.332482"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7b3a4f0737bdb2954247e31b4913cf87' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:31.353522"], ["expiration", "2014-11-17 00:58:31.372070"], ["key", "7b3a4f0737bdb2954247e31b4913cf87"], ["updated_at", "2014-11-16 00:58:31.353522"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 35ms (Views: 1.6ms | ActiveRecord: 2.5ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7b3a4f0737bdb2954247e31b4913cf87' LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (2.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (5.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:31.418234"], ["email", "test@email.com"], ["password_digest", "$2a$04$WOADm7tnU0sqC2GPGthZf.loAx2zB0oj4R.rwugtrWr9O/9yZkQW."], ["updated_at", "2014-11-16 00:58:31.418234"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f8c660a2c3293020fec9b10ab06b84ee' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:31.423343"], ["expiration", "2014-11-17 00:58:31.427282"], ["key", "f8c660a2c3293020fec9b10ab06b84ee"], ["updated_at", "2014-11-16 00:58:31.423343"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:53:31.430050"], ["updated_at", "2014-11-16 00:58:31.430458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f8c660a2c3293020fec9b10ab06b84ee' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (23.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:31.482420"], ["email", "test@email.com"], ["password_digest", "$2a$04$aya6RoWnRnh0Nhj.HAaEU.bf5Xk18SPqVGMJuxZ81VLZjy17NQ1qe"], ["updated_at", "2014-11-16 00:58:31.482420"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '797c819f6ac310ef9d4762f5494c3682' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:31.495197"], ["expiration", "2014-11-17 00:58:31.497091"], ["key", "797c819f6ac310ef9d4762f5494c3682"], ["updated_at", "2014-11-16 00:58:31.495197"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (1.9ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '797c819f6ac310ef9d4762f5494c3682' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 18ms (Views: 2.7ms | ActiveRecord: 2.7ms)
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (12.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (11.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:31.546948"], ["email", "test@email.com"], ["password_digest", "$2a$04$Dn9VMTUfJZwKdyuIP98Q..iP0XBRXojstsccVIYaNoelHxAyymKSe"], ["updated_at", "2014-11-16 00:58:31.546948"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4e70110823855bc0ac23c9fceea8553d' LIMIT 1[0m
  [1m[35mSQL (15.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:31.561746"], ["expiration", "2014-11-17 00:58:31.562764"], ["key", "4e70110823855bc0ac23c9fceea8553d"], ["updated_at", "2014-11-16 00:58:31.561746"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:53:31.590311"], ["updated_at", "2014-11-16 00:58:31.590831"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4e70110823855bc0ac23c9fceea8553d' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:31.662639"], ["email", "test"], ["password_digest", "$2a$04$uZPHJORzNpNlUfJb2VYMw.r9F.wRaDFUxSSN1C4r4/dWn50K9wHSW"], ["updated_at", "2014-11-16 00:58:31.662639"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 22ms
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:58:31 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:47.945750"], ["email", "test@email.com"], ["password_digest", "$2a$04$UIfA.Ta.z2Bv/U1ziSGHFOYe5kYQ2QQT7OAuIrujWzK.codrbLoAy"], ["updated_at", "2014-11-16 00:58:47.945750"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f9f76ef7fab78fb05e0c7341cdfc4ce1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (9.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "f9f76ef7fab78fb05e0c7341cdfc4ce1"], ["reset_password_token_exp", "2014-11-16 08:58:47.971900"], ["updated_at", "2014-11-16 00:58:47.991935"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/f9f76ef7fab78fb05e0c7341cdfc4ce1/" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"f9f76ef7fab78fb05e0c7341cdfc4ce1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'f9f76ef7fab78fb05e0c7341cdfc4ce1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$58lVi6a30Rcb5z2je8HpQeb5AZQneotVpspnl.giDv/XKv0ekBb4a"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:58:48.065903"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 20ms (Views: 9.7ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:48.092866"], ["email", "test@email.com"], ["password_digest", "$2a$04$qwwensh3fE2nwMRvrDe3H.auiV8k7fTWmu3ZQSRz5fmWGmtjvRbuq"], ["updated_at", "2014-11-16 00:58:48.092866"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '598c4d7dc71f80d948e6787acd20bcf9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "598c4d7dc71f80d948e6787acd20bcf9"], ["reset_password_token_exp", "2014-11-16 08:58:48.097984"], ["updated_at", "2014-11-16 00:58:48.104124"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/598c4d7dc71f80d948e6787acd20bcf9/" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"598c4d7dc71f80d948e6787acd20bcf9"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '598c4d7dc71f80d948e6787acd20bcf9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$vwZi/fokR427dA6D.iwQjexJ4/9zqZidzsT8wI.nDOOsQTY4dbsEK"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 00:58:48.133321"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 27ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/598c4d7dc71f80d948e6787acd20bcf9/" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"598c4d7dc71f80d948e6787acd20bcf9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '598c4d7dc71f80d948e6787acd20bcf9' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:48.199081"], ["email", "test@email.com"], ["password_digest", "$2a$04$itPxKz0V9Fvpl7CEZsHwP.uxlLPAYW0J.X88GlXiDtwjgOvYd.PJa"], ["updated_at", "2014-11-16 00:58:48.199081"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a414404d748477b63cb776d05faee5b7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a414404d748477b63cb776d05faee5b7"], ["reset_password_token_exp", "2014-11-16 08:58:48.208982"], ["updated_at", "2014-11-16 00:58:48.210877"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/a414404d748477b63cb776d05faee5b7/" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"a414404d748477b63cb776d05faee5b7"}
  [1m[35mUser Load (8.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a414404d748477b63cb776d05faee5b7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 31ms (Views: 0.4ms | ActiveRecord: 8.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (30.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:48.334055"], ["email", "test@email.com"], ["password_digest", "$2a$04$IXp8MGhE2Q955G9FNsqa5uIHqLHKpYc.YBrMYG9NNtQFQYZYLiXbW"], ["updated_at", "2014-11-16 00:58:48.334055"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9e450f2da53863dc738d7a00db796fbd' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "9e450f2da53863dc738d7a00db796fbd"], ["reset_password_token_exp", "2014-11-16 08:58:48.337009"], ["updated_at", "2014-11-16 00:58:48.342869"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:48.381427"], ["email", "test@email.com"], ["password_digest", "$2a$04$KIVkPQZSpc0hju5XujLZe.W6Te0qNky72K0YmFr95wvN06bb7yMRm"], ["updated_at", "2014-11-16 00:58:48.381427"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '007cfb0c1692a155faa8b02f8c51972d' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (21.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "007cfb0c1692a155faa8b02f8c51972d"], ["reset_password_token_exp", "2014-11-16 08:58:48.407755"], ["updated_at", "2014-11-16 00:58:48.437800"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7a3a4f71c47989875e02c7db3642632e/" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7a3a4f71c47989875e02c7db3642632e"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7a3a4f71c47989875e02c7db3642632e' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 8ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (10.0ms)[0m  rollback transaction
  [1m[36m (2.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:48.472570"], ["email", "test@email.com"], ["password_digest", "$2a$04$XYr6kJpaHoS8V57MhZiczOmNCKZInX7Ir5xzUVxgkvpnoS9PEg5p."], ["updated_at", "2014-11-16 00:58:48.472570"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '20972643b37dcef9cb22179e66eef249' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (2.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "20972643b37dcef9cb22179e66eef249"], ["reset_password_token_exp", "2014-11-16 08:58:48.480700"], ["updated_at", "2014-11-16 00:58:48.497410"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (5.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 345.7ms

Sent mail to test@email.com (18.2ms)
Date: Sat, 15 Nov 2014 16:58:48 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f6c8d46d0_1e133fc4de065be85689@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f6c8d0fac_1e133fc4de065be855f3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f6c8d0fac_1e133fc4de065be855f3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/20972643b37dcef9cb22179e66eef249/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f6c8d0fac_1e133fc4de065be855f3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/20972643b37dcef9cb22179e66eef249/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f6c8d0fac_1e133fc4de065be855f3--

  Rendered text template (0.0ms)
Completed 204 No Content in 400ms (Views: 0.6ms | ActiveRecord: 5.3ms)
  [1m[35m (7.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:48.889481"], ["email", "test@email.com"], ["password_digest", "$2a$04$A5lursEy4U2iLWrTkP82LuE91XNOx4Wi6OkLH29zyAaA2vJrWdpX6"], ["updated_at", "2014-11-16 00:58:48.889481"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.8ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 29.6ms

Sent mail to foo@bar.com (7.7ms)
Date: Sat, 15 Nov 2014 16:58:48 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f6c8e580d_1e133fc4de065be8581f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f6c8e4173_1e133fc4de065be857a8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f6c8e4173_1e133fc4de065be857a8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f6c8e4173_1e133fc4de065be857a8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f6c8e4173_1e133fc4de065be857a8--

  Rendered text template (0.0ms)
Completed 204 No Content in 44ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (5.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:48.961003"], ["email", "test@email.com"], ["password_digest", "$2a$04$8RB/fmGlbq/hgO4Kg3mwm.knfi6GGyo77Bzuc5kR/oj/JFZGTTRx2"], ["updated_at", "2014-11-16 00:58:48.961003"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:58:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bb0346955115677a41596bcfc2b38d3b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (12.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bb0346955115677a41596bcfc2b38d3b"], ["reset_password_token_exp", "2014-11-16 08:58:48.975022"], ["updated_at", "2014-11-16 00:58:48.976920"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 50.9ms

Sent mail to test@email.com (8.0ms)
Date: Sat, 15 Nov 2014 16:58:49 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f6c9bd03_1e133fc4de065be860b6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f6c8f38a9_1e133fc4de065be859e3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f6c8f38a9_1e133fc4de065be859e3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/bb0346955115677a41596bcfc2b38d3b/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f6c8f38a9_1e133fc4de065be859e3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/bb0346955115677a41596bcfc2b38d3b/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f6c8f38a9_1e133fc4de065be859e3--

  Rendered text template (0.0ms)
Completed 204 No Content in 84ms (Views: 0.5ms | ActiveRecord: 14.4ms)
  [1m[35m (8.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:49.094644"], ["email", "test@email.com"], ["password_digest", "$2a$04$5ZJ9HcUdfqXfbIdH.zEITeqAUw7zT4VVBcAMsuU.d9Ucyxjwluakm"], ["updated_at", "2014-11-16 00:58:49.094644"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.3ms

Sent mail to foo@bar.com (49.2ms)
Date: Sat, 15 Nov 2014 16:58:49 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f6c921184_1e133fc4de065be862cc@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f6c91ada6_1e133fc4de065be86192";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f6c91ada6_1e133fc4de065be86192
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f6c91ada6_1e133fc4de065be86192
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f6c91ada6_1e133fc4de065be86192--

  Rendered text template (0.0ms)
Completed 204 No Content in 60ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:49.176493"], ["email", "test@email.com"], ["password_digest", "$2a$04$c02Cu611mLnZ4puIaMXRkOeDNdierJL0vCY6g8QWzK6Zj.N57xUKK"], ["updated_at", "2014-11-16 00:58:49.176493"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (2.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '16275eaf3a090fd942c738deb5ce276c' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:49.248095"], ["expiration", "2014-11-17 00:58:49.255275"], ["key", "16275eaf3a090fd942c738deb5ce276c"], ["updated_at", "2014-11-16 00:58:49.248095"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 63ms (Views: 0.3ms | ActiveRecord: 4.5ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:49.310343"], ["email", "test@email.com"], ["password_digest", "$2a$04$m4zmOROrv27mQVsFkAv2ju9vmNGRFBIziuBk05Ydar7uJ3JfOuIyS"], ["updated_at", "2014-11-16 00:58:49.310343"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (2.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '698c179e13fbd3d2c16b14fa01e883e5' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:49.332275"], ["expiration", "2014-11-17 00:58:49.334879"], ["key", "698c179e13fbd3d2c16b14fa01e883e5"], ["updated_at", "2014-11-16 00:58:49.332275"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 0.4ms | ActiveRecord: 3.9ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:49.355099"], ["email", "test@email.com"], ["password_digest", "$2a$04$ooO8BMtcVDTAw0DIwVq.7.Zvi2K05eyiurh4UZMkRES5r6Lpqz4cS"], ["updated_at", "2014-11-16 00:58:49.355099"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (12.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:49.426112"], ["email", "test@email.com"], ["password_digest", "$2a$04$DV1uW8UGbscjlaD4Lgxxmu0OrZf0jEAraXWJaRgGwIptH7cqVoXEW"], ["updated_at", "2014-11-16 00:58:49.426112"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '216e10fb4248b5e92870a13d809923a0' LIMIT 1[0m
  [1m[35mSQL (7.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:49.440386"], ["expiration", "2014-11-17 00:58:49.441677"], ["key", "216e10fb4248b5e92870a13d809923a0"], ["updated_at", "2014-11-16 00:58:49.440386"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 25ms (Views: 0.7ms | ActiveRecord: 10.5ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '216e10fb4248b5e92870a13d809923a0' LIMIT 1
Completed 200 OK in 17ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:49.492971"], ["email", "test@email.com"], ["password_digest", "$2a$04$y1e.wfgBQjkBQYnMiTdH8OsyCn99Z519z8T8oELd27oDWhQ4GlOzC"], ["updated_at", "2014-11-16 00:58:49.492971"], ["username", "test"]]
  [1m[36m (2.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '004068da1e57b1d16d303cbecfe2be0d' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:49.499570"], ["expiration", "2014-11-17 00:58:49.500894"], ["key", "004068da1e57b1d16d303cbecfe2be0d"], ["updated_at", "2014-11-16 00:58:49.499570"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:53:49.520117"], ["updated_at", "2014-11-16 00:58:49.520711"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '004068da1e57b1d16d303cbecfe2be0d' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 33ms (Views: 14.6ms | ActiveRecord: 0.2ms)
  [1m[35m (11.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (8.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:49.602171"], ["email", "test@email.com"], ["password_digest", "$2a$04$aUORJYEASC4I6rj/0N6u3eev4Vfcn6zXPI4qFaAt.IvjKyzQaJHX."], ["updated_at", "2014-11-16 00:58:49.602171"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '818efad4f3692cd1b25450246f0a4b79' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:49.604735"], ["expiration", "2014-11-17 00:58:49.605802"], ["key", "818efad4f3692cd1b25450246f0a4b79"], ["updated_at", "2014-11-16 00:58:49.604735"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (1.0ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '818efad4f3692cd1b25450246f0a4b79' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 31ms (Views: 1.6ms | ActiveRecord: 6.4ms)
  [1m[36m (8.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:49.677024"], ["email", "test@email.com"], ["password_digest", "$2a$04$UAZZ.Lh3Rjqs9LLiwOLsMujMzU78mCRRqBBwBebiRppJwgK1k4uhO"], ["updated_at", "2014-11-16 00:58:49.677024"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'de5c76092bef38674c0681d56e91fc0a' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 00:58:49.679716"], ["expiration", "2014-11-17 00:58:49.696933"], ["key", "de5c76092bef38674c0681d56e91fc0a"], ["updated_at", "2014-11-16 00:58:49.679716"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:53:49.708062"], ["updated_at", "2014-11-16 00:58:49.708905"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'de5c76092bef38674c0681d56e91fc0a' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 00:58:49.802235"], ["email", "test"], ["password_digest", "$2a$04$TPO7oiaWJQPuqNM4daTaROxXiz77KvIr58bnVij4VJL0SLwDkw1z."], ["updated_at", "2014-11-16 00:58:49.802235"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 46ms (Views: 2.6ms | ActiveRecord: 1.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 16:58:49 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 17ms (Views: 0.3ms | ActiveRecord: 2.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:50.397977"], ["email", "test@email.com"], ["password_digest", "$2a$04$.RGbqZfEyg2SXf2aZkVmEefDRMv8w8pGijmpMcMYpNOR/wpxuLq.W"], ["updated_at", "2014-11-16 01:02:50.397977"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '50999a4eab863ab7cc0b9ceeec8b9c1c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "50999a4eab863ab7cc0b9ceeec8b9c1c"], ["reset_password_token_exp", "2014-11-16 09:02:50.407828"], ["updated_at", "2014-11-16 01:02:50.411189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/50999a4eab863ab7cc0b9ceeec8b9c1c/" for 127.0.0.1 at 2014-11-15 17:02:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"50999a4eab863ab7cc0b9ceeec8b9c1c"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '50999a4eab863ab7cc0b9ceeec8b9c1c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$eX.Vo1Gj4vlLSNHUVgEt2uPKs/pXHkEGQzqPkb19QXKZZRh4NrRgy"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 01:02:50.464648"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 29ms (Views: 11.2ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:50.489655"], ["email", "test@email.com"], ["password_digest", "$2a$04$C21z36oNnaLljCGC8XzF.ebQL.hVRiE3z0Ujyh1ohotbm55VshlPi"], ["updated_at", "2014-11-16 01:02:50.489655"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3a2761af28095d4942f38fd5e5726587' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3a2761af28095d4942f38fd5e5726587"], ["reset_password_token_exp", "2014-11-16 09:02:50.492301"], ["updated_at", "2014-11-16 01:02:50.500032"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/3a2761af28095d4942f38fd5e5726587/" for 127.0.0.1 at 2014-11-15 17:02:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"3a2761af28095d4942f38fd5e5726587"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3a2761af28095d4942f38fd5e5726587' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$X/t1aK9qlD8FOFB0jRaRpO6ZcRxW1duD8AjKtsZ1tIGf5XJEXXVP2"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 01:02:50.509673"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 9ms (Views: 1.0ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/3a2761af28095d4942f38fd5e5726587/" for 127.0.0.1 at 2014-11-15 17:02:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"3a2761af28095d4942f38fd5e5726587"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3a2761af28095d4942f38fd5e5726587' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:50.532335"], ["email", "test@email.com"], ["password_digest", "$2a$04$b7Mf3GpFyeNO.wPLq7rpOujtMVS5pLitDFtDX2JrjiVgNIQ3TQQiy"], ["updated_at", "2014-11-16 01:02:50.532335"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7c09741060634112c4a7065aeb47d741' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7c09741060634112c4a7065aeb47d741"], ["reset_password_token_exp", "2014-11-16 09:02:50.537280"], ["updated_at", "2014-11-16 01:02:50.539439"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/7c09741060634112c4a7065aeb47d741/" for 127.0.0.1 at 2014-11-15 17:02:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"7c09741060634112c4a7065aeb47d741"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7c09741060634112c4a7065aeb47d741' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 22ms (Views: 1.0ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (10.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:50.590587"], ["email", "test@email.com"], ["password_digest", "$2a$04$mtB9jjC4r9LdYQKzcgNn0.8yNhIUq6C7Rtb3/TnMyUm7dyB6Ap5YW"], ["updated_at", "2014-11-16 01:02:50.590587"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b9b6f55fc272d8e0f50178d759005c69' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "b9b6f55fc272d8e0f50178d759005c69"], ["reset_password_token_exp", "2014-11-16 09:02:50.592872"], ["updated_at", "2014-11-16 01:02:50.637277"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 17:02:50 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (6.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:50.676958"], ["email", "test@email.com"], ["password_digest", "$2a$04$GRj6S/F2w5HCo3PERBmhsOfEVYqEenuHtSJEXtzR7sTK/o7E1fN6u"], ["updated_at", "2014-11-16 01:02:50.676958"], ["username", "test"]]
  [1m[35m (3.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '05c17b0ed2609a9a822c74452c916e0d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "05c17b0ed2609a9a822c74452c916e0d"], ["reset_password_token_exp", "2014-11-16 09:02:50.689558"], ["updated_at", "2014-11-16 01:02:50.694581"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/c93d2ec30479285a38282a58d007adc9/" for 127.0.0.1 at 2014-11-15 17:02:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c93d2ec30479285a38282a58d007adc9"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c93d2ec30479285a38282a58d007adc9' LIMIT 1[0m
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 20ms (Views: 18.4ms | ActiveRecord: 0.2ms)
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:50.737282"], ["email", "test@email.com"], ["password_digest", "$2a$04$QNOTq3ipTjz7ex8ToQcv6eAONOiQ3MNG3a2kyxoGQLABgiI898CcS"], ["updated_at", "2014-11-16 01:02:50.737282"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 17:02:50 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f2fd1f6230e9a8da9a3be7ac67b15c08' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "f2fd1f6230e9a8da9a3be7ac67b15c08"], ["reset_password_token_exp", "2014-11-16 09:02:50.807538"], ["updated_at", "2014-11-16 01:02:50.809661"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 409.7ms

Sent mail to test@email.com (17.1ms)
Date: Sat, 15 Nov 2014 17:02:51 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f7bb3a339_1e4d3fc885465be443353@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f7bb3813b_1e4d3fc885465be4432a4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f7bb3813b_1e4d3fc885465be4432a4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/f2fd1f6230e9a8da9a3be7ac67b15c08/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f7bb3813b_1e4d3fc885465be4432a4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/f2fd1f6230e9a8da9a3be7ac67b15c08/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f7bb3813b_1e4d3fc885465be4432a4--

  Rendered text template (0.0ms)
Completed 204 No Content in 445ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.259064"], ["email", "test@email.com"], ["password_digest", "$2a$04$u2A26vIA3fzB7ReSyIMhNeVtWExtvUe7y3HDTDZM1GhaUHbLanaZe"], ["updated_at", "2014-11-16 01:02:51.259064"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (8.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.8ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 27.7ms

Sent mail to foo@bar.com (7.9ms)
Date: Sat, 15 Nov 2014 17:02:51 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f7bb4acd1_1e4d3fc885465be443559@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f7bb49518_1e4d3fc885465be443482";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f7bb49518_1e4d3fc885465be443482
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f7bb49518_1e4d3fc885465be443482
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f7bb49518_1e4d3fc885465be443482--

  Rendered text template (0.0ms)
Completed 204 No Content in 46ms (Views: 0.6ms | ActiveRecord: 8.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.346906"], ["email", "test@email.com"], ["password_digest", "$2a$04$6VPeoXnqf6oRdccghh7E3uosOeGEzKmLhZUp9rUpkLGtBAPOjm3.W"], ["updated_at", "2014-11-16 01:02:51.346906"], ["username", "test"]]
  [1m[35m (1.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '464ded2743665d8c34c5f8375ddd4ab0' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "464ded2743665d8c34c5f8375ddd4ab0"], ["reset_password_token_exp", "2014-11-16 09:02:51.356186"], ["updated_at", "2014-11-16 01:02:51.357407"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 69.0ms

Sent mail to test@email.com (4.4ms)
Date: Sat, 15 Nov 2014 17:02:51 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5467f7bb68979_1e4d3fc885465be4437d2@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f7bb58364_1e4d3fc885465be4436a7";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f7bb58364_1e4d3fc885465be4436a7
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/464ded2743665d8c34c5f8375ddd4ab0/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5467f7bb58364_1e4d3fc885465be4436a7
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/464ded2743665d8c34c5f8375ddd4ab0/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5467f7bb58364_1e4d3fc885465be4436a7--

  Rendered text template (0.0ms)
Completed 204 No Content in 79ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[35m (8.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.450374"], ["email", "test@email.com"], ["password_digest", "$2a$04$7/szgwribwmV.ynruesnRerqSmNSTITYJbEXxfpo8JGyoby3sipu2"], ["updated_at", "2014-11-16 01:02:51.450374"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 49.5ms

Sent mail to foo@bar.com (7.5ms)
Date: Sat, 15 Nov 2014 17:02:51 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5467f7bb7c28c_1e4d3fc885465be4439dc@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5467f7bb7461f_1e4d3fc885465be4438bc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5467f7bb7461f_1e4d3fc885465be4438bc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5467f7bb7461f_1e4d3fc885465be4438bc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5467f7bb7461f_1e4d3fc885465be4438bc--

  Rendered text template (0.0ms)
Completed 204 No Content in 61ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.525358"], ["email", "test@email.com"], ["password_digest", "$2a$04$.LokASaT66J4TGkRrU4b9ueK9pJ4zv6KHpeIBhQsfMUi.oFqDMdIW"], ["updated_at", "2014-11-16 01:02:51.525358"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'fda2e17a44dc89ae356ba459eae46280' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:51.611847"], ["expiration", "2014-11-17 01:02:51.616722"], ["key", "fda2e17a44dc89ae356ba459eae46280"], ["updated_at", "2014-11-16 01:02:51.611847"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 57ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.631313"], ["email", "test@email.com"], ["password_digest", "$2a$04$CtlFWnoxpYp1Gx5HfKz8YuIFNjgSrBQZwFE6jZMN7Y5b7qhDdD.Rm"], ["updated_at", "2014-11-16 01:02:51.631313"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '27f8ec59c9bfcf102651c163e8558a48' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:51.685793"], ["expiration", "2014-11-17 01:02:51.687167"], ["key", "27f8ec59c9bfcf102651c163e8558a48"], ["updated_at", "2014-11-16 01:02:51.685793"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 21ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.728143"], ["email", "test@email.com"], ["password_digest", "$2a$04$uZvUjnWlg4E1ZimUyq4JKeTMP7bkJd99Gc4qGK0DB6KeRv5e3tGGC"], ["updated_at", "2014-11-16 01:02:51.728143"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.750665"], ["email", "test@email.com"], ["password_digest", "$2a$04$prjy9vlc/XGULZK0gO/.C.3ivTaiTISesq6pmQoSnNsYnON8CY2HW"], ["updated_at", "2014-11-16 01:02:51.750665"], ["username", "test"]]
  [1m[35m (1.9ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (25.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '067652fa4e35dea061ba60f7f9bbfda2' LIMIT 1[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:51.819170"], ["expiration", "2014-11-17 01:02:51.821293"], ["key", "067652fa4e35dea061ba60f7f9bbfda2"], ["updated_at", "2014-11-16 01:02:51.819170"], ["user_id", 1]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 78ms (Views: 1.9ms | ActiveRecord: 29.2ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '067652fa4e35dea061ba60f7f9bbfda2' LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (8.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:51.860676"], ["email", "test@email.com"], ["password_digest", "$2a$04$bspvDL/xUdEBMzt8mGZ30eLUUTZAfmzaIoI79cpR3Eza9D4CUL3UK"], ["updated_at", "2014-11-16 01:02:51.860676"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7959ee5d3fbceb81ce2334cfb0f7a0f3' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:51.862450"], ["expiration", "2014-11-17 01:02:51.864304"], ["key", "7959ee5d3fbceb81ce2334cfb0f7a0f3"], ["updated_at", "2014-11-16 01:02:51.862450"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:57:51.867340"], ["updated_at", "2014-11-16 01:02:51.867716"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.3ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7959ee5d3fbceb81ce2334cfb0f7a0f3' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.925803"], ["email", "test@email.com"], ["password_digest", "$2a$04$oehSVNvwnBkOkbrabGIyleIgSiOtkkX/ofML5/4BKdu79bDlW6ay6"], ["updated_at", "2014-11-16 01:02:51.925803"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c62afd27b0577576d636cbf0dbf491fd' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:51.927977"], ["expiration", "2014-11-17 01:02:51.929041"], ["key", "c62afd27b0577576d636cbf0dbf491fd"], ["updated_at", "2014-11-16 01:02:51.927977"], ["user_id", 1]]
  [1m[35m (4.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 17:02:51 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'c62afd27b0577576d636cbf0dbf491fd' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 35ms (Views: 6.9ms | ActiveRecord: 0.4ms)
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:52.006741"], ["email", "test@email.com"], ["password_digest", "$2a$04$sNeL5EkKkGHZrnyC5GiRx.SrekfDqs1fTYPAb8lCkCtpudNHOO23W"], ["updated_at", "2014-11-16 01:02:52.006741"], ["username", "test"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '328e55ce47a8b606dfaaad73ccde25f2' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:52.009052"], ["expiration", "2014-11-17 01:02:52.010490"], ["key", "328e55ce47a8b606dfaaad73ccde25f2"], ["updated_at", "2014-11-16 01:02:52.009052"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 00:57:52.012310"], ["updated_at", "2014-11-16 01:02:52.012976"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 17:02:52 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '328e55ce47a8b606dfaaad73ccde25f2' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 31ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 17:02:52 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:02:52.106622"], ["email", "test"], ["password_digest", "$2a$04$ApHtpQzRakuD56w6x.qaA.Ldi/WSC0Pf5gLVgJDAUTfUqINxxCh2."], ["updated_at", "2014-11-16 01:02:52.106622"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 15ms (Views: 1.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 17:02:52 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 8ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:52.140568"], ["email", "test@email.com"], ["password_digest", "$2a$04$ViIsenqcAcOnggKCl7bA8uiY2PXHBgObxg3hx7JtCG/yodSBwBzeq"], ["updated_at", "2014-11-16 01:02:52.140568"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '49a5ea2b0bb8f588ce6fe965c4b9430c' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:02:52.145139"], ["expiration", "2014-11-17 01:02:52.147140"], ["key", "49a5ea2b0bb8f588ce6fe965c4b9430c"], ["updated_at", "2014-11-16 01:02:52.145139"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-11-15 17:02:52 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '49a5ea2b0bb8f588ce6fe965c4b9430c' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 28ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-11-15 17:02:52 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
