  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:39.490822"], ["email", "test@email.com"], ["password_digest", "$2a$04$aBCQaJaXEBslKeroiCFTKOtMZREGSl3mz.Ozcw6yPy4yayH/qpT2y"], ["updated_at", "2014-11-16 01:38:39.490822"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6cd76ddd97b324bb1543d330d87a5482' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6cd76ddd97b324bb1543d330d87a5482"], ["reset_password_token_exp", "2014-11-16 09:38:39.503853"], ["updated_at", "2014-11-16 01:38:39.506632"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/6cd76ddd97b324bb1543d330d87a5482/" for 127.0.0.1 at 2014-11-15 17:38:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6cd76ddd97b324bb1543d330d87a5482"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6cd76ddd97b324bb1543d330d87a5482' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$7JgRPsy3jMR6lgKll.iVq.K7VzmfP5c6DvjvpHAL.y8MaWHmZF9.a"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 01:38:39.538573"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 27ms (Views: 8.5ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:39.557169"], ["email", "test@email.com"], ["password_digest", "$2a$04$oNiwbLaZbpGKAXeRfG77c.wTj0jS7ZUPr/MP8TMnLoLiEipgJTvBG"], ["updated_at", "2014-11-16 01:38:39.557169"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '42043a7b45a43fc9160296fae51d5eec' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "42043a7b45a43fc9160296fae51d5eec"], ["reset_password_token_exp", "2014-11-16 09:38:39.558645"], ["updated_at", "2014-11-16 01:38:39.560084"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/42043a7b45a43fc9160296fae51d5eec/" for 127.0.0.1 at 2014-11-15 17:38:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"42043a7b45a43fc9160296fae51d5eec"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '42043a7b45a43fc9160296fae51d5eec' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$MsGbWFWI.pDLnpK/jLL8o.yK0US.bki5V3C8VMrzuAeuS2BGOGl8K"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 01:38:39.574217"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 11ms (Views: 0.6ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/42043a7b45a43fc9160296fae51d5eec/" for 127.0.0.1 at 2014-11-15 17:38:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"42043a7b45a43fc9160296fae51d5eec"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '42043a7b45a43fc9160296fae51d5eec' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:39.585571"], ["email", "test@email.com"], ["password_digest", "$2a$04$TPilPxtPUuWe35kzotRuIeYq0sPOBHY7K0A5pHv.uBoudu4eze2F2"], ["updated_at", "2014-11-16 01:38:39.585571"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bfd5a6fbf4f3b05c74c027966c0f0c33' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bfd5a6fbf4f3b05c74c027966c0f0c33"], ["reset_password_token_exp", "2014-11-16 09:38:39.589110"], ["updated_at", "2014-11-16 01:38:39.590744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/bfd5a6fbf4f3b05c74c027966c0f0c33/" for 127.0.0.1 at 2014-11-15 17:38:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"bfd5a6fbf4f3b05c74c027966c0f0c33"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'bfd5a6fbf4f3b05c74c027966c0f0c33' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 20ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:39.623766"], ["email", "test@email.com"], ["password_digest", "$2a$04$36CB5cR1Yl/js4HcBPoQx.yhHZpCt0lemOlIuNlkPDk8M8aOkjrcG"], ["updated_at", "2014-11-16 01:38:39.623766"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '55a6b5d4fd2b50ee59ae79e25e5048ae' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "55a6b5d4fd2b50ee59ae79e25e5048ae"], ["reset_password_token_exp", "2014-11-16 09:38:39.625356"], ["updated_at", "2014-11-16 01:38:39.629322"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 17:38:39 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:39.644951"], ["email", "test@email.com"], ["password_digest", "$2a$04$cnDUdfR3FbBuEOsPs0oKkeBP9QqEp8Y0UjJi9mJmkv6AjaFyA7tYC"], ["updated_at", "2014-11-16 01:38:39.644951"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a5581b0e63c99446a59217ff2ef18487' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a5581b0e63c99446a59217ff2ef18487"], ["reset_password_token_exp", "2014-11-16 09:38:39.647002"], ["updated_at", "2014-11-16 01:38:39.648622"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/3377f6ace03f4b2b5ef1b8f6196fef76/" for 127.0.0.1 at 2014-11-15 17:38:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"3377f6ace03f4b2b5ef1b8f6196fef76"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3377f6ace03f4b2b5ef1b8f6196fef76' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:39.666394"], ["email", "test@email.com"], ["password_digest", "$2a$04$11/cYAA5.E/OF78txu90PumltE5LwF5SonkEifs90lKgc8io4VFoa"], ["updated_at", "2014-11-16 01:38:39.666394"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 17:38:39 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7caf89f3c48c2fdf6766387ddb6c1664' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7caf89f3c48c2fdf6766387ddb6c1664"], ["reset_password_token_exp", "2014-11-16 09:38:39.674513"], ["updated_at", "2014-11-16 01:38:39.676640"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 267.7ms

Sent mail to test@email.com (18.9ms)
Date: Sat, 15 Nov 2014 17:38:39 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5468001fe9e7a_2eaf3ff30d033be092994@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5468001fe79ac_2eaf3ff30d033be0928e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5468001fe79ac_2eaf3ff30d033be0928e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/7caf89f3c48c2fdf6766387ddb6c1664/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5468001fe79ac_2eaf3ff30d033be0928e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/7caf89f3c48c2fdf6766387ddb6c1664/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5468001fe79ac_2eaf3ff30d033be0928e--

  Rendered text template (0.0ms)
Completed 204 No Content in 299ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:39.976063"], ["email", "test@email.com"], ["password_digest", "$2a$04$KzqVy5.DrLHHNAY5OFXI.uQACoBsZoI8LX4CpNxQM3BS.0eTUr.PO"], ["updated_at", "2014-11-16 01:38:39.976063"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 17:38:39 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.6ms

Sent mail to foo@bar.com (10.9ms)
Date: Sat, 15 Nov 2014 17:38:39 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5468001ff1b09_2eaf3ff30d033be093150@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5468001ff0741_2eaf3ff30d033be0930d9";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5468001ff0741_2eaf3ff30d033be0930d9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5468001ff0741_2eaf3ff30d033be0930d9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5468001ff0741_2eaf3ff30d033be0930d9--

  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.014028"], ["email", "test@email.com"], ["password_digest", "$2a$04$y5KRPaSPxLgaBXxZP5LR7eJ0GNBv4UvD36b8Mkt0yuvsosZUuvZmS"], ["updated_at", "2014-11-16 01:38:40.014028"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b2135255bbb2debbeb2cec33768026e3' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b2135255bbb2debbeb2cec33768026e3"], ["reset_password_token_exp", "2014-11-16 09:38:40.017219"], ["updated_at", "2014-11-16 01:38:40.018665"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 3.7ms

Sent mail to test@email.com (3.1ms)
Date: Sat, 15 Nov 2014 17:38:40 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <546800206277_2eaf3ff30d033be093375@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_546800205a4d_2eaf3ff30d033be0932d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_546800205a4d_2eaf3ff30d033be0932d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/b2135255bbb2debbeb2cec33768026e3/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_546800205a4d_2eaf3ff30d033be0932d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/b2135255bbb2debbeb2cec33768026e3/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_546800205a4d_2eaf3ff30d033be0932d--

  Rendered text template (0.0ms)
Completed 204 No Content in 14ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.041964"], ["email", "test@email.com"], ["password_digest", "$2a$04$TzE0vjPuwybVeX2wu/3FUerHy7Gn2c.MXSw4nMtL2oI0dZmh0ls5y"], ["updated_at", "2014-11-16 01:38:40.041964"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.6ms

Sent mail to foo@bar.com (4.2ms)
Date: Sat, 15 Nov 2014 17:38:40 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54680020c9c2_2eaf3ff30d033be0935ea@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54680020be9f_2eaf3ff30d033be093479";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54680020be9f_2eaf3ff30d033be093479
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54680020be9f_2eaf3ff30d033be093479
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54680020be9f_2eaf3ff30d033be093479--

  Rendered text template (0.0ms)
Completed 204 No Content in 9ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.059625"], ["email", "test@email.com"], ["password_digest", "$2a$04$k4yT3vBzIiHJi9ilIF859.8fyL4BTtGV68p2IZxBkC1NAQ7nG5gxe"], ["updated_at", "2014-11-16 01:38:40.059625"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4bef4641f71d9e15a0583d28234f1b3a' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.087972"], ["expiration", "2014-11-17 01:38:40.091361"], ["key", "4bef4641f71d9e15a0583d28234f1b3a"], ["updated_at", "2014-11-16 01:38:40.087972"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 17ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.106316"], ["email", "test@email.com"], ["password_digest", "$2a$04$1dFHVH5jCSnjHF5kdEtXH.BqQdzebqoZ24Pd1DIWeD1rf/iHDoXXG"], ["updated_at", "2014-11-16 01:38:40.106316"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '625972599dfc6c9ac1d222c4fa38c31e' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.114947"], ["expiration", "2014-11-17 01:38:40.116012"], ["key", "625972599dfc6c9ac1d222c4fa38c31e"], ["updated_at", "2014-11-16 01:38:40.114947"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.133943"], ["email", "test@email.com"], ["password_digest", "$2a$04$FdXVU8qcyEJqhKXjXKnXbuEAxBAI2kuJddPwHOrCov.4ijg7U6/jW"], ["updated_at", "2014-11-16 01:38:40.133943"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.146615"], ["email", "test@email.com"], ["password_digest", "$2a$04$4jO4HsoQJRjRhOuslp0TaeCjdadVHo3Q9uUoKXzYGKoWo2HpJOryC"], ["updated_at", "2014-11-16 01:38:40.146615"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'bf696f6600b8f0e709850627f196c3a2' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.156992"], ["expiration", "2014-11-17 01:38:40.159468"], ["key", "bf696f6600b8f0e709850627f196c3a2"], ["updated_at", "2014-11-16 01:38:40.156992"], ["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 16ms (Views: 1.1ms | ActiveRecord: 1.9ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'bf696f6600b8f0e709850627f196c3a2' LIMIT 1
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.179133"], ["email", "test@email.com"], ["password_digest", "$2a$04$kz.iXKUoL9.DvRmo5RBvLO15zJtMBIFKtAANEMLyRplJ5SqekbrGe"], ["updated_at", "2014-11-16 01:38:40.179133"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4bc32e05e86eccff44fd71c11d62bd01' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.180603"], ["expiration", "2014-11-17 01:38:40.181635"], ["key", "4bc32e05e86eccff44fd71c11d62bd01"], ["updated_at", "2014-11-16 01:38:40.180603"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 01:33:40.182950"], ["updated_at", "2014-11-16 01:38:40.183317"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4bc32e05e86eccff44fd71c11d62bd01' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.192879"], ["email", "test@email.com"], ["password_digest", "$2a$04$hg/leFOVEVx1Sti82NQd9.Z9V0DAlipNdNXh.mg7MRr8lXoke7.em"], ["updated_at", "2014-11-16 01:38:40.192879"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7fcbbde00f0dd2f05084620991adbf5d' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.196760"], ["expiration", "2014-11-17 01:38:40.197862"], ["key", "7fcbbde00f0dd2f05084620991adbf5d"], ["updated_at", "2014-11-16 01:38:40.196760"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7fcbbde00f0dd2f05084620991adbf5d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 5ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.218839"], ["email", "test@email.com"], ["password_digest", "$2a$04$vIPvjKGALN1qLlpIqchcK.dwkfEWLIYUtN1kwxaMXnYKe0Fim9yL6"], ["updated_at", "2014-11-16 01:38:40.218839"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'fb7113d2d77d19003abd210ec92fc708' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.220088"], ["expiration", "2014-11-17 01:38:40.220694"], ["key", "fb7113d2d77d19003abd210ec92fc708"], ["updated_at", "2014-11-16 01:38:40.220088"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 01:33:40.222306"], ["updated_at", "2014-11-16 01:38:40.222672"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'fb7113d2d77d19003abd210ec92fc708' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 01:38:40.245628"], ["email", "test"], ["password_digest", "$2a$04$UDFkJ70.CvJfzZovtd3LTO/TRXjWcfG.LMFQArbaTuLmEI6MLeD6K"], ["updated_at", "2014-11-16 01:38:40.245628"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 11ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.262867"], ["email", "test@email.com"], ["password_digest", "$2a$04$eu2fQoHQmUm2k8pCLLyki.D1LTjCFgKWNeYlA4xarsxxFSsuxYJu6"], ["updated_at", "2014-11-16 01:38:40.262867"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b3091cd1a94b792faecba799cf6182a9' LIMIT 1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 01:38:40.264183"], ["expiration", "2014-11-17 01:38:40.264862"], ["key", "b3091cd1a94b792faecba799cf6182a9"], ["updated_at", "2014-11-16 01:38:40.264183"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b3091cd1a94b792faecba799cf6182a9' LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 10ms (Views: 1.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-11-15 17:38:40 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:08.994720"], ["email", "test@email.com"], ["password_digest", "$2a$04$ALLT1ujJxiw0z3uL4YL62Oe/sNzFAVHDIdFyoKrNZHDB4JAhlLQC."], ["updated_at", "2014-11-16 02:00:08.994720"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c17cebde8bfa724954b3e163699546c7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c17cebde8bfa724954b3e163699546c7"], ["reset_password_token_exp", "2014-11-16 10:00:09.012837"], ["updated_at", "2014-11-16 02:00:09.015850"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/c17cebde8bfa724954b3e163699546c7/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c17cebde8bfa724954b3e163699546c7"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c17cebde8bfa724954b3e163699546c7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$VVS7Hfb5QJc33vMkNONp4OWJ71fsr1tRGDRRZW.GZPiQfBMuimyCG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 02:00:09.056254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 7.0ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.079053"], ["email", "test@email.com"], ["password_digest", "$2a$04$lgIFuam08J7v.zlsOz8kze44ycxkNiXC9bUG2cO5Ct9w/eanUGH3O"], ["updated_at", "2014-11-16 02:00:09.079053"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9734eab7c29f5500ac3210029f453152' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "9734eab7c29f5500ac3210029f453152"], ["reset_password_token_exp", "2014-11-16 10:00:09.084414"], ["updated_at", "2014-11-16 02:00:09.090374"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/9734eab7c29f5500ac3210029f453152/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9734eab7c29f5500ac3210029f453152"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9734eab7c29f5500ac3210029f453152' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$KZ827twiwBDSYPTZUO9PDOJHHL.2FT29kS//JBp.3J70r/91orHtW"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-16 02:00:09.102496"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/9734eab7c29f5500ac3210029f453152/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9734eab7c29f5500ac3210029f453152"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9734eab7c29f5500ac3210029f453152' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.120706"], ["email", "test@email.com"], ["password_digest", "$2a$04$FCijrZAtbexmAy...lvUmeVpBsXWEIp2hCAJDBb.Q3PiPfWKvOOka"], ["updated_at", "2014-11-16 02:00:09.120706"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5ca230c9c37d983960513e959bdec98b' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "5ca230c9c37d983960513e959bdec98b"], ["reset_password_token_exp", "2014-11-16 10:00:09.125888"], ["updated_at", "2014-11-16 02:00:09.129112"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/5ca230c9c37d983960513e959bdec98b/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"5ca230c9c37d983960513e959bdec98b"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5ca230c9c37d983960513e959bdec98b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 13ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.152946"], ["email", "test@email.com"], ["password_digest", "$2a$04$68Be7qSgHuDJEW2bKfouIesUJP18.M04REzPsFJUBcVRLjHc8VnAu"], ["updated_at", "2014-11-16 02:00:09.152946"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3ce756e7343e8570d734a6e442809610' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3ce756e7343e8570d734a6e442809610"], ["reset_password_token_exp", "2014-11-16 10:00:09.154992"], ["updated_at", "2014-11-16 02:00:09.156881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.170085"], ["email", "test@email.com"], ["password_digest", "$2a$04$S4GixFQ4bYRRtPqWbPF0we63Hf3jCiZzXpJmu/XBH0VEyDL.a215m"], ["updated_at", "2014-11-16 02:00:09.170085"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '21c7c0f0456e6c8b65b2fe49e96cb1a7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "21c7c0f0456e6c8b65b2fe49e96cb1a7"], ["reset_password_token_exp", "2014-11-16 10:00:09.177919"], ["updated_at", "2014-11-16 02:00:09.181380"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/43e837ce668dad39b7f27b619cc8fae2/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"43e837ce668dad39b7f27b619cc8fae2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '43e837ce668dad39b7f27b619cc8fae2' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.201973"], ["email", "test@email.com"], ["password_digest", "$2a$04$Frqxq4ohIzogQSr4ZnOh.O6LjciQu.PnjbKXOFE.zKNQbm2Kx3maS"], ["updated_at", "2014-11-16 02:00:09.201973"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2715da61fb4314a5c7a46695d67bbff1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "2715da61fb4314a5c7a46695d67bbff1"], ["reset_password_token_exp", "2014-11-16 10:00:09.211210"], ["updated_at", "2014-11-16 02:00:09.214302"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 404.7ms

Sent mail to test@email.com (14.5ms)
Date: Sat, 15 Nov 2014 18:00:09 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <546805299b392_32613ffb69465bf02931c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54680529980de_32613ffb69465bf029239";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54680529980de_32613ffb69465bf029239
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/2715da61fb4314a5c7a46695d67bbff1/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54680529980de_32613ffb69465bf029239
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/2715da61fb4314a5c7a46695d67bbff1/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54680529980de_32613ffb69465bf029239--

  Rendered text template (0.0ms)
Completed 204 No Content in 434ms (Views: 0.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.647356"], ["email", "test@email.com"], ["password_digest", "$2a$04$Xk265Lkj8s0TtlTPrpkwderyCLtEHrkP5.rnClajgLGhQhPh1Tkhm"], ["updated_at", "2014-11-16 02:00:09.647356"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.2ms

Sent mail to foo@bar.com (4.0ms)
Date: Sat, 15 Nov 2014 18:00:09 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54680529a06ef_32613ffb69465bf0295d0@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54680529a0083_32613ffb69465bf0294fd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54680529a0083_32613ffb69465bf0294fd
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54680529a0083_32613ffb69465bf0294fd
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54680529a0083_32613ffb69465bf0294fd--

  Rendered text template (0.0ms)
Completed 204 No Content in 12ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.665699"], ["email", "test@email.com"], ["password_digest", "$2a$04$2UB0JyxygEvEOtBnaWyhE.p0WfKdocq2wqgS5C.r4jz3qTHfGxDze"], ["updated_at", "2014-11-16 02:00:09.665699"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1b74cd35cc0ac6314b3ef2661837f532' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "1b74cd35cc0ac6314b3ef2661837f532"], ["reset_password_token_exp", "2014-11-16 10:00:09.668568"], ["updated_at", "2014-11-16 02:00:09.670348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 18.4ms

Sent mail to test@email.com (4.3ms)
Date: Sat, 15 Nov 2014 18:00:09 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54680529a8f4d_32613ffb69465bf029718@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54680529a4761_32613ffb69465bf02961a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54680529a4761_32613ffb69465bf02961a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.orgreset-password/1b74cd35cc0ac6314b3ef2661837f532/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54680529a4761_32613ffb69465bf02961a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.orgreset-password/1b74cd35cc0ac6314b3ef2661837f532/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54680529a4761_32613ffb69465bf02961a--

  Rendered text template (0.0ms)
Completed 204 No Content in 29ms (Views: 1.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.701650"], ["email", "test@email.com"], ["password_digest", "$2a$04$h9boMqTDtXI7ZXykVOkmDOHvOtxEPoOhkGjn1AZw1VGL7OfDxeVBK"], ["updated_at", "2014-11-16 02:00:09.701650"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.9ms

Sent mail to foo@bar.com (5.4ms)
Date: Sat, 15 Nov 2014 18:00:09 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54680529af8d3_32613ffb69465bf029921@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54680529ae1e2_32613ffb69465bf02980";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54680529ae1e2_32613ffb69465bf02980
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.orgsign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54680529ae1e2_32613ffb69465bf02980
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.orgsign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54680529ae1e2_32613ffb69465bf02980--

  Rendered text template (0.0ms)
Completed 204 No Content in 17ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.730653"], ["email", "test@email.com"], ["password_digest", "$2a$04$Kf.wUnO88WJcizwirbAlpeAXxuOG4JoCaWYKP70TkVGMOqTs3APRy"], ["updated_at", "2014-11-16 02:00:09.730653"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1ad928e348e054fa6ebbd45f341edd84' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.759023"], ["expiration", "2014-11-17 02:00:09.762626"], ["key", "1ad928e348e054fa6ebbd45f341edd84"], ["updated_at", "2014-11-16 02:00:09.759023"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 32ms (Views: 0.9ms | ActiveRecord: 1.6ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.775382"], ["email", "test@email.com"], ["password_digest", "$2a$04$iBRqmFuqheFZ/ZHG8ODNc.kVQORqXeIxYwQlWaEW5QFa9NDKjzjDe"], ["updated_at", "2014-11-16 02:00:09.775382"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f2405eac7b0a3571d8a78fac8ce36e9d' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.781130"], ["expiration", "2014-11-17 02:00:09.781805"], ["key", "f2405eac7b0a3571d8a78fac8ce36e9d"], ["updated_at", "2014-11-16 02:00:09.781130"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.795265"], ["email", "test@email.com"], ["password_digest", "$2a$04$XS9t.D2noDv/XmAnXYbkF.M6jMbOQvo36vG8TVQbycsQThhwJpcNu"], ["updated_at", "2014-11-16 02:00:09.795265"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.808189"], ["email", "test@email.com"], ["password_digest", "$2a$04$pfrD1XyFnpxCY7s7sXYx7.kDt4jhKoO9NCBmvbbHh1aCxBbDVK4tS"], ["updated_at", "2014-11-16 02:00:09.808189"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ba4202670373a6c3f613fe5bd8f3a65d' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.814339"], ["expiration", "2014-11-17 02:00:09.815473"], ["key", "ba4202670373a6c3f613fe5bd8f3a65d"], ["updated_at", "2014-11-16 02:00:09.814339"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.2ms | ActiveRecord: 0.8ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ba4202670373a6c3f613fe5bd8f3a65d' LIMIT 1
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.827458"], ["email", "test@email.com"], ["password_digest", "$2a$04$77yXuJ1VPGMNWUl1fc40COsG99bJnGMory953ncA9rKQh3QNPyA.q"], ["updated_at", "2014-11-16 02:00:09.827458"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'bb829c35a3d99c5863f760126e58bbe2' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.828764"], ["expiration", "2014-11-17 02:00:09.829415"], ["key", "bb829c35a3d99c5863f760126e58bbe2"], ["updated_at", "2014-11-16 02:00:09.828764"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 01:55:09.830364"], ["updated_at", "2014-11-16 02:00:09.831576"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'bb829c35a3d99c5863f760126e58bbe2' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.848303"], ["email", "test@email.com"], ["password_digest", "$2a$04$Vea/v53E0lRffBDOGxIeXODPlDdeTPC46kIp0TRsAJqH4apTn5fI6"], ["updated_at", "2014-11-16 02:00:09.848303"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '773aef6d92bc49c7b1f972ad45c29018' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.850131"], ["expiration", "2014-11-17 02:00:09.853376"], ["key", "773aef6d92bc49c7b1f972ad45c29018"], ["updated_at", "2014-11-16 02:00:09.850131"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '773aef6d92bc49c7b1f972ad45c29018' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.867380"], ["email", "test@email.com"], ["password_digest", "$2a$04$4BTKpPS8B3gXWnPljFv6LeLr2reKE2pUF0qb7qDxwUlJywl.SdMY6"], ["updated_at", "2014-11-16 02:00:09.867380"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'baef5f64da8d04e8c71dd4c9b34666fe' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.868611"], ["expiration", "2014-11-17 02:00:09.872828"], ["key", "baef5f64da8d04e8c71dd4c9b34666fe"], ["updated_at", "2014-11-16 02:00:09.868611"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-16 01:55:09.876330"], ["updated_at", "2014-11-16 02:00:09.877864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'baef5f64da8d04e8c71dd4c9b34666fe' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-16 02:00:09.906929"], ["email", "test"], ["password_digest", "$2a$04$CrGq9.ndPgs/WYXp8ZofuO5uJ4HKhVRrOoHCYMsXPOLKCs4gT/N.i"], ["updated_at", "2014-11-16 02:00:09.906929"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 17ms (Views: 1.8ms | ActiveRecord: 2.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.943198"], ["email", "test@email.com"], ["password_digest", "$2a$04$1l1TC4GSXOcGlrv0lLhdpON53.35Xk/c1RYBiqG9UVoPlRl2QA3sy"], ["updated_at", "2014-11-16 02:00:09.943198"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'dbb63606228c0f44fd1f4603751858d6' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-16 02:00:09.944915"], ["expiration", "2014-11-17 02:00:09.945683"], ["key", "dbb63606228c0f44fd1f4603751858d6"], ["updated_at", "2014-11-16 02:00:09.944915"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'dbb63606228c0f44fd1f4603751858d6' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-11-15 18:00:09 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:17.650523"], ["email", "test@email.com"], ["password_digest", "$2a$04$KEmM.sv8Qjb/uM6/iK2N5uhoR.FS2dYvCySGh8gaODwOZSln.FWBW"], ["updated_at", "2014-11-25 19:30:17.650523"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '84d9128822714d498fb829b09b7e2aa6' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "84d9128822714d498fb829b09b7e2aa6"], ["reset_password_token_exp", "2014-11-26 03:30:17.658729"], ["updated_at", "2014-11-25 19:30:17.661423"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/84d9128822714d498fb829b09b7e2aa6/" for 127.0.0.1 at 2014-11-25 11:30:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"84d9128822714d498fb829b09b7e2aa6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '84d9128822714d498fb829b09b7e2aa6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$.WX81QeMdypRtQcP65MkWuUr2I1xhCDgU21kRnRtoXEnsg66Lv0EO"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-25 19:30:17.689568"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 18ms (Views: 7.4ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:17.706240"], ["email", "test@email.com"], ["password_digest", "$2a$04$YBI6AhmYtvtSmEV1JBocP.JvlG2CZXqWofJfUvr8HJrm9B3hmrAoC"], ["updated_at", "2014-11-25 19:30:17.706240"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'dd96bdf351f681fd3596e19616837a28' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "dd96bdf351f681fd3596e19616837a28"], ["reset_password_token_exp", "2014-11-26 03:30:17.708909"], ["updated_at", "2014-11-25 19:30:17.710979"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/dd96bdf351f681fd3596e19616837a28/" for 127.0.0.1 at 2014-11-25 11:30:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"dd96bdf351f681fd3596e19616837a28"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dd96bdf351f681fd3596e19616837a28' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$sYhWwqsfibPYvUczovMjdeMFnk9lXCgXz0JHVjkoKdRckyIGXXTbG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-25 19:30:17.719938"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/dd96bdf351f681fd3596e19616837a28/" for 127.0.0.1 at 2014-11-25 11:30:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"dd96bdf351f681fd3596e19616837a28"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dd96bdf351f681fd3596e19616837a28' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:17.728903"], ["email", "test@email.com"], ["password_digest", "$2a$04$NXx5hBL.lZfXR4DYvXbXMOjdAhkA4vIuVJoUxcY5CnQqlaSEKmjs."], ["updated_at", "2014-11-25 19:30:17.728903"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7ad2d4a2958dd136709580c75069bca8' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7ad2d4a2958dd136709580c75069bca8"], ["reset_password_token_exp", "2014-11-26 03:30:17.730238"], ["updated_at", "2014-11-25 19:30:17.731385"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/7ad2d4a2958dd136709580c75069bca8/" for 127.0.0.1 at 2014-11-25 11:30:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"7ad2d4a2958dd136709580c75069bca8"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7ad2d4a2958dd136709580c75069bca8' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 11ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:17.749044"], ["email", "test@email.com"], ["password_digest", "$2a$04$0VX4n0W7ECabdGfBgWCVXO2r1Y5mAIUt.rTFGvUpREZecRA/s3MS."], ["updated_at", "2014-11-25 19:30:17.749044"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'afa74e0eee21c06763af89bcf92fd699' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "afa74e0eee21c06763af89bcf92fd699"], ["reset_password_token_exp", "2014-11-26 03:30:17.750520"], ["updated_at", "2014-11-25 19:30:17.751876"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-25 11:30:17 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:17.761438"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZNSfzFp3B0HRyeF3U6Horu8mD4WC1E8Idpr6yEoUIG4i9S61IhGKe"], ["updated_at", "2014-11-25 19:30:17.761438"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c2eb74f10af37b6f3a1fc73fd9e64088' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c2eb74f10af37b6f3a1fc73fd9e64088"], ["reset_password_token_exp", "2014-11-26 03:30:17.762875"], ["updated_at", "2014-11-25 19:30:17.764046"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/af4190dcc9b81cb9fd22e8c518d347e1/" for 127.0.0.1 at 2014-11-25 11:30:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"af4190dcc9b81cb9fd22e8c518d347e1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'af4190dcc9b81cb9fd22e8c518d347e1' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:17.771511"], ["email", "test@email.com"], ["password_digest", "$2a$04$ssuLwohqsPsi9y7m0x2ytu7ngM4PmqMQD8OgUZ18/NryA8tDaaoK2"], ["updated_at", "2014-11-25 19:30:17.771511"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-25 11:30:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '74284b854f41d498540da880e997cce8' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "74284b854f41d498540da880e997cce8"], ["reset_password_token_exp", "2014-11-26 03:30:17.806788"], ["updated_at", "2014-11-25 19:30:17.808290"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 186.5ms

Sent mail to test@email.com (11.8ms)
Date: Tue, 25 Nov 2014 11:30:18 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5474d8ca1a78_69063fdb20865bec534ba@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5474d8c9f3b43_69063fdb20865bec533a1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5474d8c9f3b43_69063fdb20865bec533a1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/74284b854f41d498540da880e997cce8/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5474d8c9f3b43_69063fdb20865bec533a1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/74284b854f41d498540da880e997cce8/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5474d8c9f3b43_69063fdb20865bec533a1--

  Rendered text template (0.0ms)
Completed 204 No Content in 207ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.016387"], ["email", "test@email.com"], ["password_digest", "$2a$04$zLeqL2BSOjbWmQSvnik8HOoFXZSy.grnz6hT7AkeGos0Dh1agn4RG"], ["updated_at", "2014-11-25 19:30:18.016387"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.8ms

Sent mail to foo@bar.com (2.6ms)
Date: Tue, 25 Nov 2014 11:30:18 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5474d8ca6c66_69063fdb20865bec536d@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5474d8ca6554_69063fdb20865bec535d6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5474d8ca6554_69063fdb20865bec535d6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5474d8ca6554_69063fdb20865bec535d6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5474d8ca6554_69063fdb20865bec535d6--

  Rendered text template (0.0ms)
Completed 204 No Content in 12ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.034236"], ["email", "test@email.com"], ["password_digest", "$2a$04$qPCV7.SpfiDf16LABZLiMOsluAKYZxbSZBj8msNa65rLT2YwL18wi"], ["updated_at", "2014-11-25 19:30:18.034236"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '107e81d2d5b3a4622212dc6c03b085ab' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "107e81d2d5b3a4622212dc6c03b085ab"], ["reset_password_token_exp", "2014-11-26 03:30:18.037852"], ["updated_at", "2014-11-25 19:30:18.047292"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.1ms

Sent mail to test@email.com (2.9ms)
Date: Tue, 25 Nov 2014 11:30:18 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5474d8caccef_69063fdb20865bec538c9@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5474d8cac5fa_69063fdb20865bec53716";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5474d8cac5fa_69063fdb20865bec53716
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/107e81d2d5b3a4622212dc6c03b085ab/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5474d8cac5fa_69063fdb20865bec53716
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/107e81d2d5b3a4622212dc6c03b085ab/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5474d8cac5fa_69063fdb20865bec53716--

  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.060918"], ["email", "test@email.com"], ["password_digest", "$2a$04$09NOMHFnh.nONcNdiwA95eZe2Wu3jYc5W028LuwZsZGEokiTRlm6y"], ["updated_at", "2014-11-25 19:30:18.060918"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.1ms

Sent mail to foo@bar.com (3.0ms)
Date: Tue, 25 Nov 2014 11:30:18 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5474d8ca106aa_69063fdb20865bec54061@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5474d8caff4c_69063fdb20865bec539c8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5474d8caff4c_69063fdb20865bec539c8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5474d8caff4c_69063fdb20865bec539c8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5474d8caff4c_69063fdb20865bec539c8--

  Rendered text template (0.0ms)
Completed 204 No Content in 6ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.074726"], ["email", "test@email.com"], ["password_digest", "$2a$04$jc53NW9vIxQx6Mu6NGf41.DyftnSrbOqKuDgE1LxN3XiXwPXcfLiK"], ["updated_at", "2014-11-25 19:30:18.074726"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'dc72f49604b7783993ebb5e9ccaad401' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.088300"], ["expiration", "2014-11-26 19:30:18.091298"], ["key", "dc72f49604b7783993ebb5e9ccaad401"], ["updated_at", "2014-11-25 19:30:18.088300"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.098916"], ["email", "test@email.com"], ["password_digest", "$2a$04$fDq4eBBnNQwdlrFCJPUWh.wbvf2Owuqie501qgXcWSEdMHYHf3hCO"], ["updated_at", "2014-11-25 19:30:18.098916"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6537f7853b2ed9284bce4a1f7f929aed' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.103980"], ["expiration", "2014-11-26 19:30:18.104634"], ["key", "6537f7853b2ed9284bce4a1f7f929aed"], ["updated_at", "2014-11-25 19:30:18.103980"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.112201"], ["email", "test@email.com"], ["password_digest", "$2a$04$UpjWY1UXikFNxOvbJAe8SuGDznBAV85SxRU81Wahq9rUHpdoxy4z."], ["updated_at", "2014-11-25 19:30:18.112201"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.121794"], ["email", "test@email.com"], ["password_digest", "$2a$04$PKyaeyxjm6MLxvWecJ/36ex9qEoRHVLo2fYGBO5h.1r6ERVtidrsq"], ["updated_at", "2014-11-25 19:30:18.121794"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '64eb05bd621c221a12c4b10b48f25a5c' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.126170"], ["expiration", "2014-11-26 19:30:18.126813"], ["key", "64eb05bd621c221a12c4b10b48f25a5c"], ["updated_at", "2014-11-25 19:30:18.126170"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '64eb05bd621c221a12c4b10b48f25a5c' LIMIT 1
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.137543"], ["email", "test@email.com"], ["password_digest", "$2a$04$NlRs45RFkG3LQ61E8vKBoelML649GpCbjnEyyv4No.QT5/pk3Rs3."], ["updated_at", "2014-11-25 19:30:18.137543"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6128f40290ce5284a6b08e82ced2faa5' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.139345"], ["expiration", "2014-11-26 19:30:18.140177"], ["key", "6128f40290ce5284a6b08e82ced2faa5"], ["updated_at", "2014-11-25 19:30:18.139345"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-25 19:25:18.142642"], ["updated_at", "2014-11-25 19:30:18.143034"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '6128f40290ce5284a6b08e82ced2faa5' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.151507"], ["email", "test@email.com"], ["password_digest", "$2a$04$5/qUVWqe2pXsSxO2wtdIPuC470S5vxs5HE3aITOdsl2UYDACxYOC6"], ["updated_at", "2014-11-25 19:30:18.151507"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '2a274f5e41061b719b6e2025f05f9a0c' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.152805"], ["expiration", "2014-11-26 19:30:18.153599"], ["key", "2a274f5e41061b719b6e2025f05f9a0c"], ["updated_at", "2014-11-25 19:30:18.152805"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '2a274f5e41061b719b6e2025f05f9a0c' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.168177"], ["email", "test@email.com"], ["password_digest", "$2a$04$JMXnp1aIDgSEAcMzpHmHD.2IP3Jd7y2zsjTCOfYFYXXnO65eE7sda"], ["updated_at", "2014-11-25 19:30:18.168177"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'aefd34b2d3be8074f92fe2277e6d5c6c' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.169963"], ["expiration", "2014-11-26 19:30:18.170751"], ["key", "aefd34b2d3be8074f92fe2277e6d5c6c"], ["updated_at", "2014-11-25 19:30:18.169963"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-25 19:25:18.172091"], ["updated_at", "2014-11-25 19:30:18.172538"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'aefd34b2d3be8074f92fe2277e6d5c6c' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:30:18.187641"], ["email", "test"], ["password_digest", "$2a$04$F7Ox8tbO5EAudFvtTs9KI.CcJKG57cjsjpg27UOYZS0BV47KlkMoW"], ["updated_at", "2014-11-25 19:30:18.187641"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.201762"], ["email", "test@email.com"], ["password_digest", "$2a$04$FlXTatZyPiOWLrbOjUqsyec5WLic26JbFDh3Qd1EGuZpFQ5Tix4ju"], ["updated_at", "2014-11-25 19:30:18.201762"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0a77ccf0ae774c0d30244f64655f0051' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:30:18.202932"], ["expiration", "2014-11-26 19:30:18.203504"], ["key", "0a77ccf0ae774c0d30244f64655f0051"], ["updated_at", "2014-11-25 19:30:18.202932"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '0a77ccf0ae774c0d30244f64655f0051' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-11-25 11:30:18 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.160750"], ["email", "test@email.com"], ["password_digest", "$2a$04$394YKZ4DJ3iUpDMBC9S5JOr6TYXsxFeGyjysWE8OJRX8XRniFosx2"], ["updated_at", "2014-11-25 19:38:17.160750"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e4424afcee0d222c5d064e20b7fda58c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e4424afcee0d222c5d064e20b7fda58c"], ["reset_password_token_exp", "2014-11-26 03:38:17.168088"], ["updated_at", "2014-11-25 19:38:17.170227"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e4424afcee0d222c5d064e20b7fda58c/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e4424afcee0d222c5d064e20b7fda58c"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e4424afcee0d222c5d064e20b7fda58c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$198IGKCHL7YK0JtPVdSs6ebX/jB52G2jjZXj9L2PG8gmgvA.1b5rO"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-25 19:38:17.199407"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 18ms (Views: 6.7ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.213859"], ["email", "test@email.com"], ["password_digest", "$2a$04$.kla2UnFOCArRcAZx5BUo..TEKpnG3un0323FOB8NYrCE7y3jRNyS"], ["updated_at", "2014-11-25 19:38:17.213859"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'cc7b0cf09797a458a73d977a9e31f94f' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "cc7b0cf09797a458a73d977a9e31f94f"], ["reset_password_token_exp", "2014-11-26 03:38:17.215236"], ["updated_at", "2014-11-25 19:38:17.216301"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/cc7b0cf09797a458a73d977a9e31f94f/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"cc7b0cf09797a458a73d977a9e31f94f"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'cc7b0cf09797a458a73d977a9e31f94f' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$3DTh9Li0.Ncj4R.7X2poT.xUJBYYCabG4VW97CBGgVB3cIcgcv9tu"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-11-25 19:38:17.223092"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 6ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/cc7b0cf09797a458a73d977a9e31f94f/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"cc7b0cf09797a458a73d977a9e31f94f"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'cc7b0cf09797a458a73d977a9e31f94f' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.232123"], ["email", "test@email.com"], ["password_digest", "$2a$04$VZLpS3l5HPzRkJEOjd9BZOhQeuK6rcyndPsf/o1Hl4bVMWDz4/bSW"], ["updated_at", "2014-11-25 19:38:17.232123"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b3bec0ae7300e9fa2efd23e12b59dfd5' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b3bec0ae7300e9fa2efd23e12b59dfd5"], ["reset_password_token_exp", "2014-11-26 03:38:17.233538"], ["updated_at", "2014-11-25 19:38:17.234708"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/b3bec0ae7300e9fa2efd23e12b59dfd5/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"b3bec0ae7300e9fa2efd23e12b59dfd5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b3bec0ae7300e9fa2efd23e12b59dfd5' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 12ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.253629"], ["email", "test@email.com"], ["password_digest", "$2a$04$Uko3A2n5BKVVdWRv9UkBZO692KhwTCP7BqTBptxbD9g1yH/ETM9Rm"], ["updated_at", "2014-11-25 19:38:17.253629"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '16187c9078a35ca22a3bd28e6addeb75' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "16187c9078a35ca22a3bd28e6addeb75"], ["reset_password_token_exp", "2014-11-26 03:38:17.255265"], ["updated_at", "2014-11-25 19:38:17.256568"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.266278"], ["email", "test@email.com"], ["password_digest", "$2a$04$1XSTX93/8MKxDenNxzBA4umBQcQRLbrUXBPp4Cx5QQlPT009vG9WW"], ["updated_at", "2014-11-25 19:38:17.266278"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a7f697b71aa6bded15abf795f67feec3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a7f697b71aa6bded15abf795f67feec3"], ["reset_password_token_exp", "2014-11-26 03:38:17.267881"], ["updated_at", "2014-11-25 19:38:17.269106"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/bd072c3727559ff72429c38ebf901fc8/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"bd072c3727559ff72429c38ebf901fc8"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'bd072c3727559ff72429c38ebf901fc8' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.277323"], ["email", "test@email.com"], ["password_digest", "$2a$04$S64ZL1tVFRHljQ.dWMsnyO2WM/ImBYyV3eeCSI5YuJiXpvSQrecoW"], ["updated_at", "2014-11-25 19:38:17.277323"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '472cdf8f28426da5a7043e69c4c0d8b9' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "472cdf8f28426da5a7043e69c4c0d8b9"], ["reset_password_token_exp", "2014-11-26 03:38:17.313740"], ["updated_at", "2014-11-25 19:38:17.315337"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 179.1ms

Sent mail to test@email.com (10.4ms)
Date: Tue, 25 Nov 2014 11:38:17 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5474daa97b58b_6a0c3fcf19463bec396ad@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5474daa979a0a_6a0c3fcf19463bec39547";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5474daa979a0a_6a0c3fcf19463bec39547
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/472cdf8f28426da5a7043e69c4c0d8b9/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5474daa979a0a_6a0c3fcf19463bec39547
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/472cdf8f28426da5a7043e69c4c0d8b9/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5474daa979a0a_6a0c3fcf19463bec39547--

  Rendered text template (0.0ms)
Completed 204 No Content in 198ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.514812"], ["email", "test@email.com"], ["password_digest", "$2a$04$W6YVyOZKpuTr8UGvN9qVq.23/H5/u1hGBINv0s4e8EZgkT4qcWG4e"], ["updated_at", "2014-11-25 19:38:17.514812"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.1ms

Sent mail to foo@bar.com (2.7ms)
Date: Tue, 25 Nov 2014 11:38:17 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5474daa980015_6a0c3fcf19463bec398b9@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5474daa97f99b_6a0c3fcf19463bec397f0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5474daa97f99b_6a0c3fcf19463bec397f0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5474daa97f99b_6a0c3fcf19463bec397f0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5474daa97f99b_6a0c3fcf19463bec397f0--

  Rendered text template (0.0ms)
Completed 204 No Content in 10ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.531157"], ["email", "test@email.com"], ["password_digest", "$2a$04$GJ0iNd2/OD8YTTH3MLb0COG0VdZjoMmKZYcRaqbmckAHgsZ0BYVo."], ["updated_at", "2014-11-25 19:38:17.531157"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4de00e0446e563c14d3d2d7611840285' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "4de00e0446e563c14d3d2d7611840285"], ["reset_password_token_exp", "2014-11-26 03:38:17.534055"], ["updated_at", "2014-11-25 19:38:17.543026"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 1.8ms

Sent mail to test@email.com (3.1ms)
Date: Tue, 25 Nov 2014 11:38:17 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5474daa9858e6_6a0c3fcf19463bec4002e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5474daa98519e_6a0c3fcf19463bec399a6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5474daa98519e_6a0c3fcf19463bec399a6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/4de00e0446e563c14d3d2d7611840285/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5474daa98519e_6a0c3fcf19463bec399a6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/4de00e0446e563c14d3d2d7611840285/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5474daa98519e_6a0c3fcf19463bec399a6--

  Rendered text template (0.0ms)
Completed 204 No Content in 16ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.554696"], ["email", "test@email.com"], ["password_digest", "$2a$04$b9F7.U6IrDVYFrG6rNCXyOawi9J0uKjMLYB/AodPoA/7qH4svaCum"], ["updated_at", "2014-11-25 19:38:17.554696"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.5ms

Sent mail to foo@bar.com (2.5ms)
Date: Tue, 25 Nov 2014 11:38:17 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5474daa989521_6a0c3fcf19463bec40278@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5474daa988d49_6a0c3fcf19463bec4011e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5474daa988d49_6a0c3fcf19463bec4011e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5474daa988d49_6a0c3fcf19463bec4011e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5474daa988d49_6a0c3fcf19463bec4011e--

  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.568960"], ["email", "test@email.com"], ["password_digest", "$2a$04$PI1pkxpYuSs/FtH5ikAcTuPUNfWDS.riQuVzhgvsefH6nJ6AgnXEm"], ["updated_at", "2014-11-25 19:38:17.568960"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '717bf4b331d58057c2cf2a2c1956dc73' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.583048"], ["expiration", "2014-11-26 19:38:17.585230"], ["key", "717bf4b331d58057c2cf2a2c1956dc73"], ["updated_at", "2014-11-25 19:38:17.583048"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.591718"], ["email", "test@email.com"], ["password_digest", "$2a$04$IhrbDChysThVMRZAoMhY5O5wFdUqsMiHDgDxoDuR8ckJ8iXyg8MES"], ["updated_at", "2014-11-25 19:38:17.591718"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '9a2fc4e987952af75280bcd93988ac9e' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.596948"], ["expiration", "2014-11-26 19:38:17.597707"], ["key", "9a2fc4e987952af75280bcd93988ac9e"], ["updated_at", "2014-11-25 19:38:17.596948"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.603239"], ["email", "test@email.com"], ["password_digest", "$2a$04$b/7gfqxI4INlsxI3AODec.EmIOhSUfWz32clhUa4z4elNnKatlGuK"], ["updated_at", "2014-11-25 19:38:17.603239"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.613831"], ["email", "test@email.com"], ["password_digest", "$2a$04$4XYRsGwPh6FaGtYrcPJCg.B6g69asNX7Fp39WkW55YhA8CrEe9vYm"], ["updated_at", "2014-11-25 19:38:17.613831"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a0d5bda0c549376a625a21951c6e0031' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.617934"], ["expiration", "2014-11-26 19:38:17.618501"], ["key", "a0d5bda0c549376a625a21951c6e0031"], ["updated_at", "2014-11-25 19:38:17.617934"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
Started GET "/session/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a0d5bda0c549376a625a21951c6e0031' LIMIT 1
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.628490"], ["email", "test@email.com"], ["password_digest", "$2a$04$sE4tRbfcWmov2AyvQ3bbVOVK9GfSAyb2XQdc3ubJGMkWTEZm6S.Ie"], ["updated_at", "2014-11-25 19:38:17.628490"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a2cfc7cb86cff2a817ae472c7800e2fc' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.630123"], ["expiration", "2014-11-26 19:38:17.630830"], ["key", "a2cfc7cb86cff2a817ae472c7800e2fc"], ["updated_at", "2014-11-25 19:38:17.630123"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-25 19:33:17.633173"], ["updated_at", "2014-11-25 19:38:17.633465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a2cfc7cb86cff2a817ae472c7800e2fc' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.642291"], ["email", "test@email.com"], ["password_digest", "$2a$04$XI80MwEsbsG5qEHm0BUEUujhDTk.4pD4O4DA5Z69XeejkAbPU1J3q"], ["updated_at", "2014-11-25 19:38:17.642291"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '110c6fcb070d8123a8d4cf7e056f4e93' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.643946"], ["expiration", "2014-11-26 19:38:17.645217"], ["key", "110c6fcb070d8123a8d4cf7e056f4e93"], ["updated_at", "2014-11-25 19:38:17.643946"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '110c6fcb070d8123a8d4cf7e056f4e93' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.659342"], ["email", "test@email.com"], ["password_digest", "$2a$04$zN4alKlXV3AR05YW.voW3uTSYmbaCacVMlJj4MtStKFZrsfNHiov."], ["updated_at", "2014-11-25 19:38:17.659342"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1ba082dbdc8b1f4996413e196f832d99' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.660881"], ["expiration", "2014-11-26 19:38:17.661547"], ["key", "1ba082dbdc8b1f4996413e196f832d99"], ["updated_at", "2014-11-25 19:38:17.660881"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-11-25 19:33:17.662633"], ["updated_at", "2014-11-25 19:38:17.663005"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1ba082dbdc8b1f4996413e196f832d99' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-11-25 19:38:17.676772"], ["email", "test"], ["password_digest", "$2a$04$B3Ytu4Gi09xpjBO6A9LqJeCQoHDce758vdS2pUt./J0dK2LP6IqOC"], ["updated_at", "2014-11-25 19:38:17.676772"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 9ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.692997"], ["email", "test@email.com"], ["password_digest", "$2a$04$SaQXuGaYy.bDkyyafUaPBOHP8zE0rohJdghDltqLxeBx0BpeCLD7K"], ["updated_at", "2014-11-25 19:38:17.692997"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1d4cec5d758ef81db5456be56a45fb5c' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-11-25 19:38:17.694617"], ["expiration", "2014-11-26 19:38:17.695343"], ["key", "1d4cec5d758ef81db5456be56a45fb5c"], ["updated_at", "2014-11-25 19:38:17.694617"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1d4cec5d758ef81db5456be56a45fb5c' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-11-25 11:38:17 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:53.985345"], ["email", "test@email.com"], ["password_digest", "$2a$04$nuNaMLA0bgH27f9UuL1UiuuzVNalGu7HiPMlAnlyZvmZHqfh6hdwa"], ["updated_at", "2014-12-09 07:06:53.985345"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ed2aa551d6b55797d286fd60a7334c40' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ed2aa551d6b55797d286fd60a7334c40"], ["reset_password_token_exp", "2014-12-09 15:06:53.996325"], ["updated_at", "2014-12-09 07:06:54.000063"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/ed2aa551d6b55797d286fd60a7334c40/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"ed2aa551d6b55797d286fd60a7334c40"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ed2aa551d6b55797d286fd60a7334c40' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$0MrcCyZ0.Uu5L3WDsdUop.0PIevwSpy21XoPpXq2cWG3G6fdR9fbe"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:06:54.044605"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 6.9ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.063079"], ["email", "test@email.com"], ["password_digest", "$2a$04$l9ilagEeJlMG68jqtT8zgOPErAWEXLttxN33GM2R1vmRlAxFDwuWO"], ["updated_at", "2014-12-09 07:06:54.063079"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'dac16bac048fe7ac03f4eaad4ea9342d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "dac16bac048fe7ac03f4eaad4ea9342d"], ["reset_password_token_exp", "2014-12-09 15:06:54.070107"], ["updated_at", "2014-12-09 07:06:54.072512"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/dac16bac048fe7ac03f4eaad4ea9342d/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"dac16bac048fe7ac03f4eaad4ea9342d"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dac16bac048fe7ac03f4eaad4ea9342d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$L20oScusQwZZgH9BvyLzu.AY8w/WEz8E6wJDYk/hzdv0xrk./Afqm"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:06:54.081627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/dac16bac048fe7ac03f4eaad4ea9342d/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"dac16bac048fe7ac03f4eaad4ea9342d"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dac16bac048fe7ac03f4eaad4ea9342d' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:06:54.091829"], ["email", "test@email.com"], ["password_digest", "$2a$04$M/OCcgQeY57.nlwGXzRQeuLGpGAYScBRthDzDpO3pczzhwfWd17Pu"], ["updated_at", "2014-12-09 07:06:54.091829"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e56c3e060f4a56327eac8c2e76bf9e3b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e56c3e060f4a56327eac8c2e76bf9e3b"], ["reset_password_token_exp", "2014-12-09 15:06:54.094083"], ["updated_at", "2014-12-09 07:06:54.096061"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/e56c3e060f4a56327eac8c2e76bf9e3b/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"e56c3e060f4a56327eac8c2e76bf9e3b"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e56c3e060f4a56327eac8c2e76bf9e3b' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 16ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.125349"], ["email", "test@email.com"], ["password_digest", "$2a$04$diLP3vN6gBO0Ne3qy0d/f.rfkNMlbrrMMtl.umdya8lAX3Ch7xbw6"], ["updated_at", "2014-12-09 07:06:54.125349"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0fc7f0da3eae403540b2adcac504e3c6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0fc7f0da3eae403540b2adcac504e3c6"], ["reset_password_token_exp", "2014-12-09 15:06:54.128775"], ["updated_at", "2014-12-09 07:06:54.130314"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.209263"], ["email", "test@email.com"], ["password_digest", "$2a$04$Vm4JMx96B2eJvW0zM09MSOC9svScbEjKwD6WPoWpjFvqIwScbLV9e"], ["updated_at", "2014-12-09 07:06:54.209263"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7e098ca277387342d8bfad2428256ea9' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7e098ca277387342d8bfad2428256ea9"], ["reset_password_token_exp", "2014-12-09 15:06:54.211231"], ["updated_at", "2014-12-09 07:06:54.212238"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a4964beee65854a6b1978f0fa8674c4b/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a4964beee65854a6b1978f0fa8674c4b"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a4964beee65854a6b1978f0fa8674c4b' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.219918"], ["email", "test@email.com"], ["password_digest", "$2a$04$cPGLHT620GVuXv0DQTUXNuHRoa7f0aELuKYhgIXbbn.Kf/MpBDi0O"], ["updated_at", "2014-12-09 07:06:54.219918"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '05397a123f423cd842ed16e3d5e65e43' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "05397a123f423cd842ed16e3d5e65e43"], ["reset_password_token_exp", "2014-12-09 15:06:54.223076"], ["updated_at", "2014-12-09 07:06:54.224222"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 298.9ms

Sent mail to test@email.com (12.2ms)
Date: Mon, 08 Dec 2014 23:06:54 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54869f8e844ae_34753fc6a5463bf03001@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54869f8e824d0_34753fc6a5463bf0299db";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54869f8e824d0_34753fc6a5463bf0299db
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/05397a123f423cd842ed16e3d5e65e43/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54869f8e824d0_34753fc6a5463bf0299db
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/05397a123f423cd842ed16e3d5e65e43/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54869f8e824d0_34753fc6a5463bf0299db--

  Rendered text template (0.0ms)
Completed 204 No Content in 326ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.552327"], ["email", "test@email.com"], ["password_digest", "$2a$04$GGQt9l0cAD1Lu/2Z29g.v.gN7yP9lrbGxC0HgrQSKqBqb0dIK/npm"], ["updated_at", "2014-12-09 07:06:54.552327"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.6ms

Sent mail to foo@bar.com (7.9ms)
Date: Mon, 08 Dec 2014 23:06:54 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54869f8e8a086_34753fc6a5463bf0302c6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54869f8e89220_34753fc6a5463bf0301b7";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54869f8e89220_34753fc6a5463bf0301b7
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54869f8e89220_34753fc6a5463bf0301b7
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54869f8e89220_34753fc6a5463bf0301b7--

  Rendered text template (0.0ms)
Completed 204 No Content in 18ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (5.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.602643"], ["email", "test@email.com"], ["password_digest", "$2a$04$ExrMBeR6fH0r/UPUPeeR8eRI8MFjiUTZtHM22u249coBfKJj5fzZK"], ["updated_at", "2014-12-09 07:06:54.602643"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '08a06e569053c083e5f49b7a0654788b' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "08a06e569053c083e5f49b7a0654788b"], ["reset_password_token_exp", "2014-12-09 15:06:54.606179"], ["updated_at", "2014-12-09 07:06:54.607569"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.6ms

Sent mail to test@email.com (2.9ms)
Date: Mon, 08 Dec 2014 23:06:54 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54869f8e95988_34753fc6a5463bf03041a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54869f8e9527e_34753fc6a5463bf030330";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54869f8e9527e_34753fc6a5463bf030330
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/08a06e569053c083e5f49b7a0654788b/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54869f8e9527e_34753fc6a5463bf030330
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/08a06e569053c083e5f49b7a0654788b/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54869f8e9527e_34753fc6a5463bf030330--

  Rendered text template (0.0ms)
Completed 204 No Content in 10ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.619993"], ["email", "test@email.com"], ["password_digest", "$2a$04$iDa/mh9JEJRblJ/vilS/dOZ1iEeXWZlYArTqq0AH/umIR76H8RtXu"], ["updated_at", "2014-12-09 07:06:54.619993"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 1.9ms

Sent mail to foo@bar.com (2.9ms)
Date: Mon, 08 Dec 2014 23:06:54 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54869f8e98a83_34753fc6a5463bf03063e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54869f8e98457_34753fc6a5463bf0305b6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54869f8e98457_34753fc6a5463bf0305b6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54869f8e98457_34753fc6a5463bf0305b6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54869f8e98457_34753fc6a5463bf0305b6--

  Rendered text template (0.1ms)
Completed 204 No Content in 6ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.643353"], ["email", "test@email.com"], ["password_digest", "$2a$04$tcYd.jBmLNrlwBKUF5K3KeYM40/./bvNeCQcfRSAQdl3Ql4DboV2u"], ["updated_at", "2014-12-09 07:06:54.643353"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '92dbdb5f2234c608349e493e2b82c8a0' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:06:54.674452"], ["expiration", "2014-12-10 07:06:54.676735"], ["key", "92dbdb5f2234c608349e493e2b82c8a0"], ["updated_at", "2014-12-09 07:06:54.674452"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.685083"], ["email", "test@email.com"], ["password_digest", "$2a$04$dDM4s2qu4dLOGR413WZMXOutK2Ls1vRwUcBbsMk9c/UM7iBwYH5PW"], ["updated_at", "2014-12-09 07:06:54.685083"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '32e3de4377b9cd07a9cd3574863f0150' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:06:54.690324"], ["expiration", "2014-12-10 07:06:54.691113"], ["key", "32e3de4377b9cd07a9cd3574863f0150"], ["updated_at", "2014-12-09 07:06:54.690324"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.699004"], ["email", "test@email.com"], ["password_digest", "$2a$04$uqDXAR/givq7fBiTEnFRQev14l2sAl21Hc3F5URtu1e1T5KAQL7Sa"], ["updated_at", "2014-12-09 07:06:54.699004"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.718821"], ["email", "test@email.com"], ["password_digest", "$2a$04$EpRMGfaV8PtrmQBT5v2/t.CFbRnEyaCnHLesv3xjjuYEOdFSObYQm"], ["updated_at", "2014-12-09 07:06:54.718821"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '27a3d290ac45c4eb5d013df10d3f0b82' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:06:54.724074"], ["expiration", "2014-12-10 07:06:54.728900"], ["key", "27a3d290ac45c4eb5d013df10d3f0b82"], ["updated_at", "2014-12-09 07:06:54.724074"], ["user_id", 1]]
  [1m[36m (1.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 19ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.750514"], ["email", "test@email.com"], ["password_digest", "$2a$04$BnjMu7ka3f6InPEruQAImemLTNfId9QAPLRcn//FyxkTnhKMdzyse"], ["updated_at", "2014-12-09 07:06:54.750514"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '01c7b026dba60e4569b9145b3f8bc287' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.751983"], ["expiration", "2014-12-10 07:06:54.753204"], ["key", "01c7b026dba60e4569b9145b3f8bc287"], ["updated_at", "2014-12-09 07:06:54.751983"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-12-09 07:01:54.754207"], ["updated_at", "2014-12-09 07:06:54.754617"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '01c7b026dba60e4569b9145b3f8bc287' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:06:54.769060"], ["email", "test@email.com"], ["password_digest", "$2a$04$VHkhwRFRgBZJ1HOBqvJnfu9Lq3YdQ.Yq0IId8Lc.bnuyMHv675jOG"], ["updated_at", "2014-12-09 07:06:54.769060"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ab2f40f42d3effe467676944abf7f9d7' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:06:54.771559"], ["expiration", "2014-12-10 07:06:54.772664"], ["key", "ab2f40f42d3effe467676944abf7f9d7"], ["updated_at", "2014-12-09 07:06:54.771559"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ab2f40f42d3effe467676944abf7f9d7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sessions" WHERE "sessions"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 8ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.788300"], ["email", "test@email.com"], ["password_digest", "$2a$04$bPif1PXYmJ7ZxCpWWDW1bOIRkLtkZwgv8ICWFBdHQvyzHbkxRtmPm"], ["updated_at", "2014-12-09 07:06:54.788300"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5dc6c860c5d87138db623176eb282812' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.789996"], ["expiration", "2014-12-10 07:06:54.790723"], ["key", "5dc6c860c5d87138db623176eb282812"], ["updated_at", "2014-12-09 07:06:54.789996"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-12-09 07:01:54.791634"], ["updated_at", "2014-12-09 07:06:54.791865"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '5dc6c860c5d87138db623176eb282812' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:06:54.817885"], ["email", "test"], ["password_digest", "$2a$04$/3SoBNrF21Gm6XfGyzlsp.ooHY1EHQg71thYZuHP9xsoDjYQnDi2S"], ["updated_at", "2014-12-09 07:06:54.817885"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.834192"], ["email", "test@email.com"], ["password_digest", "$2a$04$pgtoTUPJ8dDgD5YWQrKw8e4q/LOtYZinC1DzG.zfnh.sNw1LLMI8m"], ["updated_at", "2014-12-09 07:06:54.834192"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '14471f85301ef8d4335aa0a48be56f2c' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:06:54.835760"], ["expiration", "2014-12-10 07:06:54.840829"], ["key", "14471f85301ef8d4335aa0a48be56f2c"], ["updated_at", "2014-12-09 07:06:54.835760"], ["user_id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by UsersController#index as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '14471f85301ef8d4335aa0a48be56f2c' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:06:54 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.252241"], ["email", "test@email.com"], ["password_digest", "$2a$04$IouOQn/vzMtXUep3xhFiNucFEVPKeSEtTkk7NtDuJ5E.fLnlpQdyK"], ["updated_at", "2014-12-09 07:08:29.252241"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e4717af75adedce7aca4f5c60b7bf6c7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e4717af75adedce7aca4f5c60b7bf6c7"], ["reset_password_token_exp", "2014-12-09 15:08:29.263168"], ["updated_at", "2014-12-09 07:08:29.271161"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e4717af75adedce7aca4f5c60b7bf6c7/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e4717af75adedce7aca4f5c60b7bf6c7"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e4717af75adedce7aca4f5c60b7bf6c7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$bZM14UNdxD9loYMbyTivKOkxyQtBEhpH1o7/vk1W6.yePTD8./QqC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:08:29.307280"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 22ms (Views: 10.0ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.331877"], ["email", "test@email.com"], ["password_digest", "$2a$04$YL8H6RmpX/SQ3cjWAMhlBup66SyFRBsVM4To7BC4tTh8uXEnAC87C"], ["updated_at", "2014-12-09 07:08:29.331877"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7ee2e5869f3595fcd4ac8202bfbaf01b' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7ee2e5869f3595fcd4ac8202bfbaf01b"], ["reset_password_token_exp", "2014-12-09 15:08:29.334410"], ["updated_at", "2014-12-09 07:08:29.336236"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7ee2e5869f3595fcd4ac8202bfbaf01b/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7ee2e5869f3595fcd4ac8202bfbaf01b"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7ee2e5869f3595fcd4ac8202bfbaf01b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$JUj2nv3rPdubGp2D54pBxuF0/quQ2g6VhuNz5EunphaGH5dUPeGX2"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:08:29.342919"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/7ee2e5869f3595fcd4ac8202bfbaf01b/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7ee2e5869f3595fcd4ac8202bfbaf01b"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7ee2e5869f3595fcd4ac8202bfbaf01b' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:08:29.360057"], ["email", "test@email.com"], ["password_digest", "$2a$04$daUvrq3xD8cEzP/luvzDHu1FTTArbU3cGJVGfp4Z34vIF7EPmpuOG"], ["updated_at", "2014-12-09 07:08:29.360057"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a478266b1b3532d24c7f5c1e71444e38' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a478266b1b3532d24c7f5c1e71444e38"], ["reset_password_token_exp", "2014-12-09 15:08:29.366103"], ["updated_at", "2014-12-09 07:08:29.367531"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/a478266b1b3532d24c7f5c1e71444e38/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"a478266b1b3532d24c7f5c1e71444e38"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a478266b1b3532d24c7f5c1e71444e38' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 14ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.408873"], ["email", "test@email.com"], ["password_digest", "$2a$04$m5ocGoEsY.nPc7r4.5VH5eUd0LDZAdxT7F0E3Wj2aFmx7lfn9kNHa"], ["updated_at", "2014-12-09 07:08:29.408873"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fbae9793b1c05e12bce8728e314c931b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "fbae9793b1c05e12bce8728e314c931b"], ["reset_password_token_exp", "2014-12-09 15:08:29.411967"], ["updated_at", "2014-12-09 07:08:29.415097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.492975"], ["email", "test@email.com"], ["password_digest", "$2a$04$hgKOHVBX0wXJURkgNhm8Ue.zLon8TuRoQLjc8QMmLYudhI50Eojwq"], ["updated_at", "2014-12-09 07:08:29.492975"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8b9115a04a76ad5c40ac7627ba9d0f42' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "8b9115a04a76ad5c40ac7627ba9d0f42"], ["reset_password_token_exp", "2014-12-09 15:08:29.494854"], ["updated_at", "2014-12-09 07:08:29.497734"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/6d16abf05de15b4b7b6ad0a1332c6b12/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6d16abf05de15b4b7b6ad0a1332c6b12"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6d16abf05de15b4b7b6ad0a1332c6b12' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.506455"], ["email", "test@email.com"], ["password_digest", "$2a$04$MDyivO2R8qCcoBVBjsIDUO3kpSg1myM6RmNYp3ju2fxWSCGvQgWwC"], ["updated_at", "2014-12-09 07:08:29.506455"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '881f9f39a91e0b69e45e4f48723d80a3' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "881f9f39a91e0b69e45e4f48723d80a3"], ["reset_password_token_exp", "2014-12-09 15:08:29.510893"], ["updated_at", "2014-12-09 07:08:29.515164"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (13.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 337.4ms

Sent mail to test@email.com (12.2ms)
Date: Mon, 08 Dec 2014 23:08:29 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54869fedd5aae_34a73fd479833bf44141@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54869fedd3ae3_34a73fd479833bf440e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54869fedd3ae3_34a73fd479833bf440e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/881f9f39a91e0b69e45e4f48723d80a3/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54869fedd3ae3_34a73fd479833bf440e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/881f9f39a91e0b69e45e4f48723d80a3/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54869fedd3ae3_34a73fd479833bf440e--

  Rendered text template (0.0ms)
Completed 204 No Content in 373ms (Views: 0.6ms | ActiveRecord: 3.7ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.893300"], ["email", "test@email.com"], ["password_digest", "$2a$04$OiOqGRLsLVEqwsXw9Vdm6uI6tJHD5r7c0FGNnknYqKkYJuJBecmse"], ["updated_at", "2014-12-09 07:08:29.893300"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 8.9ms

Sent mail to foo@bar.com (4.1ms)
Date: Mon, 08 Dec 2014 23:08:29 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54869feddf31c_34a73fd479833bf443fe@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54869fedde966_34a73fd479833bf442f2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54869fedde966_34a73fd479833bf442f2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54869fedde966_34a73fd479833bf442f2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54869fedde966_34a73fd479833bf442f2--

  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.951799"], ["email", "test@email.com"], ["password_digest", "$2a$04$VrjzbTv5re2at01gqhzSleHS2Qcb2aw9ZPlqCHjoVe1xuS4GMTkn6"], ["updated_at", "2014-12-09 07:08:29.951799"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '574b913a2ec02cb0a1c69c3d0bba1d01' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "574b913a2ec02cb0a1c69c3d0bba1d01"], ["reset_password_token_exp", "2014-12-09 15:08:29.956836"], ["updated_at", "2014-12-09 07:08:29.958848"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 3.1ms

Sent mail to test@email.com (2.7ms)
Date: Mon, 08 Dec 2014 23:08:29 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54869fedeb7ad_34a73fd479833bf44566@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54869fedeaf16_34a73fd479833bf4448";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54869fedeaf16_34a73fd479833bf4448
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/574b913a2ec02cb0a1c69c3d0bba1d01/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54869fedeaf16_34a73fd479833bf4448
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/574b913a2ec02cb0a1c69c3d0bba1d01/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54869fedeaf16_34a73fd479833bf4448--

  Rendered text template (0.0ms)
Completed 204 No Content in 12ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.971843"], ["email", "test@email.com"], ["password_digest", "$2a$04$kzs78y8sKaFgq7xnwcPEOea7nmyCvaxkqxjq3pynAxq/B0reg9asG"], ["updated_at", "2014-12-09 07:08:29.971843"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.0ms

Sent mail to foo@bar.com (2.8ms)
Date: Mon, 08 Dec 2014 23:08:29 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54869fedeebdf_34a73fd479833bf447fd@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54869fedee5b3_34a73fd479833bf44679";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54869fedee5b3_34a73fd479833bf44679
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54869fedee5b3_34a73fd479833bf44679
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54869fedee5b3_34a73fd479833bf44679--

  Rendered text template (1.6ms)
Completed 204 No Content in 9ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:29.994113"], ["email", "test@email.com"], ["password_digest", "$2a$04$5nWZbq/J810DUsP1n5T4W.LwOX912amkw3h2Zvo2Mm9Vh.lxAVEvq"], ["updated_at", "2014-12-09 07:08:29.994113"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:08:29 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6ca5edcc63120e58da9ebbc259bfa09d' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:08:30.012656"], ["expiration", "2014-12-10 07:08:30.015999"], ["key", "6ca5edcc63120e58da9ebbc259bfa09d"], ["updated_at", "2014-12-09 07:08:30.012656"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 3.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.029618"], ["email", "test@email.com"], ["password_digest", "$2a$04$Pv1K1yUl0HwgWwelWVNEKevFjr8YOD3nDJb0pzHAcHSbTOWErfKm6"], ["updated_at", "2014-12-09 07:08:30.029618"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '793855a3df95a8945d6a21a4518030e2' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:08:30.035304"], ["expiration", "2014-12-10 07:08:30.036201"], ["key", "793855a3df95a8945d6a21a4518030e2"], ["updated_at", "2014-12-09 07:08:30.035304"], ["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.044856"], ["email", "test@email.com"], ["password_digest", "$2a$04$75MsGnf1zX5nXivhLGP0zeCYIlvUhwszam1bJXSo/lccdB2TDJYRy"], ["updated_at", "2014-12-09 07:08:30.044856"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 4ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.063384"], ["email", "test@email.com"], ["password_digest", "$2a$04$akTpzKXRHafdISnYBP1wYOqwUAUNTXeNYF8fMUfZMDHYIIKofn7Gy"], ["updated_at", "2014-12-09 07:08:30.063384"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '55a1fc2534c1fb0d5a2e6a7dd00e68b1' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:08:30.073224"], ["expiration", "2014-12-10 07:08:30.074490"], ["key", "55a1fc2534c1fb0d5a2e6a7dd00e68b1"], ["updated_at", "2014-12-09 07:08:30.073224"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 1.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.089719"], ["email", "test@email.com"], ["password_digest", "$2a$04$.YltIvJlaVnDefkSc8NrZu/J/qj8/tvb5l6vdScCdcf1shvXgIIei"], ["updated_at", "2014-12-09 07:08:30.089719"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4e0d6294c79b7741dd42c56721486b07' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.091916"], ["expiration", "2014-12-10 07:08:30.093353"], ["key", "4e0d6294c79b7741dd42c56721486b07"], ["updated_at", "2014-12-09 07:08:30.091916"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-12-09 07:03:30.095282"], ["updated_at", "2014-12-09 07:08:30.095739"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4e0d6294c79b7741dd42c56721486b07' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:08:30.112383"], ["email", "test@email.com"], ["password_digest", "$2a$04$NM0T/iz2mBW2bI1.0z36huzuYMkAqQqJjsRcxqbozRrWq5BH5Qd3q"], ["updated_at", "2014-12-09 07:08:30.112383"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '27bff3a85947ce41b847fd408c265552' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:08:30.114714"], ["expiration", "2014-12-10 07:08:30.115577"], ["key", "27bff3a85947ce41b847fd408c265552"], ["updated_at", "2014-12-09 07:08:30.114714"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.4ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '27bff3a85947ce41b847fd408c265552' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "sessions" WHERE "sessions"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 9ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.135710"], ["email", "test@email.com"], ["password_digest", "$2a$04$o/xELitUI7DVHOmkZOB9TOHgryuIap0Sz3qO8BrNHfJ3LL1lp0yRa"], ["updated_at", "2014-12-09 07:08:30.135710"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7694124398954b4ec0cd05d08eed13fa' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.137082"], ["expiration", "2014-12-10 07:08:30.137919"], ["key", "7694124398954b4ec0cd05d08eed13fa"], ["updated_at", "2014-12-09 07:08:30.137082"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-12-09 07:03:30.140209"], ["updated_at", "2014-12-09 07:08:30.140530"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7694124398954b4ec0cd05d08eed13fa' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:08:30.163268"], ["email", "test"], ["password_digest", "$2a$04$Dh.5iEBK6McUq1/oBM8czODizvrN97T5X6DQ0WqkRE57TRG.bT7au"], ["updated_at", "2014-12-09 07:08:30.163268"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.181712"], ["email", "test@email.com"], ["password_digest", "$2a$04$438K.R3dIrZjxCFcw7UyDOwc7sXK1qWrKa.9DkPA5BHHjcge4ZMKW"], ["updated_at", "2014-12-09 07:08:30.181712"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ddca84a6d6390e6271d7b3a446c08133' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:08:30.183836"], ["expiration", "2014-12-10 07:08:30.185435"], ["key", "ddca84a6d6390e6271d7b3a446c08133"], ["updated_at", "2014-12-09 07:08:30.183836"], ["user_id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by UsersController#index as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ddca84a6d6390e6271d7b3a446c08133' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:08:30 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.312518"], ["email", "test@email.com"], ["password_digest", "$2a$04$gUH/swt4EIFlUWI/bek0Ne9Wm0S7VtuZ7Yb42dbF17CrLtB8H7VCW"], ["updated_at", "2014-12-09 07:20:43.312518"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6e33b745a88904d94240f0a66863163d' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6e33b745a88904d94240f0a66863163d"], ["reset_password_token_exp", "2014-12-09 15:20:43.323816"], ["updated_at", "2014-12-09 07:20:43.327849"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/6e33b745a88904d94240f0a66863163d/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6e33b745a88904d94240f0a66863163d"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6e33b745a88904d94240f0a66863163d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$9VvrIH0QIKgjnPI8718uH.1Vqq0dNUM7EWzFsFYZjpstvhtNXet2m"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:20:43.366677"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 6.9ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.387922"], ["email", "test@email.com"], ["password_digest", "$2a$04$OgC9E1XEIj/yyU3Vqm3MNumpKyKEveitDJCj9AZE35m6rbrnyVXxO"], ["updated_at", "2014-12-09 07:20:43.387922"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4ff140be6106c829d01b39b959a3e69a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "4ff140be6106c829d01b39b959a3e69a"], ["reset_password_token_exp", "2014-12-09 15:20:43.390583"], ["updated_at", "2014-12-09 07:20:43.392063"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/4ff140be6106c829d01b39b959a3e69a/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"4ff140be6106c829d01b39b959a3e69a"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '4ff140be6106c829d01b39b959a3e69a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$QdPPItva8TPWxwNWeOp9PepFivD4Hfe1iSDJPV1UlEeBvFHl/RYn."], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:20:43.399873"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 6ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/4ff140be6106c829d01b39b959a3e69a/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"4ff140be6106c829d01b39b959a3e69a"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '4ff140be6106c829d01b39b959a3e69a' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:20:43.410639"], ["email", "test@email.com"], ["password_digest", "$2a$04$2JQSuCPKr3qNVlop01RwW.Aq1mUG4e9lHbiTsZ5Y/Uo3Mz1/F0f3m"], ["updated_at", "2014-12-09 07:20:43.410639"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b092373ed97cf6bd2a720098bd3d8cce' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b092373ed97cf6bd2a720098bd3d8cce"], ["reset_password_token_exp", "2014-12-09 15:20:43.412264"], ["updated_at", "2014-12-09 07:20:43.413522"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/b092373ed97cf6bd2a720098bd3d8cce/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"b092373ed97cf6bd2a720098bd3d8cce"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b092373ed97cf6bd2a720098bd3d8cce' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 14ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.440854"], ["email", "test@email.com"], ["password_digest", "$2a$04$0XwYiemv7eaZyzLa1Oqe6OsJkgZ1w4bEN9SGWy6QxOr28CBr3jxIu"], ["updated_at", "2014-12-09 07:20:43.440854"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '01d716874eee60ccb37268ab0f6c1836' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "01d716874eee60ccb37268ab0f6c1836"], ["reset_password_token_exp", "2014-12-09 15:20:43.445208"], ["updated_at", "2014-12-09 07:20:43.506429"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.526909"], ["email", "test@email.com"], ["password_digest", "$2a$04$v9/xsF4Ukky01QUBp8kDhO67oqqVpeZLgqyOZ6RE3LHS8Gw1Iy6IG"], ["updated_at", "2014-12-09 07:20:43.526909"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5949cb82f8dfeff293486f9a30569076' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5949cb82f8dfeff293486f9a30569076"], ["reset_password_token_exp", "2014-12-09 15:20:43.529691"], ["updated_at", "2014-12-09 07:20:43.531757"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/997855699bb6c56b67897101738f2c13/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"997855699bb6c56b67897101738f2c13"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '997855699bb6c56b67897101738f2c13' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.543521"], ["email", "test@email.com"], ["password_digest", "$2a$04$2nMdlWwEL56QygrgXLxa6.ETzwHKTaHhcNNCZ8.y5R2OlSciyYgiO"], ["updated_at", "2014-12-09 07:20:43.543521"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '42231ebb6de6a66e0ea0c7381cbca67a' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "42231ebb6de6a66e0ea0c7381cbca67a"], ["reset_password_token_exp", "2014-12-09 15:20:43.550890"], ["updated_at", "2014-12-09 07:20:43.555098"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 293.3ms

Sent mail to test@email.com (11.5ms)
Date: Mon, 08 Dec 2014 23:20:43 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a2cbd2e72_35683ff7a2463be04433b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a2cbd0a7e_35683ff7a2463be0442cc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a2cbd0a7e_35683ff7a2463be0442cc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/42231ebb6de6a66e0ea0c7381cbca67a/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a2cbd0a7e_35683ff7a2463be0442cc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/42231ebb6de6a66e0ea0c7381cbca67a/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a2cbd0a7e_35683ff7a2463be0442cc--

  Rendered text template (0.0ms)
Completed 204 No Content in 322ms (Views: 0.5ms | ActiveRecord: 1.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.874038"], ["email", "test@email.com"], ["password_digest", "$2a$04$5ljEzQE8ZLt4er/sobU77.rYpaWZiPZH66Ef2nIWw2258K1irZxUm"], ["updated_at", "2014-12-09 07:20:43.874038"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 13.8ms

Sent mail to foo@bar.com (6.0ms)
Date: Mon, 08 Dec 2014 23:20:43 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a2cbd9fcd_35683ff7a2463be0445d3@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a2cbd9468_35683ff7a2463be04448b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a2cbd9468_35683ff7a2463be04448b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a2cbd9468_35683ff7a2463be04448b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a2cbd9468_35683ff7a2463be04448b--

  Rendered text template (0.0ms)
Completed 204 No Content in 22ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.911792"], ["email", "test@email.com"], ["password_digest", "$2a$04$pLKryVynBDKjxAZxNTCmyeJTCIoYISCDUwdAHrdbR8o.dO4FrEin2"], ["updated_at", "2014-12-09 07:20:43.911792"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6f4134ad8bcae23acdefb548466ad13a' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6f4134ad8bcae23acdefb548466ad13a"], ["reset_password_token_exp", "2014-12-09 15:20:43.916041"], ["updated_at", "2014-12-09 07:20:43.917337"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 5.8ms

Sent mail to test@email.com (6.9ms)
Date: Mon, 08 Dec 2014 23:20:43 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a2cbe2328_35683ff7a2463be0447e5@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a2cbe14c7_35683ff7a2463be04467a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a2cbe14c7_35683ff7a2463be04467a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/6f4134ad8bcae23acdefb548466ad13a/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a2cbe14c7_35683ff7a2463be04467a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/6f4134ad8bcae23acdefb548466ad13a/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a2cbe14c7_35683ff7a2463be04467a--

  Rendered text template (0.1ms)
Completed 204 No Content in 19ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.944013"], ["email", "test@email.com"], ["password_digest", "$2a$04$pR96iraX5JNldnG5x5ooYuy7pBdOpHfxsDa5ZATnQwyxNTdvkPdli"], ["updated_at", "2014-12-09 07:20:43.944013"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.5ms

Sent mail to foo@bar.com (7.1ms)
Date: Mon, 08 Dec 2014 23:20:43 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a2cbeab5d_35683ff7a2463be044991@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a2cbe9613_35683ff7a2463be0448ea";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a2cbe9613_35683ff7a2463be0448ea
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a2cbe9613_35683ff7a2463be0448ea
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a2cbe9613_35683ff7a2463be0448ea--

  Rendered text template (0.0ms)
Completed 204 No Content in 16ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.975627"], ["email", "test@email.com"], ["password_digest", "$2a$04$JtmZ1.3vHcTMJDhIGAK0FuBAK1buJ8L92YTkuGzA2xrhsiOZNQhKO"], ["updated_at", "2014-12-09 07:20:43.975627"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:43.994595"], ["email", "test@email.com"], ["password_digest", "$2a$04$oji95Y7AZXfOXht/7Q9.9ui6Fr3NzPR/8ApPWSd5AqbX00G6liggW"], ["updated_at", "2014-12-09 07:20:43.994595"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:20:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 7ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:44.013556"], ["email", "test@email.com"], ["password_digest", "$2a$04$4/1APtoWHS2HcQ.yZ5WRqeAykKY7.JWogCkJMe1rfgkZBeqIDwWz2"], ["updated_at", "2014-12-09 07:20:44.013556"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:20:44 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 5ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:44.030397"], ["email", "test@email.com"], ["password_digest", "$2a$04$liHrwaI4tU8KUs0oaD26W.CwwlFaKO2Q8IATlMcP/K5tLrypvLm8C"], ["updated_at", "2014-12-09 07:20:44.030397"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:20:44 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:44.044528"], ["email", "test@email.com"], ["password_digest", "$2a$04$uF.KkxaPowlvddZ4uiT2DOXgkvtmeYDSgtg/Xwc/.TKg.i/PCSENu"], ["updated_at", "2014-12-09 07:20:44.044528"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:20:44.054965"], ["email", "test@email.com"], ["password_digest", "$2a$04$fVqwJQl9V31im4PXlkyuhOdm/dZHIEYw8BjeDPN3LuBbBbxkls41."], ["updated_at", "2014-12-09 07:20:44.054965"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:44.065716"], ["email", "test@email.com"], ["password_digest", "$2a$04$/RGbuQsR/YVkKtBBtsIfzeDpuJ7Uins1V0P81aCZurGpcLXURb7jS"], ["updated_at", "2014-12-09 07:20:44.065716"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:20:44 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:20:44.082353"], ["email", "test"], ["password_digest", "$2a$04$6W651Biui5trXi//9gWqIOpHQJhdDXk45i3OthOcRvFxn7Zmp5Swu"], ["updated_at", "2014-12-09 07:20:44.082353"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:20:44 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:20:44.109438"], ["email", "test@email.com"], ["password_digest", "$2a$04$JMmUnwI2Q/.u8KdANUKAT.BwxjzyOrkfPnn2Xy1qpJgSSG6uDNo32"], ["updated_at", "2014-12-09 07:20:44.109438"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:20:44 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:17.920521"], ["email", "test@email.com"], ["password_digest", "$2a$04$.VQKTCmNE9ZktfZrzRwJQeXPyDihEeHp0YRGh7X1L4Pb4AD45C9jy"], ["updated_at", "2014-12-09 07:21:17.920521"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (2.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6f9fc056ff211affc636a6b52184b298' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6f9fc056ff211affc636a6b52184b298"], ["reset_password_token_exp", "2014-12-09 15:21:17.935689"], ["updated_at", "2014-12-09 07:21:17.940130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/6f9fc056ff211affc636a6b52184b298/" for 127.0.0.1 at 2014-12-08 23:21:17 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6f9fc056ff211affc636a6b52184b298"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6f9fc056ff211affc636a6b52184b298' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$WvnOrN87Q69SDFEW/qrmIOgGgzIi7UYq0xIvik8U8D3aSE4wG4DkO"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:21:17.989467"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 36ms (Views: 8.1ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.007379"], ["email", "test@email.com"], ["password_digest", "$2a$04$08fQEIaHPbLQbkALYHHoceLcjB6J0l0RzyII4SHbVv5DogLZaPCj2"], ["updated_at", "2014-12-09 07:21:18.007379"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c4f36d77d1a5086654731f102ee27c6f' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c4f36d77d1a5086654731f102ee27c6f"], ["reset_password_token_exp", "2014-12-09 15:21:18.016050"], ["updated_at", "2014-12-09 07:21:18.021525"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/c4f36d77d1a5086654731f102ee27c6f/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c4f36d77d1a5086654731f102ee27c6f"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c4f36d77d1a5086654731f102ee27c6f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$B7VwN.UCQA4gyzTxX8UUNOziZqTt7dXE0jdKPye9YQKFkAivOhpqy"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:21:18.038657"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/c4f36d77d1a5086654731f102ee27c6f/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c4f36d77d1a5086654731f102ee27c6f"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c4f36d77d1a5086654731f102ee27c6f' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:21:18.051166"], ["email", "test@email.com"], ["password_digest", "$2a$04$/nUqcxl0.4S8nJMrwRHQc.iDo8Vv4GAizzPe7taCPGxiV3HZoo2V2"], ["updated_at", "2014-12-09 07:21:18.051166"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '342e72f5b52f7ee79f58110b81bb02a8' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "342e72f5b52f7ee79f58110b81bb02a8"], ["reset_password_token_exp", "2014-12-09 15:21:18.052534"], ["updated_at", "2014-12-09 07:21:18.054954"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/342e72f5b52f7ee79f58110b81bb02a8/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"342e72f5b52f7ee79f58110b81bb02a8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '342e72f5b52f7ee79f58110b81bb02a8' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 17ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.084191"], ["email", "test@email.com"], ["password_digest", "$2a$04$tB7aI3yLuGrZnWwYSj6se.qs1HrMqUWcQBn9xJzaDxDUiMBE0k2Qe"], ["updated_at", "2014-12-09 07:21:18.084191"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a1e5b266af913de11dda0ee01aa682d4' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a1e5b266af913de11dda0ee01aa682d4"], ["reset_password_token_exp", "2014-12-09 15:21:18.085910"], ["updated_at", "2014-12-09 07:21:18.142189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.153436"], ["email", "test@email.com"], ["password_digest", "$2a$04$Zu5zV3ccnJX9TyRotdHd2OUYS2edUWsWwtAaBdh8fgwDWdczE0bTG"], ["updated_at", "2014-12-09 07:21:18.153436"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1ff88874e979f33a39c535e16f86555b' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "1ff88874e979f33a39c535e16f86555b"], ["reset_password_token_exp", "2014-12-09 15:21:18.155776"], ["updated_at", "2014-12-09 07:21:18.156918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d2bf6606364d0d0258b60cf64b30a8d4/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d2bf6606364d0d0258b60cf64b30a8d4"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd2bf6606364d0d0258b60cf64b30a8d4' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.188719"], ["email", "test@email.com"], ["password_digest", "$2a$04$hOoxRFL7XxMW/PTo0UojeOyOOmH7bMiRF29LnJyRYGy32Av.xjnUm"], ["updated_at", "2014-12-09 07:21:18.188719"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8b6299d26de3fd7113176f2644b8592e' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8b6299d26de3fd7113176f2644b8592e"], ["reset_password_token_exp", "2014-12-09 15:21:18.196823"], ["updated_at", "2014-12-09 07:21:18.199567"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 310.6ms

Sent mail to test@email.com (9.1ms)
Date: Mon, 08 Dec 2014 23:21:18 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a2ee7f6c9_358a3fe1a5065bf093179@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a2ee7e0d6_358a3fe1a5065bf0930e8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a2ee7e0d6_358a3fe1a5065bf0930e8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/8b6299d26de3fd7113176f2644b8592e/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a2ee7e0d6_358a3fe1a5065bf0930e8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/8b6299d26de3fd7113176f2644b8592e/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a2ee7e0d6_358a3fe1a5065bf0930e8--

  Rendered text template (0.0ms)
Completed 204 No Content in 335ms (Views: 2.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.552665"], ["email", "test@email.com"], ["password_digest", "$2a$04$XR8bVFufBFUeucHhBfw7j.CooiyQz/7WZqp0E3YQ/TnMWMTwzzBqW"], ["updated_at", "2014-12-09 07:21:18.552665"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 10.9ms

Sent mail to foo@bar.com (17.6ms)
Date: Mon, 08 Dec 2014 23:21:18 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a2ee8f53b_358a3fe1a5065bf0933c1@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a2ee8ed46_358a3fe1a5065bf093274";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a2ee8ed46_358a3fe1a5065bf093274
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a2ee8ed46_358a3fe1a5065bf093274
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a2ee8ed46_358a3fe1a5065bf093274--

  Rendered text template (0.2ms)
Completed 204 No Content in 41ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.622232"], ["email", "test@email.com"], ["password_digest", "$2a$04$MeDv.lV.giu4uF.16FmCB.fcQGtmk/rZnf2yFK7mcZekDreI11sJe"], ["updated_at", "2014-12-09 07:21:18.622232"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'feda5d4cc4180da286bf206eaaa2de5a' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "feda5d4cc4180da286bf206eaaa2de5a"], ["reset_password_token_exp", "2014-12-09 15:21:18.626508"], ["updated_at", "2014-12-09 07:21:18.632381"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.9ms

Sent mail to test@email.com (5.5ms)
Date: Mon, 08 Dec 2014 23:21:18 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a2ee9c6cf_358a3fe1a5065bf093596@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a2ee9bfb7_358a3fe1a5065bf093464";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a2ee9bfb7_358a3fe1a5065bf093464
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/feda5d4cc4180da286bf206eaaa2de5a/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a2ee9bfb7_358a3fe1a5065bf093464
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/feda5d4cc4180da286bf206eaaa2de5a/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a2ee9bfb7_358a3fe1a5065bf093464--

  Rendered text template (0.1ms)
Completed 204 No Content in 22ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.652260"], ["email", "test@email.com"], ["password_digest", "$2a$04$va4DApglLJwZd0Y0QE8mHedvvQZDG7pVDeCtjVxpa27A8B3aSGbJG"], ["updated_at", "2014-12-09 07:21:18.652260"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.3ms

Sent mail to foo@bar.com (3.3ms)
Date: Mon, 08 Dec 2014 23:21:18 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a2eea11ae_358a3fe1a5065bf093793@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a2eea0860_358a3fe1a5065bf09369c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a2eea0860_358a3fe1a5065bf09369c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a2eea0860_358a3fe1a5065bf09369c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a2eea0860_358a3fe1a5065bf09369c--

  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.669637"], ["email", "test@email.com"], ["password_digest", "$2a$04$CVCnV6nfHCaILWGP88Q3guCHFCbUAfo2RamQfEQOStQ.lb79uLdIS"], ["updated_at", "2014-12-09 07:21:18.669637"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '3160c0a0e4f2ed7900da61ce2b579d9b' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:21:18.714161"], ["expiration", "2014-12-10 07:21:18.718049"], ["key", "3160c0a0e4f2ed7900da61ce2b579d9b"], ["updated_at", "2014-12-09 07:21:18.714161"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 26ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.727571"], ["email", "test@email.com"], ["password_digest", "$2a$04$UREOt7uTInvYx51KIN4RMeDf.Qy8LVULFCT.pYpEkY0kk.4K//b4G"], ["updated_at", "2014-12-09 07:21:18.727571"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5f7d8611bdc3c6363b5a9f0eb524df3a' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:21:18.739617"], ["expiration", "2014-12-10 07:21:18.746636"], ["key", "5f7d8611bdc3c6363b5a9f0eb524df3a"], ["updated_at", "2014-12-09 07:21:18.739617"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 24ms
  [1m[35m (3.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.778664"], ["email", "test@email.com"], ["password_digest", "$2a$04$RLW1jU5vvJW7hyfe.wr/F.eRTLgE3bsnB61QgXwcmY1e.o98FtUGW"], ["updated_at", "2014-12-09 07:21:18.778664"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.802808"], ["email", "test@email.com"], ["password_digest", "$2a$04$T/x70v9.ERR2K7s8wosxX.nfTSiKHxYFV5vppB9vcQxzjv5LxoJNG"], ["updated_at", "2014-12-09 07:21:18.802808"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (6.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'dd5b3f21a665b4366ba9cfe6d2ce8979' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:21:18.825359"], ["expiration", "2014-12-10 07:21:18.827299"], ["key", "dd5b3f21a665b4366ba9cfe6d2ce8979"], ["updated_at", "2014-12-09 07:21:18.825359"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 20ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.868485"], ["email", "test@email.com"], ["password_digest", "$2a$04$4jjh7x5H0UgW/FpXf3IHVeYc.UclLtpgx8h2WnZOHhnxtEtAMvvaq"], ["updated_at", "2014-12-09 07:21:18.868485"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.3ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '64bbac64881c68478478701f09af6700' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.874665"], ["expiration", "2014-12-10 07:21:18.891584"], ["key", "64bbac64881c68478478701f09af6700"], ["updated_at", "2014-12-09 07:21:18.874665"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-12-09 07:16:18.899020"], ["updated_at", "2014-12-09 07:21:18.900047"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '64bbac64881c68478478701f09af6700' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:21:18.914459"], ["email", "test@email.com"], ["password_digest", "$2a$04$c/ma4nHnNGXywC77k3ZkHOx1lWTMgFB29mTEqRZ.CMyHWru2P.RL6"], ["updated_at", "2014-12-09 07:21:18.914459"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a81246388c51eb87b942238539dd164b' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:21:18.918103"], ["expiration", "2014-12-10 07:21:18.918787"], ["key", "a81246388c51eb87b942238539dd164b"], ["updated_at", "2014-12-09 07:21:18.918103"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a81246388c51eb87b942238539dd164b' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sessions" WHERE "sessions"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.937720"], ["email", "test@email.com"], ["password_digest", "$2a$04$OnrJkq.pg7XOCXkJXletI.8bhZ2IK.3bGcQWEta/fiqQry5PIVgzW"], ["updated_at", "2014-12-09 07:21:18.937720"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7ba55821da269ad6379e7fa94692994b' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.939355"], ["expiration", "2014-12-10 07:21:18.939969"], ["key", "7ba55821da269ad6379e7fa94692994b"], ["updated_at", "2014-12-09 07:21:18.939355"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-12-09 07:16:18.940812"], ["updated_at", "2014-12-09 07:21:18.941077"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.3ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7ba55821da269ad6379e7fa94692994b' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:21:18.968374"], ["email", "test"], ["password_digest", "$2a$04$X1NhNhztRWtxNDEed5gw/OQtQV4VpwWapl0X3g6B5JOD65P49sbOu"], ["updated_at", "2014-12-09 07:21:18.968374"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 2.8ms | ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.993395"], ["email", "test@email.com"], ["password_digest", "$2a$04$Vr5rOokj7Lf.7UrW9V1aFOSe0A3.S2d5E3EYifPg2zBQRMMo5ME7."], ["updated_at", "2014-12-09 07:21:18.993395"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '2cbad86dfe15c6ffab2579eacb9d295b' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:21:18.995102"], ["expiration", "2014-12-10 07:21:18.995724"], ["key", "2cbad86dfe15c6ffab2579eacb9d295b"], ["updated_at", "2014-12-09 07:21:18.995102"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:21:18 -0800
Processing by UsersController#index as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '2cbad86dfe15c6ffab2579eacb9d295b' LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 15ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:21:19 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:26.713765"], ["email", "test@email.com"], ["password_digest", "$2a$04$rZnji93QnWlLj6XjBNwG.egy0aKb4G.F8j6PWHrHRg.x/75H0mL8i"], ["updated_at", "2014-12-09 07:23:26.713765"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2f62cbef5287ac62a0e581b11e2e5db8' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2f62cbef5287ac62a0e581b11e2e5db8"], ["reset_password_token_exp", "2014-12-09 15:23:26.728006"], ["updated_at", "2014-12-09 07:23:26.731294"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2f62cbef5287ac62a0e581b11e2e5db8/" for 127.0.0.1 at 2014-12-08 23:23:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2f62cbef5287ac62a0e581b11e2e5db8"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2f62cbef5287ac62a0e581b11e2e5db8' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$HPSn2MO9nuNQieZsRimboemgHoxSN7Yc05pZYcU3rwjtr1v3517KG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:23:26.770889"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 40ms (Views: 15.8ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:26.799025"], ["email", "test@email.com"], ["password_digest", "$2a$04$78t4/tdk6RtI/BpzFuYXPe1T3O61KVjUK88JngT1HQA036h4kfHfu"], ["updated_at", "2014-12-09 07:23:26.799025"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ee63cd731a99378a0288c34e81f8b4e1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ee63cd731a99378a0288c34e81f8b4e1"], ["reset_password_token_exp", "2014-12-09 15:23:26.806092"], ["updated_at", "2014-12-09 07:23:26.809198"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/ee63cd731a99378a0288c34e81f8b4e1/" for 127.0.0.1 at 2014-12-08 23:23:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"ee63cd731a99378a0288c34e81f8b4e1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ee63cd731a99378a0288c34e81f8b4e1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$EiGMuBwjsGkIQj1iWsqpD./sk5SRir0zcbyFgDYosGQVtIeqll34e"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:23:26.816453"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/ee63cd731a99378a0288c34e81f8b4e1/" for 127.0.0.1 at 2014-12-08 23:23:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"ee63cd731a99378a0288c34e81f8b4e1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'ee63cd731a99378a0288c34e81f8b4e1' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:26.825035"], ["email", "test@email.com"], ["password_digest", "$2a$04$L3oSDt37Q7YwA50LhUQyjOD33b1nMb5S9o2EKZUSKalF0Og1IMq4G"], ["updated_at", "2014-12-09 07:23:26.825035"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9c811bf0db00453a84b767931af5b3a9' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9c811bf0db00453a84b767931af5b3a9"], ["reset_password_token_exp", "2014-12-09 15:23:26.826492"], ["updated_at", "2014-12-09 07:23:26.827632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/9c811bf0db00453a84b767931af5b3a9/" for 127.0.0.1 at 2014-12-08 23:23:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"9c811bf0db00453a84b767931af5b3a9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9c811bf0db00453a84b767931af5b3a9' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 11ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:26.852141"], ["email", "test@email.com"], ["password_digest", "$2a$04$uWUKS0/iTsWldRkAEf2T/.d.1AccKmW1a/60utio8WOrtqMyG0WXG"], ["updated_at", "2014-12-09 07:23:26.852141"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2ebb30e92073a087ae399035d1683641' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2ebb30e92073a087ae399035d1683641"], ["reset_password_token_exp", "2014-12-09 15:23:26.860519"], ["updated_at", "2014-12-09 07:23:26.863223"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:23:26 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:26.874716"], ["email", "test@email.com"], ["password_digest", "$2a$04$gUwREaNwNx68PNX9NQhUjOOQ3hBcbHmmwerxJAcPwDRpCXZPJIWaK"], ["updated_at", "2014-12-09 07:23:26.874716"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '92dcaa908baa65af1ddb4cc7278ca165' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "92dcaa908baa65af1ddb4cc7278ca165"], ["reset_password_token_exp", "2014-12-09 15:23:26.935730"], ["updated_at", "2014-12-09 07:23:26.943566"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/209d9289f018521a75b984038e3ccee5/" for 127.0.0.1 at 2014-12-08 23:23:26 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"209d9289f018521a75b984038e3ccee5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '209d9289f018521a75b984038e3ccee5' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:26.953399"], ["email", "test@email.com"], ["password_digest", "$2a$04$kkR4sRdryJvHhtiX0ePao.xxU4MvWyk9J/jcyt5kCBWBK1tjuh0WO"], ["updated_at", "2014-12-09 07:23:26.953399"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:23:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a94cf9f5c42a8cfddd103a559c47aeee' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a94cf9f5c42a8cfddd103a559c47aeee"], ["reset_password_token_exp", "2014-12-09 15:23:26.957466"], ["updated_at", "2014-12-09 07:23:26.960037"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (4.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 257.6ms

Sent mail to test@email.com (12.9ms)
Date: Mon, 08 Dec 2014 23:23:27 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a36f39426_35be3fe402463be4810b6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a36f35a45_35be3fe402463be4809a7";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a36f35a45_35be3fe402463be4809a7
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/a94cf9f5c42a8cfddd103a559c47aeee/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a36f35a45_35be3fe402463be4809a7
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/a94cf9f5c42a8cfddd103a559c47aeee/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a36f35a45_35be3fe402463be4809a7--

  Rendered text template (0.0ms)
Completed 204 No Content in 283ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.244301"], ["email", "test@email.com"], ["password_digest", "$2a$04$3kFsd8Ox6W4fR2VLVImQtuAKvgxIhHKGprI6q2K2yq3m6CQOUX4nS"], ["updated_at", "2014-12-09 07:23:27.244301"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 14.0ms

Sent mail to foo@bar.com (20.7ms)
Date: Mon, 08 Dec 2014 23:23:27 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a36f44330_35be3fe402463be481222@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a36f3f040_35be3fe402463be481183";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a36f3f040_35be3fe402463be481183
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a36f3f040_35be3fe402463be481183
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a36f3f040_35be3fe402463be481183--

  Rendered text template (0.0ms)
Completed 204 No Content in 36ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.295691"], ["email", "test@email.com"], ["password_digest", "$2a$04$b23zLgYa1JRtHjh5CWlOPujQJbIadDrrNgmIzeHxE2gOBYxVyRPaq"], ["updated_at", "2014-12-09 07:23:27.295691"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7c53da4e7723f12b65508077748cfdbe' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7c53da4e7723f12b65508077748cfdbe"], ["reset_password_token_exp", "2014-12-09 15:23:27.301311"], ["updated_at", "2014-12-09 07:23:27.304602"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 3.0ms

Sent mail to test@email.com (2.8ms)
Date: Mon, 08 Dec 2014 23:23:27 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a36f4d17f_35be3fe402463be4814b0@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a36f4ca13_35be3fe402463be481321";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a36f4ca13_35be3fe402463be481321
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/7c53da4e7723f12b65508077748cfdbe/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a36f4ca13_35be3fe402463be481321
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/7c53da4e7723f12b65508077748cfdbe/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a36f4ca13_35be3fe402463be481321--

  Rendered text template (0.0ms)
Completed 204 No Content in 20ms (Views: 0.3ms | ActiveRecord: 3.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.324020"], ["email", "test@email.com"], ["password_digest", "$2a$04$WfccNDk2RaY6MjMJCoYGveupk2yy1Rvgs9u7da1Y9gEjammsBfBo6"], ["updated_at", "2014-12-09 07:23:27.324020"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.9ms

Sent mail to foo@bar.com (3.6ms)
Date: Mon, 08 Dec 2014 23:23:27 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a36f50e66_35be3fe402463be481682@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a36f502d1_35be3fe402463be4815bf";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a36f502d1_35be3fe402463be4815bf
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a36f502d1_35be3fe402463be4815bf
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a36f502d1_35be3fe402463be4815bf--

  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.339653"], ["email", "test@email.com"], ["password_digest", "$2a$04$wTqb.qKP8VZQUZuq44XdWeLjngAsD7gRyvdvhfjA5tkONctRTDS.G"], ["updated_at", "2014-12-09 07:23:27.339653"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd5db36f4e2cd054a07ac63224fb8e9fa' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.370031"], ["expiration", "2014-12-10 07:23:27.372945"], ["key", "d5db36f4e2cd054a07ac63224fb8e9fa"], ["updated_at", "2014-12-09 07:23:27.370031"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 50ms (Views: 21.5ms | ActiveRecord: 1.0ms)
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.405107"], ["email", "test@email.com"], ["password_digest", "$2a$04$8AXmoRAXFF8Yz.dwaU17PuzXemR4ZFrgafrEfZgpSH3Kn8hH0ElvS"], ["updated_at", "2014-12-09 07:23:27.405107"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f9dc3b8a04d648b6476797de0eabca98' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.411150"], ["expiration", "2014-12-10 07:23:27.411907"], ["key", "f9dc3b8a04d648b6476797de0eabca98"], ["updated_at", "2014-12-09 07:23:27.411150"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 8ms (Views: 2.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.438587"], ["email", "test@email.com"], ["password_digest", "$2a$04$F2phFvcWvjCkQTUAPVj94ueeNaeykfXas2sAXQaIUI0UbFam6jOhS"], ["updated_at", "2014-12-09 07:23:27.438587"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 6ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.455652"], ["email", "test@email.com"], ["password_digest", "$2a$04$WwYDsYk9qvQgKy2gD7968eNsA1D54c7nNHqhXDnQaqTrIXuIubxw."], ["updated_at", "2014-12-09 07:23:27.455652"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6cc1cf38008b4db590e488fed32683de' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.460738"], ["expiration", "2014-12-10 07:23:27.461627"], ["key", "6cc1cf38008b4db590e488fed32683de"], ["updated_at", "2014-12-09 07:23:27.460738"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.483434"], ["email", "test@email.com"], ["password_digest", "$2a$04$tAN9uQ6xAipYTM7NnOVwg.jOxK.Bzb/FfMuGNaZjZ4A5DGCMGOuFy"], ["updated_at", "2014-12-09 07:23:27.483434"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'db95044ba7ed29ec45a3e5f3af47abd0' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.485307"], ["expiration", "2014-12-10 07:23:27.486205"], ["key", "db95044ba7ed29ec45a3e5f3af47abd0"], ["updated_at", "2014-12-09 07:23:27.485307"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:18:27.488676"], ["updated_at", "2014-12-09 07:23:27.489204"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'db95044ba7ed29ec45a3e5f3af47abd0' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.498051"], ["email", "test@email.com"], ["password_digest", "$2a$04$vpcjHd43qpvrkY.nlUUVHeY8wWYKoWhe0pn9AUv/MKAtUknrti.Ay"], ["updated_at", "2014-12-09 07:23:27.498051"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7a40f18817673a8341349a188cff19fb' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.500876"], ["expiration", "2014-12-10 07:23:27.501804"], ["key", "7a40f18817673a8341349a188cff19fb"], ["updated_at", "2014-12-09 07:23:27.500876"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7a40f18817673a8341349a188cff19fb' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.511614"], ["email", "test@email.com"], ["password_digest", "$2a$04$pzJtpa0L.0J5cTcfmP0vNunKlBY3QdbI7YxmIqp.SYMAi00wjg9fi"], ["updated_at", "2014-12-09 07:23:27.511614"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd2be9f657468afa658272b09414e3320' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.512966"], ["expiration", "2014-12-10 07:23:27.513548"], ["key", "d2be9f657468afa658272b09414e3320"], ["updated_at", "2014-12-09 07:23:27.512966"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:18:27.514375"], ["updated_at", "2014-12-09 07:23:27.514797"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd2be9f657468afa658272b09414e3320' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:23:27.538516"], ["email", "test"], ["password_digest", "$2a$04$4dC0PuLm5vkCzjK29P3TG.QKtivbb4Y6bnYlWhXO4BYy2Fur7wClS"], ["updated_at", "2014-12-09 07:23:27.538516"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 9ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 11ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.564760"], ["email", "test@email.com"], ["password_digest", "$2a$04$MvxM71HSPc.0GVtU7bauvuOanSKVv7x5uYvDWELP26OJorxHr6d5a"], ["updated_at", "2014-12-09 07:23:27.564760"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4307732a45e7a472e2668d9799a3c750' LIMIT 1[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:23:27.565969"], ["expiration", "2014-12-10 07:23:27.566517"], ["key", "4307732a45e7a472e2668d9799a3c750"], ["updated_at", "2014-12-09 07:23:27.565969"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4307732a45e7a472e2668d9799a3c750' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:23:27 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:54.463302"], ["email", "test@email.com"], ["password_digest", "$2a$04$r.DAfktQpsDI4m2olPcM7eHoZCTPipZHT12fjhPQPk7rjrLoDYx8O"], ["updated_at", "2014-12-09 07:39:54.463302"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8f9dcb9505b70926f1db21cd7f07bd88' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "8f9dcb9505b70926f1db21cd7f07bd88"], ["reset_password_token_exp", "2014-12-09 15:39:54.480431"], ["updated_at", "2014-12-09 07:39:54.487029"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/8f9dcb9505b70926f1db21cd7f07bd88/" for 127.0.0.1 at 2014-12-08 23:39:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"8f9dcb9505b70926f1db21cd7f07bd88"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8f9dcb9505b70926f1db21cd7f07bd88' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$uB8v8BCUfubILK0ipSYu8uWxemfxVz8f5NxomsyupGWrIDcCHbdrK"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:39:54.527935"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 23ms (Views: 8.3ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:54.544871"], ["email", "test@email.com"], ["password_digest", "$2a$04$U8WBurPCAXxMpKgzI/ei9ebtgQaM6Rvc/z3e5JiwtluptKDRs6vTa"], ["updated_at", "2014-12-09 07:39:54.544871"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5ef8459bcbe52992f4326c956747b0e7' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5ef8459bcbe52992f4326c956747b0e7"], ["reset_password_token_exp", "2014-12-09 15:39:54.546234"], ["updated_at", "2014-12-09 07:39:54.547297"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/5ef8459bcbe52992f4326c956747b0e7/" for 127.0.0.1 at 2014-12-08 23:39:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"5ef8459bcbe52992f4326c956747b0e7"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5ef8459bcbe52992f4326c956747b0e7' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$LEft2mu9wORtGa5/9dZvu.RHlCx2kXylk4RHzitFuN0zwwWf511sW"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:39:54.553576"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/5ef8459bcbe52992f4326c956747b0e7/" for 127.0.0.1 at 2014-12-08 23:39:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"5ef8459bcbe52992f4326c956747b0e7"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5ef8459bcbe52992f4326c956747b0e7' LIMIT 1
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 6ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:39:54.573159"], ["email", "test@email.com"], ["password_digest", "$2a$04$RC8W7hPghKC1OnD0RVf31.k3j0Lh3pDYCfge0.EotkJx55lpkC8w."], ["updated_at", "2014-12-09 07:39:54.573159"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0c98fef71bc52179bf59c31b4ee9435a' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "0c98fef71bc52179bf59c31b4ee9435a"], ["reset_password_token_exp", "2014-12-09 15:39:54.575138"], ["updated_at", "2014-12-09 07:39:54.577453"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/0c98fef71bc52179bf59c31b4ee9435a/" for 127.0.0.1 at 2014-12-08 23:39:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"0c98fef71bc52179bf59c31b4ee9435a"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0c98fef71bc52179bf59c31b4ee9435a' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 19ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:54.610644"], ["email", "test@email.com"], ["password_digest", "$2a$04$gcro/mZp6GbH.cOB4Rdxk.jJOv0fxqob4eCY2YuKpPefa2g8pG.QS"], ["updated_at", "2014-12-09 07:39:54.610644"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0da69ae93dee0ee368c143d232f32314' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0da69ae93dee0ee368c143d232f32314"], ["reset_password_token_exp", "2014-12-09 15:39:54.613916"], ["updated_at", "2014-12-09 07:39:54.694589"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:39:54 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:54.705635"], ["email", "test@email.com"], ["password_digest", "$2a$04$yZULd3Tk0QNvvnsrRyp5VuQI5Z.9htVGoH1bmDdT6p3xPH3jFg6Dy"], ["updated_at", "2014-12-09 07:39:54.705635"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bb33a9c460959814f8305ca0ad165b79' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "bb33a9c460959814f8305ca0ad165b79"], ["reset_password_token_exp", "2014-12-09 15:39:54.707346"], ["updated_at", "2014-12-09 07:39:54.709140"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/088219987d8719895564669f9b4ca67d/" for 127.0.0.1 at 2014-12-08 23:39:54 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"088219987d8719895564669f9b4ca67d"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '088219987d8719895564669f9b4ca67d' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:54.716945"], ["email", "test@email.com"], ["password_digest", "$2a$04$cSDOkP4saHwH4BP.9jK9Ze1MqrqdIcugaF3tbNelfg9chtG783g3q"], ["updated_at", "2014-12-09 07:39:54.716945"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:39:54 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c6c4533eb828f9cbacbc0db3b63cf277' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c6c4533eb828f9cbacbc0db3b63cf277"], ["reset_password_token_exp", "2014-12-09 15:39:54.720511"], ["updated_at", "2014-12-09 07:39:54.722965"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 336.9ms

Sent mail to test@email.com (24.2ms)
Date: Mon, 08 Dec 2014 23:39:55 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a74b15330_36b13fcb9d063be8155a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a74b11a30_36b13fcb9d063be81546b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a74b11a30_36b13fcb9d063be81546b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/c6c4533eb828f9cbacbc0db3b63cf277/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a74b11a30_36b13fcb9d063be81546b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/c6c4533eb828f9cbacbc0db3b63cf277/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a74b11a30_36b13fcb9d063be81546b--

  Rendered text template (0.0ms)
Completed 204 No Content in 379ms (Views: 0.3ms | ActiveRecord: 2.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.105010"], ["email", "test@email.com"], ["password_digest", "$2a$04$T/HchXmUwC63cLOGHehFSOlnnQW9AK8xalOnoDZpdnd.VEjGd7Qqy"], ["updated_at", "2014-12-09 07:39:55.105010"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 6.7ms

Sent mail to foo@bar.com (5.6ms)
Date: Mon, 08 Dec 2014 23:39:55 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a74b1cd47_36b13fcb9d063be8157e9@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a74b1c4e6_36b13fcb9d063be815664";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a74b1c4e6_36b13fcb9d063be815664
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a74b1c4e6_36b13fcb9d063be815664
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a74b1c4e6_36b13fcb9d063be815664--

  Rendered text template (0.0ms)
Completed 204 No Content in 15ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.162615"], ["email", "test@email.com"], ["password_digest", "$2a$04$OkFp5KoapGN4FOFNOsKDJ.oV6mE8.LXFipQw.LsPLvg0p3AsaMs6m"], ["updated_at", "2014-12-09 07:39:55.162615"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e21dbceb7c89c91dfc3f2fbd8c4caeea' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e21dbceb7c89c91dfc3f2fbd8c4caeea"], ["reset_password_token_exp", "2014-12-09 15:39:55.166821"], ["updated_at", "2014-12-09 07:39:55.168356"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.0ms

Sent mail to test@email.com (13.0ms)
Date: Mon, 08 Dec 2014 23:39:55 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a74b2b2aa_36b13fcb9d063be8159a6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a74b29cfe_36b13fcb9d063be81582a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a74b29cfe_36b13fcb9d063be81582a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/e21dbceb7c89c91dfc3f2fbd8c4caeea/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a74b29cfe_36b13fcb9d063be81582a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/e21dbceb7c89c91dfc3f2fbd8c4caeea/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a74b29cfe_36b13fcb9d063be81582a--

  Rendered text template (0.0ms)
Completed 204 No Content in 20ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.193140"], ["email", "test@email.com"], ["password_digest", "$2a$04$45GU.RPDnWRuCvqeEaToIuNoLQ7pObtsSZcuZlGceXrRU7.NARN2q"], ["updated_at", "2014-12-09 07:39:55.193140"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.0ms

Sent mail to foo@bar.com (6.5ms)
Date: Mon, 08 Dec 2014 23:39:55 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a74b31539_36b13fcb9d063be8161ce@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a74b30e93_36b13fcb9d063be81605a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a74b30e93_36b13fcb9d063be81605a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a74b30e93_36b13fcb9d063be81605a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a74b30e93_36b13fcb9d063be81605a--

  Rendered text template (0.0ms)
Completed 204 No Content in 11ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.217087"], ["email", "test@email.com"], ["password_digest", "$2a$04$PrSwUcOEFzUS4ro/QxhUo.VxjK9Cg0tdovffFDfcHotkmlNbkA53y"], ["updated_at", "2014-12-09 07:39:55.217087"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 7ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.243183"], ["email", "test@email.com"], ["password_digest", "$2a$04$JJjwV4GpqSYS5vhSgDsxGeGHBl6HQD2JmCt4vF5ViNKK7Sv3y.IfK"], ["updated_at", "2014-12-09 07:39:55.243183"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.266060"], ["email", "test@email.com"], ["password_digest", "$2a$04$jkEs/o4/8KVXh5oymIs0XOQDqwCW.CWELBfIUmbiPXI3BJrNS4/zW"], ["updated_at", "2014-12-09 07:39:55.266060"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.282707"], ["email", "test@email.com"], ["password_digest", "$2a$04$ikqjySM8rqqlZzXm9yyE0ezzHLM30hTP5CNsEkcZAGntusQjZCHUa"], ["updated_at", "2014-12-09 07:39:55.282707"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 6ms
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.303353"], ["email", "test@email.com"], ["password_digest", "$2a$04$BkZq4tZgiA3EvFVBxt2zEuXi9LoYOODHijB0FZLCnrmHsAI3Gaiwi"], ["updated_at", "2014-12-09 07:39:55.303353"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:39:55.325563"], ["email", "test@email.com"], ["password_digest", "$2a$04$q1/MjULrX0WiJ29M6lHW8Oa6rQXPOFb0Psz5NpfToN6FvSmV/WX1O"], ["updated_at", "2014-12-09 07:39:55.325563"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (8.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.350664"], ["email", "test@email.com"], ["password_digest", "$2a$04$iEJSj83N1zDMZIXNNgkd.OOdiTI10Ns2Qd4WzIxTI0omSYHVX.vdi"], ["updated_at", "2014-12-09 07:39:55.350664"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:39:55.370360"], ["email", "test"], ["password_digest", "$2a$04$rSHf9zCKem3y3.bnX/Eqm.gcXmvrbkIfJ5FhT0sfuZNszP26pSrJ2"], ["updated_at", "2014-12-09 07:39:55.370360"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:39:55.390936"], ["email", "test@email.com"], ["password_digest", "$2a$04$sLGErie57EZzPLdlRKF/RuDFyyb.gMnCYbYSCDRD3xb6mCn6gmh6a"], ["updated_at", "2014-12-09 07:39:55.390936"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:39:55 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.214946"], ["email", "test@email.com"], ["password_digest", "$2a$04$WK2rJc6f4kKI8P.Y4t8CM.SL6o4xMYPt88yAo0/pMspnd8aGrG1R6"], ["updated_at", "2014-12-09 07:41:38.214946"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '529b657f9dc9486218f1f37d4ad36d17' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "529b657f9dc9486218f1f37d4ad36d17"], ["reset_password_token_exp", "2014-12-09 15:41:38.222097"], ["updated_at", "2014-12-09 07:41:38.224541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/529b657f9dc9486218f1f37d4ad36d17/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"529b657f9dc9486218f1f37d4ad36d17"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '529b657f9dc9486218f1f37d4ad36d17' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$pE/t1VwONY5RBJmTswZAvOa7dWhAvTu.RTC3nuBtSXI1X2lln3KPe"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:41:38.265356"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 25ms (Views: 8.1ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.285297"], ["email", "test@email.com"], ["password_digest", "$2a$04$DA9XWLHUf6Mqdb8Jhvr/v.k59FuohQc19steFz3nYcOgCDQP0IUxy"], ["updated_at", "2014-12-09 07:41:38.285297"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '80c8d6d89ea7be37eb6a067240c413e6' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "80c8d6d89ea7be37eb6a067240c413e6"], ["reset_password_token_exp", "2014-12-09 15:41:38.286747"], ["updated_at", "2014-12-09 07:41:38.287775"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/80c8d6d89ea7be37eb6a067240c413e6/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"80c8d6d89ea7be37eb6a067240c413e6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '80c8d6d89ea7be37eb6a067240c413e6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$EFsFFmImYXgA1Nx5nqEWSOo1wbM6WOs1kvg08A8kD0v/WRA3F8Ogq"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:41:38.293804"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/80c8d6d89ea7be37eb6a067240c413e6/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"80c8d6d89ea7be37eb6a067240c413e6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '80c8d6d89ea7be37eb6a067240c413e6' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:41:38.301769"], ["email", "test@email.com"], ["password_digest", "$2a$04$MR7sFNHHJNcvQpEHu5//R.dD3uFEudppLjzqB2kB4LWsy.vb2B7zu"], ["updated_at", "2014-12-09 07:41:38.301769"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6d9bc6c30fb4d5d5ad357f4d31311a5d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6d9bc6c30fb4d5d5ad357f4d31311a5d"], ["reset_password_token_exp", "2014-12-09 15:41:38.303796"], ["updated_at", "2014-12-09 07:41:38.306421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/6d9bc6c30fb4d5d5ad357f4d31311a5d/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"6d9bc6c30fb4d5d5ad357f4d31311a5d"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6d9bc6c30fb4d5d5ad357f4d31311a5d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 19ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.340495"], ["email", "test@email.com"], ["password_digest", "$2a$04$iSpQP26iqkCx1jb41aGLjeT8w9yobMnEe5MscTgCIAKX6IlyJDIOG"], ["updated_at", "2014-12-09 07:41:38.340495"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8d75f2ac6c3db9d0cd989f5552843a38' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "8d75f2ac6c3db9d0cd989f5552843a38"], ["reset_password_token_exp", "2014-12-09 15:41:38.343540"], ["updated_at", "2014-12-09 07:41:38.418486"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.431577"], ["email", "test@email.com"], ["password_digest", "$2a$04$bF4P4MV42YAMhBgD9NNeeehlv8lu1XVFKTF8SHpkkmKsn5ATijKla"], ["updated_at", "2014-12-09 07:41:38.431577"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '483e09834c0918cf5ea2c685593a6401' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "483e09834c0918cf5ea2c685593a6401"], ["reset_password_token_exp", "2014-12-09 15:41:38.439546"], ["updated_at", "2014-12-09 07:41:38.442349"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/dee44ff0c9b494787ba40a3843bc0446/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"dee44ff0c9b494787ba40a3843bc0446"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dee44ff0c9b494787ba40a3843bc0446' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.452057"], ["email", "test@email.com"], ["password_digest", "$2a$04$XGgInYHkQPyKZs9AT5yRU.J3mzsO4TigkrfpS8JHAOyLdFrUvjw.G"], ["updated_at", "2014-12-09 07:41:38.452057"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'dc20f49200c67fbfab92b1a6171642b4' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "dc20f49200c67fbfab92b1a6171642b4"], ["reset_password_token_exp", "2014-12-09 15:41:38.456281"], ["updated_at", "2014-12-09 07:41:38.457445"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (4.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 348.9ms

Sent mail to test@email.com (18.5ms)
Date: Mon, 08 Dec 2014 23:41:38 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a7b2c94cc_36e13fc3b8c65be047788@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a7b2c599b_36e13fc3b8c65be0476e4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a7b2c599b_36e13fc3b8c65be0476e4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/dc20f49200c67fbfab92b1a6171642b4/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a7b2c599b_36e13fc3b8c65be0476e4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/dc20f49200c67fbfab92b1a6171642b4/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a7b2c599b_36e13fc3b8c65be0476e4--

  Rendered text template (0.0ms)
Completed 204 No Content in 376ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.837319"], ["email", "test@email.com"], ["password_digest", "$2a$04$lARwvPAKHmPm9r.3iOMNBOM/0ANO4piPbtj2s1w4jBMAPXDyJCDuS"], ["updated_at", "2014-12-09 07:41:38.837319"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 13.1ms

Sent mail to foo@bar.com (3.7ms)
Date: Mon, 08 Dec 2014 23:41:38 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a7b2d0c07_36e13fc3b8c65be047960@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a7b2cfcc8_36e13fc3b8c65be0478e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a7b2cfcc8_36e13fc3b8c65be0478e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a7b2cfcc8_36e13fc3b8c65be0478e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a7b2cfcc8_36e13fc3b8c65be0478e--

  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 0.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.874810"], ["email", "test@email.com"], ["password_digest", "$2a$04$NmJvdt9wcGHlBivP8jdYcODTWu.SO6BcjTIhtITPDeZw5BqTGtnta"], ["updated_at", "2014-12-09 07:41:38.874810"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '126d5ca31a803c95817a313844c00b7e' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "126d5ca31a803c95817a313844c00b7e"], ["reset_password_token_exp", "2014-12-09 15:41:38.879665"], ["updated_at", "2014-12-09 07:41:38.882850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 21.3ms

Sent mail to test@email.com (7.9ms)
Date: Mon, 08 Dec 2014 23:41:38 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a7b2de544_36e13fc3b8c65be0481f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a7b2dd097_36e13fc3b8c65be0480eb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a7b2dd097_36e13fc3b8c65be0480eb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/126d5ca31a803c95817a313844c00b7e/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a7b2dd097_36e13fc3b8c65be0480eb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/126d5ca31a803c95817a313844c00b7e/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a7b2dd097_36e13fc3b8c65be0480eb--

  Rendered text template (0.0ms)
Completed 204 No Content in 36ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.921720"], ["email", "test@email.com"], ["password_digest", "$2a$04$UzTgcRkbLI97UfnHJ2WImu7Vl3BWrX8CMiKPgGE7zOjv3.yB/YpMK"], ["updated_at", "2014-12-09 07:41:38.921720"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.8ms

Sent mail to foo@bar.com (12.3ms)
Date: Mon, 08 Dec 2014 23:41:38 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a7b2e3728_36e13fc3b8c65be048394@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a7b2e2b11_36e13fc3b8c65be048236";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a7b2e2b11_36e13fc3b8c65be048236
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a7b2e2b11_36e13fc3b8c65be048236
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a7b2e2b11_36e13fc3b8c65be048236--

  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.949364"], ["email", "test@email.com"], ["password_digest", "$2a$04$Qwsvaa3rsa9JcHv12LltV.MOjNAxU6wazN8uXMMC6.SlXZvqvjD1y"], ["updated_at", "2014-12-09 07:41:38.949364"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6026b1fd18a3f68c99b929e82d7102aa' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:41:38.968700"], ["expiration", "2014-12-10 07:41:38.970801"], ["key", "6026b1fd18a3f68c99b929e82d7102aa"], ["updated_at", "2014-12-09 07:41:38.968700"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:38.987530"], ["email", "test@email.com"], ["password_digest", "$2a$04$juXsjQOVLINkf1Iw8MpxquAmwWlEzdm/vI.9XoPswc4m0ifdMFKdi"], ["updated_at", "2014-12-09 07:41:38.987530"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:41:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '84df008bc2bfac999799aaaf85051330' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:41:38.995776"], ["expiration", "2014-12-10 07:41:38.996919"], ["key", "84df008bc2bfac999799aaaf85051330"], ["updated_at", "2014-12-09 07:41:38.995776"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:39.005489"], ["email", "test@email.com"], ["password_digest", "$2a$04$szrbYcYF1tpgG7hlvT.GP.LYTLosTZ.HtGABcEwqSpFeqLbdeUttO"], ["updated_at", "2014-12-09 07:41:39.005489"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:39.039080"], ["email", "test@email.com"], ["password_digest", "$2a$04$QWhbDDTMSL6iLzPAib6JOuTbt4s4QTS1TjBzomHYYlnA7qBhDZ2Jm"], ["updated_at", "2014-12-09 07:41:39.039080"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '8df3462686f0cf1c27b91a9adb004b48' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:41:39.047433"], ["expiration", "2014-12-10 07:41:39.048561"], ["key", "8df3462686f0cf1c27b91a9adb004b48"], ["updated_at", "2014-12-09 07:41:39.047433"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:39.071533"], ["email", "test@email.com"], ["password_digest", "$2a$04$w4tJzyCPGNuwtLBtpeKv4.wJs.2OSwoK1S/v/PUVPivGSBarueVdu"], ["updated_at", "2014-12-09 07:41:39.071533"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '36c7766bc8f1fb3492982780c2078e48' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:39.073433"], ["expiration", "2014-12-10 07:41:39.077848"], ["key", "36c7766bc8f1fb3492982780c2078e48"], ["updated_at", "2014-12-09 07:41:39.073433"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-12-09 07:36:39.081304"], ["updated_at", "2014-12-09 07:41:39.085452"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by SessionsController#show as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '36c7766bc8f1fb3492982780c2078e48' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:41:39.111581"], ["email", "test@email.com"], ["password_digest", "$2a$04$xYpL.e65BtyFfPcG1ArCduQHzj5HIfwO54aXxjXpnDW.PTIloKxiW"], ["updated_at", "2014-12-09 07:41:39.111581"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'eff238827b0a28ebb8a61b7cb15d637e' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:41:39.117054"], ["expiration", "2014-12-10 07:41:39.118200"], ["key", "eff238827b0a28ebb8a61b7cb15d637e"], ["updated_at", "2014-12-09 07:41:39.117054"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'eff238827b0a28ebb8a61b7cb15d637e' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "sessions" WHERE "sessions"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 7ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:39.134789"], ["email", "test@email.com"], ["password_digest", "$2a$04$K98UyBqQrr7xIs24C67izeh0oT2WXXGBMDs9RwZ3r5vAFjk8cbyOW"], ["updated_at", "2014-12-09 07:41:39.134789"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '661015d3ba1c39965c96377dda3ba813' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:39.136477"], ["expiration", "2014-12-10 07:41:39.137211"], ["key", "661015d3ba1c39965c96377dda3ba813"], ["updated_at", "2014-12-09 07:41:39.136477"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1  [["expiration", "2014-12-09 07:36:39.138358"], ["updated_at", "2014-12-09 07:41:39.138716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '661015d3ba1c39965c96377dda3ba813' LIMIT 1
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:41:39.172859"], ["email", "test"], ["password_digest", "$2a$04$l8K53QxywWEdR8rBAGaNb.mxjuJG8wy/8fH7lDKduohhX7ipUPCPm"], ["updated_at", "2014-12-09 07:41:39.172859"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 28ms (Views: 1.0ms | ActiveRecord: 2.0ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:39.212612"], ["email", "test@email.com"], ["password_digest", "$2a$04$Dha0q8V.VT0KboLX3Fc28eoQ8YHpTcpwzhLyploaCsz2Z4jA/tzwK"], ["updated_at", "2014-12-09 07:41:39.212612"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1cfe0f63baaa07ecc3ed564b55558cac' LIMIT 1
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:41:39.216673"], ["expiration", "2014-12-10 07:41:39.218890"], ["key", "1cfe0f63baaa07ecc3ed564b55558cac"], ["updated_at", "2014-12-09 07:41:39.216673"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by UsersController#index as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1cfe0f63baaa07ecc3ed564b55558cac' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:41:39 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:39.989805"], ["email", "test@email.com"], ["password_digest", "$2a$04$LxMGswVgApX.45GA42VQWOlOeSzWP3sRRwsqHJSLM8dv80BBMCFSO"], ["updated_at", "2014-12-09 07:42:39.989805"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '911fa4527821ee8df4c4fef96e046dab' LIMIT 1[0m
  [1m[35m (2.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "911fa4527821ee8df4c4fef96e046dab"], ["reset_password_token_exp", "2014-12-09 15:42:40.053469"], ["updated_at", "2014-12-09 07:42:40.067073"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/911fa4527821ee8df4c4fef96e046dab/" for 127.0.0.1 at 2014-12-08 23:42:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"911fa4527821ee8df4c4fef96e046dab"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '911fa4527821ee8df4c4fef96e046dab' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$/7c7WJlXEzytrJoZU/h.Ge.RfmtUvOUelBmYZw734YUZbXoPMQnC6"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:42:40.105271"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 27ms (Views: 9.1ms | ActiveRecord: 2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:40.125111"], ["email", "test@email.com"], ["password_digest", "$2a$04$Ek1OuikiTU9/VThH1dQO2e5twZ3c6gzzaeJa0pG983r41QJRUEjhm"], ["updated_at", "2014-12-09 07:42:40.125111"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c2afdd638800d707c204b086a0894423' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c2afdd638800d707c204b086a0894423"], ["reset_password_token_exp", "2014-12-09 15:42:40.127573"], ["updated_at", "2014-12-09 07:42:40.137658"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/c2afdd638800d707c204b086a0894423/" for 127.0.0.1 at 2014-12-08 23:42:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c2afdd638800d707c204b086a0894423"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c2afdd638800d707c204b086a0894423' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$SlXewF2SwkVW16XTnBPNQ.1e0mDUu4JWpVxw3xtBDbIjaKLK5xZZy"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:42:40.175988"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 14ms (Views: 0.5ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/c2afdd638800d707c204b086a0894423/" for 127.0.0.1 at 2014-12-08 23:42:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"c2afdd638800d707c204b086a0894423"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c2afdd638800d707c204b086a0894423' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:40.228962"], ["email", "test@email.com"], ["password_digest", "$2a$04$1KaTbE/cO3O9ouXjyVwl5e4VmAUMZVST3LNlbJe4CWmrfUU9/hWiC"], ["updated_at", "2014-12-09 07:42:40.228962"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3050525f41574db2de59ba460c30e5f0' LIMIT 1
  [1m[36m (2.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3050525f41574db2de59ba460c30e5f0"], ["reset_password_token_exp", "2014-12-09 15:42:40.232390"], ["updated_at", "2014-12-09 07:42:40.237468"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/3050525f41574db2de59ba460c30e5f0/" for 127.0.0.1 at 2014-12-08 23:42:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"3050525f41574db2de59ba460c30e5f0"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3050525f41574db2de59ba460c30e5f0' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 28ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:40.282535"], ["email", "test@email.com"], ["password_digest", "$2a$04$3mZA/ghZW82JQQaGrQAnDelzR6Iddl.rWpKUiEbZRy.k/lsrCQJo6"], ["updated_at", "2014-12-09 07:42:40.282535"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c1de942959d62a8861f48e51a01b0f99' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "c1de942959d62a8861f48e51a01b0f99"], ["reset_password_token_exp", "2014-12-09 15:42:40.294815"], ["updated_at", "2014-12-09 07:42:40.418668"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:42:40 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:40.448250"], ["email", "test@email.com"], ["password_digest", "$2a$04$ctSoW1vfuQA.O6WlyWJSNOvCU6Ozhq0xGPkBCxlYAn1O0aerB/z4W"], ["updated_at", "2014-12-09 07:42:40.448250"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6c8447d242174669700f143b9241db35' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6c8447d242174669700f143b9241db35"], ["reset_password_token_exp", "2014-12-09 15:42:40.453423"], ["updated_at", "2014-12-09 07:42:40.458968"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0ebb5775a35f59d88cab2d9191ae91c4/" for 127.0.0.1 at 2014-12-08 23:42:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0ebb5775a35f59d88cab2d9191ae91c4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0ebb5775a35f59d88cab2d9191ae91c4' LIMIT 1[0m
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:40.498881"], ["email", "test@email.com"], ["password_digest", "$2a$04$Ns4L4Ugz.U5ez4.Dqigj.eu8S1k5HFQd6c/z3xua4IGjSTx42wBlC"], ["updated_at", "2014-12-09 07:42:40.498881"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:42:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '80039f3a8deaea7d33d402805af907aa' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "80039f3a8deaea7d33d402805af907aa"], ["reset_password_token_exp", "2014-12-09 15:42:40.548536"], ["updated_at", "2014-12-09 07:42:40.572306"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (4.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 318.8ms

Sent mail to test@email.com (23.5ms)
Date: Mon, 08 Dec 2014 23:42:40 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a7f0e4f7d_37063fd69a063be023919@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a7f0e01cd_37063fd69a063be02382";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a7f0e01cd_37063fd69a063be02382
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/80039f3a8deaea7d33d402805af907aa/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a7f0e01cd_37063fd69a063be02382
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/80039f3a8deaea7d33d402805af907aa/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a7f0e01cd_37063fd69a063be02382--

  Rendered text template (0.0ms)
Completed 204 No Content in 442ms (Views: 4.1ms | ActiveRecord: 1.5ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:40.957229"], ["email", "test@email.com"], ["password_digest", "$2a$04$cFPeiwuv4AAg8syr35y58OoaOpfvXNdJ5mW5psSUxST4kbkJzFUWq"], ["updated_at", "2014-12-09 07:42:40.957229"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:42:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 21.5ms

Sent mail to foo@bar.com (5.9ms)
Date: Mon, 08 Dec 2014 23:42:40 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a7f0f1f49_37063fd69a063be02413b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a7f0ee736_37063fd69a063be024049";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a7f0ee736_37063fd69a063be024049
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a7f0ee736_37063fd69a063be024049
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a7f0ee736_37063fd69a063be024049--

  Rendered text template (0.1ms)
Completed 204 No Content in 37ms (Views: 2.6ms | ActiveRecord: 2.6ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.080159"], ["email", "test@email.com"], ["password_digest", "$2a$04$GKHLmOgAC3Mvh6JlmjRJU.apkMjuTETqzZXf2PtlzmDw4xXlAHzS."], ["updated_at", "2014-12-09 07:42:41.080159"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3ef0e2d88a7ec2da803cc4ff34beff29' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3ef0e2d88a7ec2da803cc4ff34beff29"], ["reset_password_token_exp", "2014-12-09 15:42:41.087922"], ["updated_at", "2014-12-09 07:42:41.089971"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 18.3ms

Sent mail to test@email.com (6.9ms)
Date: Mon, 08 Dec 2014 23:42:41 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a7f11bd73_37063fd69a063be0243e5@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a7f117207_37063fd69a063be02424";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a7f117207_37063fd69a063be02424
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/3ef0e2d88a7ec2da803cc4ff34beff29/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a7f117207_37063fd69a063be02424
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/3ef0e2d88a7ec2da803cc4ff34beff29/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a7f117207_37063fd69a063be02424--

  Rendered text template (0.1ms)
Completed 204 No Content in 35ms (Views: 0.7ms | ActiveRecord: 1.2ms)
  [1m[35m (3.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.130256"], ["email", "test@email.com"], ["password_digest", "$2a$04$W9bNUCpywePGa6q0rDdzfu3mFpJ2W8e0dD4.gF.oBEUS5F8B76Z9q"], ["updated_at", "2014-12-09 07:42:41.130256"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.2ms

Sent mail to foo@bar.com (31.6ms)
Date: Mon, 08 Dec 2014 23:42:41 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a7f12677e_37063fd69a063be02453b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a7f121023_37063fd69a063be02448d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a7f121023_37063fd69a063be02448d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a7f121023_37063fd69a063be02448d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a7f121023_37063fd69a063be02448d--

  Rendered text template (0.0ms)
Completed 204 No Content in 42ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[35m (11.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.217026"], ["email", "test@email.com"], ["password_digest", "$2a$04$b3TFvsBN8DB5GXl3vrip8O3eai7K3Plgi/U4Et.bfjTIwtuA3dsvq"], ["updated_at", "2014-12-09 07:42:41.217026"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b5dbee6b9018e4446c6c9de1d08f2f75' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:41.290589"], ["expiration", "2014-12-10 07:42:41.294446"], ["key", "b5dbee6b9018e4446c6c9de1d08f2f75"], ["updated_at", "2014-12-09 07:42:41.290589"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 55ms (Views: 14.7ms | ActiveRecord: 1.8ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:41.341560"], ["email", "test@email.com"], ["password_digest", "$2a$04$Ro.di7n0I5PEH8w5Z7bF.uTE4BO95OpmVadypmaWiN2.9YOtdLTpe"], ["updated_at", "2014-12-09 07:42:41.341560"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.4ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ecde71c6773eab429768b4ff3ca10719' LIMIT 1
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.365395"], ["expiration", "2014-12-10 07:42:41.368224"], ["key", "ecde71c6773eab429768b4ff3ca10719"], ["updated_at", "2014-12-09 07:42:41.365395"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 74ms (Views: 39.1ms | ActiveRecord: 4.7ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.447889"], ["email", "test@email.com"], ["password_digest", "$2a$04$uYrVoaLYoNF8CTOc6RYoCuiLcWsOa60lqsaTkH/j2ISvIE83bLjLC"], ["updated_at", "2014-12-09 07:42:41.447889"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 41ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (5.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.539838"], ["email", "test@email.com"], ["password_digest", "$2a$04$MvkXypMmSZ.Bg0o/G3IAfuzyWQKYa5HRf.zLFJEsPohTgMpmzRuUK"], ["updated_at", "2014-12-09 07:42:41.539838"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ea9f13eb2c8ea2c55c2acd934073c89b' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:41.581337"], ["expiration", "2014-12-10 07:42:41.583485"], ["key", "ea9f13eb2c8ea2c55c2acd934073c89b"], ["updated_at", "2014-12-09 07:42:41.581337"], ["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 52ms (Views: 8.5ms | ActiveRecord: 2.6ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (1.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (3.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:41.694001"], ["email", "test@email.com"], ["password_digest", "$2a$04$ggb3Xnevbx3LtDPNQmvJ0ez1Df5DiYDeJlc9Pl3jD9PgLw.GCwnJe"], ["updated_at", "2014-12-09 07:42:41.694001"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ae72be47cdb54eecaec1930cde0bfe9c' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:41.697075"], ["expiration", "2014-12-10 07:42:41.698795"], ["key", "ae72be47cdb54eecaec1930cde0bfe9c"], ["updated_at", "2014-12-09 07:42:41.697075"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:37:41.700729"], ["updated_at", "2014-12-09 07:42:41.701160"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ae72be47cdb54eecaec1930cde0bfe9c' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (9.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.739853"], ["email", "test@email.com"], ["password_digest", "$2a$04$pjZXCxdL7wNOL7Xe6sEUuef47KsQMJcLG0vyA4qE0CxBzh4bVM3Fe"], ["updated_at", "2014-12-09 07:42:41.739853"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.4ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'bd3df31ce8a329d076727bb59d567e0f' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.741750"], ["expiration", "2014-12-10 07:42:41.744138"], ["key", "bd3df31ce8a329d076727bb59d567e0f"], ["updated_at", "2014-12-09 07:42:41.741750"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'bd3df31ce8a329d076727bb59d567e0f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 29ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (15.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:41.841302"], ["email", "test@email.com"], ["password_digest", "$2a$04$cBpDWk7CWWGkssc1iWLnW./.IwGC9mkRMPfk6.5YIeb80ryTFftty"], ["updated_at", "2014-12-09 07:42:41.841302"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7428ccd1dc97ca249049993b5c5f5c07' LIMIT 1[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:41.859460"], ["expiration", "2014-12-10 07:42:41.863809"], ["key", "7428ccd1dc97ca249049993b5c5f5c07"], ["updated_at", "2014-12-09 07:42:41.859460"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:37:41.870858"], ["updated_at", "2014-12-09 07:42:41.874483"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7428ccd1dc97ca249049993b5c5f5c07' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:42:41.945183"], ["email", "test"], ["password_digest", "$2a$04$yEsyuwBWMwQF2Y3Szdm8Yu/5TTdPI/QRwTnMzXYiLneR498vttkGO"], ["updated_at", "2014-12-09 07:42:41.945183"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 35ms (Views: 2.7ms | ActiveRecord: 0.9ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:42:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (25.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 43ms (Views: 1.6ms | ActiveRecord: 26.3ms)
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (8.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:42.012400"], ["email", "test@email.com"], ["password_digest", "$2a$04$lMDtl.1a566aSFgfMm.HXuFQyZ4GAB/fDQ7Tiada04ABkAV1zAavu"], ["updated_at", "2014-12-09 07:42:42.012400"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'dea618a632576fd09adddd921971acdb' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:42:42.036974"], ["expiration", "2014-12-10 07:42:42.039868"], ["key", "dea618a632576fd09adddd921971acdb"], ["updated_at", "2014-12-09 07:42:42.036974"], ["user_id", 1]]
  [1m[36m (2.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:42:42 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'dea618a632576fd09adddd921971acdb' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 17ms (Views: 5.8ms | ActiveRecord: 0.5ms)
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:42:42 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:35.468812"], ["email", "test@email.com"], ["password_digest", "$2a$04$zi.zStAUITj3LZ.CPq1JOeKzVWFfUf7Aec1keq6yimJWhSPc3OV3q"], ["updated_at", "2014-12-09 07:43:35.468812"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2e28d2ff66b9925ef7c6bd1e1728a926' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2e28d2ff66b9925ef7c6bd1e1728a926"], ["reset_password_token_exp", "2014-12-09 15:43:35.482052"], ["updated_at", "2014-12-09 07:43:35.485003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2e28d2ff66b9925ef7c6bd1e1728a926/" for 127.0.0.1 at 2014-12-08 23:43:35 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2e28d2ff66b9925ef7c6bd1e1728a926"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2e28d2ff66b9925ef7c6bd1e1728a926' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$00lfAxQjBiTkPIIgKr/C3OxFsDZc.4H/znHVifBrWSQdTVuL2..1i"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:43:35.534397"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 22ms (Views: 8.6ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:35.552035"], ["email", "test@email.com"], ["password_digest", "$2a$04$WET03frGVMZv4FSDlODMg.CW.FNAwcN5RHjRApve5cO1dl5xDFIye"], ["updated_at", "2014-12-09 07:43:35.552035"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0caae91d844503032646c56b7e3a3bff' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (10.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0caae91d844503032646c56b7e3a3bff"], ["reset_password_token_exp", "2014-12-09 15:43:35.554183"], ["updated_at", "2014-12-09 07:43:35.577711"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0caae91d844503032646c56b7e3a3bff/" for 127.0.0.1 at 2014-12-08 23:43:35 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0caae91d844503032646c56b7e3a3bff"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0caae91d844503032646c56b7e3a3bff' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$T2wDBnfs/ZhU1Ux1K1R.U.FlccuInSJcagtPbkF3keEpu/DLP3TGG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:43:35.612801"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 11ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/0caae91d844503032646c56b7e3a3bff/" for 127.0.0.1 at 2014-12-08 23:43:35 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0caae91d844503032646c56b7e3a3bff"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0caae91d844503032646c56b7e3a3bff' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:35.638541"], ["email", "test@email.com"], ["password_digest", "$2a$04$Q2bngrIvcBnj7BMm.dTc4eq9LxNiYSANq93e4SYpMcY35Csf.sqVC"], ["updated_at", "2014-12-09 07:43:35.638541"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'fead21609e2200b48334961a1ab7a17f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "fead21609e2200b48334961a1ab7a17f"], ["reset_password_token_exp", "2014-12-09 15:43:35.698439"], ["updated_at", "2014-12-09 07:43:35.710630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/fead21609e2200b48334961a1ab7a17f/" for 127.0.0.1 at 2014-12-08 23:43:35 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"fead21609e2200b48334961a1ab7a17f"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'fead21609e2200b48334961a1ab7a17f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 44ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (11.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:35.802351"], ["email", "test@email.com"], ["password_digest", "$2a$04$fOGntnjeIb2IyBnPuYU03.OaWIiaSf9YjCoO4o3oz5KnqOkvHHEny"], ["updated_at", "2014-12-09 07:43:35.802351"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '414c5bb25169c19c1bd9e7c40738b428' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "414c5bb25169c19c1bd9e7c40738b428"], ["reset_password_token_exp", "2014-12-09 15:43:35.805185"], ["updated_at", "2014-12-09 07:43:35.941879"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:43:35 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:35.956653"], ["email", "test@email.com"], ["password_digest", "$2a$04$Dr5RRyhj/px4l.kyNiAv8.85VZkavxyaDaLDfyMUFBi7yFo8LTOf2"], ["updated_at", "2014-12-09 07:43:35.956653"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ee24983c2d95460becdf45ef61477f2d' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ee24983c2d95460becdf45ef61477f2d"], ["reset_password_token_exp", "2014-12-09 15:43:35.965203"], ["updated_at", "2014-12-09 07:43:35.972706"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2e7c25a0b445adfe478e0582ead7fce2/" for 127.0.0.1 at 2014-12-08 23:43:35 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2e7c25a0b445adfe478e0582ead7fce2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2e7c25a0b445adfe478e0582ead7fce2' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 7ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:36.037963"], ["email", "test@email.com"], ["password_digest", "$2a$04$JARpvG1cFiDa8G4bSdrQYesVX.NJ4JyWCXcGLBljsboAeX.eATylS"], ["updated_at", "2014-12-09 07:43:36.037963"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:43:36 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '259f2672294502762c1125b2d80d61e3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "259f2672294502762c1125b2d80d61e3"], ["reset_password_token_exp", "2014-12-09 15:43:36.090355"], ["updated_at", "2014-12-09 07:43:36.095560"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 354.6ms

Sent mail to test@email.com (11.2ms)
Date: Mon, 08 Dec 2014 23:43:36 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a82871834_37293ffba5c63be0527fd@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a8286f65b_37293ffba5c63be052679";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a8286f65b_37293ffba5c63be052679
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/259f2672294502762c1125b2d80d61e3/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a8286f65b_37293ffba5c63be052679
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/259f2672294502762c1125b2d80d61e3/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a8286f65b_37293ffba5c63be052679--

  Rendered text template (0.0ms)
Completed 204 No Content in 381ms (Views: 0.3ms | ActiveRecord: 3.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:36.475089"], ["email", "test@email.com"], ["password_digest", "$2a$04$y2pjyCn2LpkaUphPcbbgC.fwTAXZId0jXjHxz8ERLBHbykSc8lg.e"], ["updated_at", "2014-12-09 07:43:36.475089"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:43:36 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (1.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.4ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 45.0ms

Sent mail to foo@bar.com (4.4ms)
Date: Mon, 08 Dec 2014 23:43:36 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a82884617_37293ffba5c63be0529b7@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a82883e31_37293ffba5c63be05287d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a82883e31_37293ffba5c63be05287d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a82883e31_37293ffba5c63be05287d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a82883e31_37293ffba5c63be05287d--

  Rendered text template (0.0ms)
Completed 204 No Content in 70ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (76.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:36.636559"], ["email", "test@email.com"], ["password_digest", "$2a$04$twY09Wxcnj0N7VYM.SAbguqAW2O7DJvcwewKYTGynEieMENHPEfRq"], ["updated_at", "2014-12-09 07:43:36.636559"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:43:36 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ed5692862e374bcdfdddfc281376b60d' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (21.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ed5692862e374bcdfdddfc281376b60d"], ["reset_password_token_exp", "2014-12-09 15:43:36.644699"], ["updated_at", "2014-12-09 07:43:36.674175"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (11.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 33.0ms

Sent mail to test@email.com (6.0ms)
Date: Mon, 08 Dec 2014 23:43:36 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a828adeb2_37293ffba5c63be05314c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a828ad491_37293ffba5c63be05301e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a828ad491_37293ffba5c63be05301e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/ed5692862e374bcdfdddfc281376b60d/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a828ad491_37293ffba5c63be05301e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/ed5692862e374bcdfdddfc281376b60d/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a828ad491_37293ffba5c63be05301e--

  Rendered text template (0.0ms)
Completed 204 No Content in 76ms (Views: 0.6ms | ActiveRecord: 22.6ms)
  [1m[35m (8.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:36.750003"], ["email", "test@email.com"], ["password_digest", "$2a$04$R9Vq6PG3Xq1cm7dz3uC1Su4P2ANprjXg0ZJu3yqJ.xMMln09a/MTG"], ["updated_at", "2014-12-09 07:43:36.750003"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:43:36 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 8.0ms

Sent mail to foo@bar.com (13.8ms)
Date: Mon, 08 Dec 2014 23:43:36 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a828c5f97_37293ffba5c63be0533a6@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a828c3e7d_37293ffba5c63be05324";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a828c3e7d_37293ffba5c63be05324
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a828c3e7d_37293ffba5c63be05324
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a828c3e7d_37293ffba5c63be05324--

  Rendered text template (0.0ms)
Completed 204 No Content in 26ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:36.865904"], ["email", "test@email.com"], ["password_digest", "$2a$04$gd0jTIB6eIpa2lT4PXxlx.NvmYGvKmYw9n/.tcIVAl5yXqackAYba"], ["updated_at", "2014-12-09 07:43:36.865904"], ["username", "test"]]
  [1m[35m (4.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:43:36 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c7b6ce2e8a65ebd19122586e82cf36f6' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:36.960822"], ["expiration", "2014-12-10 07:43:36.962859"], ["key", "c7b6ce2e8a65ebd19122586e82cf36f6"], ["updated_at", "2014-12-09 07:43:36.960822"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 56ms (Views: 12.4ms | ActiveRecord: 1.3ms)
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (6.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:37.014214"], ["email", "test@email.com"], ["password_digest", "$2a$04$5HfDGoou26.VgRZs.nee1eEdcHd2AI.62sL2J9fZ4R6eWQA7mNFLe"], ["updated_at", "2014-12-09 07:43:37.014214"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'e9727178af6500ae01a4ed3caff0d7f9' LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:37.044555"], ["expiration", "2014-12-10 07:43:37.046131"], ["key", "e9727178af6500ae01a4ed3caff0d7f9"], ["updated_at", "2014-12-09 07:43:37.044555"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 24ms (Views: 2.8ms | ActiveRecord: 2.8ms)
  [1m[35m (7.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:37.089035"], ["email", "test@email.com"], ["password_digest", "$2a$04$.54GkvV1.psA2XRWVkuJEuEHvZBwkU4tTFIkMat75HjZOjv06E.CS"], ["updated_at", "2014-12-09 07:43:37.089035"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 29ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (28.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:37.131296"], ["email", "test@email.com"], ["password_digest", "$2a$04$QfON9PZUR/t11cDrJRWcRe8o4qMxh40sMwK3F9maGlwQwIt6TrWRq"], ["updated_at", "2014-12-09 07:43:37.131296"], ["username", "test"]]
  [1m[35m (4.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0e23157cd10804551e61b3ca74497e25' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:37.197111"], ["expiration", "2014-12-10 07:43:37.204014"], ["key", "0e23157cd10804551e61b3ca74497e25"], ["updated_at", "2014-12-09 07:43:37.197111"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 34ms (Views: 3.4ms | ActiveRecord: 1.7ms)
  [1m[36m (6.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (5.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:37.244769"], ["email", "test@email.com"], ["password_digest", "$2a$04$joDg5.QAc5F.A.PHWTChr.iAJzcb1mOzUrSTFNcqC6skuUdkB1mhy"], ["updated_at", "2014-12-09 07:43:37.244769"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1f20b0de5ada46d6e1497be5fcf4f2ca' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:37.251477"], ["expiration", "2014-12-10 07:43:37.256819"], ["key", "1f20b0de5ada46d6e1497be5fcf4f2ca"], ["updated_at", "2014-12-09 07:43:37.251477"], ["user_id", 1]]
  [1m[36m (19.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:38:37.278179"], ["updated_at", "2014-12-09 07:43:37.278716"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (4.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1f20b0de5ada46d6e1497be5fcf4f2ca' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 14ms (Views: 0.8ms | ActiveRecord: 4.4ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:37.344139"], ["email", "test@email.com"], ["password_digest", "$2a$04$GWasNfuvy/Va4phbwSqZ.Oi3qAF6/kJvAtQycwX4rPDw5c/2U0xr2"], ["updated_at", "2014-12-09 07:43:37.344139"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd512cefae5bc59c343070829c4fa07c4' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:37.352314"], ["expiration", "2014-12-10 07:43:37.353678"], ["key", "d512cefae5bc59c343070829c4fa07c4"], ["updated_at", "2014-12-09 07:43:37.352314"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd512cefae5bc59c343070829c4fa07c4' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 12ms (Views: 2.8ms | ActiveRecord: 0.8ms)
  [1m[36m (3.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:37.393254"], ["email", "test@email.com"], ["password_digest", "$2a$04$1T6pTuKoxm0sxGnlOlCkCuB25pld.Gio9qSTi7FEbtCgaYp1Bazhe"], ["updated_at", "2014-12-09 07:43:37.393254"], ["username", "test"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '9a022e03f549735ab5ee8f56c02e6286' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:37.441023"], ["expiration", "2014-12-10 07:43:37.441986"], ["key", "9a022e03f549735ab5ee8f56c02e6286"], ["updated_at", "2014-12-09 07:43:37.441023"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:38:37.445303"], ["updated_at", "2014-12-09 07:43:37.450177"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '9a022e03f549735ab5ee8f56c02e6286' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:43:37.523775"], ["email", "test"], ["password_digest", "$2a$04$QzlVh6WvgxbRfEMk4ySBpObXf1zJgf6SAc1eaRhjSdSFVlZWRQzLe"], ["updated_at", "2014-12-09 07:43:37.523775"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 35ms (Views: 2.8ms | ActiveRecord: 1.6ms)
  [1m[36m (4.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 14ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:37.608779"], ["email", "test@email.com"], ["password_digest", "$2a$04$KO8deH8xBFRvtv2xsbUBT.7ITD7H6J6Lm5mBNiedOtkfVrRX4Z4vW"], ["updated_at", "2014-12-09 07:43:37.608779"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4a8410da3824a890520309e14ae2d04f' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:43:37.613691"], ["expiration", "2014-12-10 07:43:37.616635"], ["key", "4a8410da3824a890520309e14ae2d04f"], ["updated_at", "2014-12-09 07:43:37.613691"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4a8410da3824a890520309e14ae2d04f' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (4.7ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 44ms (Views: 29.8ms | ActiveRecord: 5.0ms)
  [1m[36m (8.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:43:37 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:47:58 -0800
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:47:58 -0800
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:47:58 -0800
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:39.261634"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZLpy2RgU/J6wfWTQQMlF6uSIilkndkg4UfUN85K97OGWuPL8w2tOC"], ["updated_at", "2014-12-09 07:48:39.261634"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '653a5840cd9b338e6a3e71758bf9ef7f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "653a5840cd9b338e6a3e71758bf9ef7f"], ["reset_password_token_exp", "2014-12-09 15:48:39.277212"], ["updated_at", "2014-12-09 07:48:39.282550"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/653a5840cd9b338e6a3e71758bf9ef7f/" for 127.0.0.1 at 2014-12-08 23:48:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"653a5840cd9b338e6a3e71758bf9ef7f"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '653a5840cd9b338e6a3e71758bf9ef7f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$FB7n1VBo.EtVmvqgLR3Mt.4W9BivNM/16anBbokkaqiYIsZKVPRdu"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:48:39.339552"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 34ms (Views: 12.7ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:39.395616"], ["email", "test@email.com"], ["password_digest", "$2a$04$swWjtMeD9rPDg8X/eLVMM.kvfrE5a2DRblNMEeZ0bDzw3PHsFofMu"], ["updated_at", "2014-12-09 07:48:39.395616"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2b061a4700c273c0825ec5da7f013365' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2b061a4700c273c0825ec5da7f013365"], ["reset_password_token_exp", "2014-12-09 15:48:39.404831"], ["updated_at", "2014-12-09 07:48:39.410290"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2b061a4700c273c0825ec5da7f013365/" for 127.0.0.1 at 2014-12-08 23:48:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2b061a4700c273c0825ec5da7f013365"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2b061a4700c273c0825ec5da7f013365' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$8WxS5dypaS4GYJaIc.ezEOxxzmZ5OQ0MaaJ0lIiyuwI25/PST9EEe"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:48:39.426556"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 12ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/2b061a4700c273c0825ec5da7f013365/" for 127.0.0.1 at 2014-12-08 23:48:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2b061a4700c273c0825ec5da7f013365"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2b061a4700c273c0825ec5da7f013365' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 6ms (Views: 3.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:39.459906"], ["email", "test@email.com"], ["password_digest", "$2a$04$0wgp3tij6yfkRIcIceLfBuyKCCxcwlrI6iuaq9g6qEkj0YtK6KVbu"], ["updated_at", "2014-12-09 07:48:39.459906"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'cb8937a4b769ff3e795fa96fa1e36c2b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "cb8937a4b769ff3e795fa96fa1e36c2b"], ["reset_password_token_exp", "2014-12-09 15:48:39.463354"], ["updated_at", "2014-12-09 07:48:39.466195"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/cb8937a4b769ff3e795fa96fa1e36c2b/" for 127.0.0.1 at 2014-12-08 23:48:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"cb8937a4b769ff3e795fa96fa1e36c2b"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'cb8937a4b769ff3e795fa96fa1e36c2b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 43ms (Views: 1.9ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:39.554754"], ["email", "test@email.com"], ["password_digest", "$2a$04$772i7Z73LHEkvByvGXQPKugO7KEChb1KDW7N4yHSalkSHv8EDyzPi"], ["updated_at", "2014-12-09 07:48:39.554754"], ["username", "test"]]
  [1m[35m (1.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e38f00e5a9e2ca897412ce18489863b5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e38f00e5a9e2ca897412ce18489863b5"], ["reset_password_token_exp", "2014-12-09 15:48:39.563955"], ["updated_at", "2014-12-09 07:48:39.651756"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:48:39 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:39.673093"], ["email", "test@email.com"], ["password_digest", "$2a$04$94LwPyRNcEWrDKNbFDTuKehCEftAzf7aBhvyN7jdzp49w3kOIdo3y"], ["updated_at", "2014-12-09 07:48:39.673093"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6c6154546e88f7fe54b41c59c2072bc2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6c6154546e88f7fe54b41c59c2072bc2"], ["reset_password_token_exp", "2014-12-09 15:48:39.688698"], ["updated_at", "2014-12-09 07:48:39.705676"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/8d4085537f3bed2c79d7cb59aec4ef87/" for 127.0.0.1 at 2014-12-08 23:48:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"8d4085537f3bed2c79d7cb59aec4ef87"}
  [1m[36mUser Load (6.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8d4085537f3bed2c79d7cb59aec4ef87' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 32ms (Views: 21.2ms | ActiveRecord: 6.2ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (14.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:39.772343"], ["email", "test@email.com"], ["password_digest", "$2a$04$6xeGMURp4nW7x3Y6w7nPmuxZc9eFu/ExdKUhDNgn65G1NAxbklcZC"], ["updated_at", "2014-12-09 07:48:39.772343"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:48:39 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7dc58ca1edd2c8648f3721f52cbd871a' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7dc58ca1edd2c8648f3721f52cbd871a"], ["reset_password_token_exp", "2014-12-09 15:48:39.840168"], ["updated_at", "2014-12-09 07:48:39.845181"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 308.7ms

Sent mail to test@email.com (16.3ms)
Date: Mon, 08 Dec 2014 23:48:40 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a9582dede_379e3fdde9051bec12531@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9582bf00_379e3fdde9051bec124e3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9582bf00_379e3fdde9051bec124e3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/7dc58ca1edd2c8648f3721f52cbd871a/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a9582bf00_379e3fdde9051bec124e3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/7dc58ca1edd2c8648f3721f52cbd871a/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a9582bf00_379e3fdde9051bec124e3--

  Rendered text template (0.1ms)
Completed 204 No Content in 365ms (Views: 1.9ms | ActiveRecord: 3.9ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:40.209456"], ["email", "test@email.com"], ["password_digest", "$2a$04$WhxujyQX6YR0/3LhTTxEvePOMfwo7T63uG0UaMoD2tG7PAfPTrn6y"], ["updated_at", "2014-12-09 07:48:40.209456"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (36.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 96.9ms

Sent mail to foo@bar.com (37.1ms)
Date: Mon, 08 Dec 2014 23:48:40 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a9584da21_379e3fdde9051bec127b2@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9584c2c2_379e3fdde9051bec126de";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9584c2c2_379e3fdde9051bec126de
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a9584c2c2_379e3fdde9051bec126de
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a9584c2c2_379e3fdde9051bec126de--

  Rendered text template (0.0ms)
Completed 204 No Content in 137ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:40.431234"], ["email", "test@email.com"], ["password_digest", "$2a$04$ab//CZS0sM6qThC0e4StYOhx8VBMa2sk7JRtjgOpE14tUlbEVZ6Fi"], ["updated_at", "2014-12-09 07:48:40.431234"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '945fff424f2512253a33903cfea25f08' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (15.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "945fff424f2512253a33903cfea25f08"], ["reset_password_token_exp", "2014-12-09 15:48:40.439889"], ["updated_at", "2014-12-09 07:48:40.462049"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 7.6ms

Sent mail to test@email.com (6.7ms)
Date: Mon, 08 Dec 2014 23:48:40 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a9587429c_379e3fdde9051bec1290@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a958735ed_379e3fdde9051bec1284";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a958735ed_379e3fdde9051bec1284
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/945fff424f2512253a33903cfea25f08/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a958735ed_379e3fdde9051bec1284
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/945fff424f2512253a33903cfea25f08/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a958735ed_379e3fdde9051bec1284--

  Rendered text template (0.0ms)
Completed 204 No Content in 46ms (Views: 0.5ms | ActiveRecord: 17.4ms)
  [1m[35m (8.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:40.495856"], ["email", "test@email.com"], ["password_digest", "$2a$04$1PoiP/K6gSo1nUfdbCclz.djNr9Dcg7GBkNiS0cNJwQRGSdCgCTVS"], ["updated_at", "2014-12-09 07:48:40.495856"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 54.2ms

Sent mail to foo@bar.com (23.3ms)
Date: Mon, 08 Dec 2014 23:48:40 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a95889bcc_379e3fdde9051bec1318b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a958858ee_379e3fdde9051bec1306d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a958858ee_379e3fdde9051bec1306d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a958858ee_379e3fdde9051bec1306d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a958858ee_379e3fdde9051bec1306d--

  Rendered text template (0.0ms)
Completed 204 No Content in 80ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (4.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:40.600496"], ["email", "test@email.com"], ["password_digest", "$2a$04$qKFLOqoTDsuVGmVzrct0K.R68z9rDhvAM.1wGfR1QbPwjc7PB0wbu"], ["updated_at", "2014-12-09 07:48:40.600496"], ["username", "test"]]
  [1m[35m (28.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd5872a1ddb40c37a98049a0e76e2ba27' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:40.713948"], ["expiration", "2014-12-10 07:48:40.722522"], ["key", "d5872a1ddb40c37a98049a0e76e2ba27"], ["updated_at", "2014-12-09 07:48:40.713948"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 72ms (Views: 21.2ms | ActiveRecord: 3.4ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:40.762174"], ["email", "test@email.com"], ["password_digest", "$2a$04$lRaNxHvPB/Ikjt9yVFcV4OHCIW/JIxbJSHVr1l1lGe9EXAcjZAGDm"], ["updated_at", "2014-12-09 07:48:40.762174"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b34525bc87f9c987035d1d84f04a1eda' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:40.778590"], ["expiration", "2014-12-10 07:48:40.785120"], ["key", "b34525bc87f9c987035d1d84f04a1eda"], ["updated_at", "2014-12-09 07:48:40.778590"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 32ms (Views: 6.1ms | ActiveRecord: 1.5ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:40.812998"], ["email", "test@email.com"], ["password_digest", "$2a$04$cc7f0d6U3s9HiHMhRpkcg.C.e9CUkAcwJINczprF8abxbuMrrIsTu"], ["updated_at", "2014-12-09 07:48:40.812998"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:40.853791"], ["email", "test@email.com"], ["password_digest", "$2a$04$lLt7GpFFaFW4QbumQsPEkOB8bkva42v8fDZ..yehIcvyZ7P4m31YS"], ["updated_at", "2014-12-09 07:48:40.853791"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '411fd9bfcbb92459961c759d5e69c3b6' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:40.889182"], ["expiration", "2014-12-10 07:48:40.896314"], ["key", "411fd9bfcbb92459961c759d5e69c3b6"], ["updated_at", "2014-12-09 07:48:40.889182"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (4.8ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 56ms (Views: 5.7ms | ActiveRecord: 7.3ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '411fd9bfcbb92459961c759d5e69c3b6' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:40.957955"], ["email", "test@email.com"], ["password_digest", "$2a$04$erad8mzyI0cokbKfLhLg5.Uie28J.uDV938jCI/ZvA66kGSrRoWmC"], ["updated_at", "2014-12-09 07:48:40.957955"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c292dc9d0ec76d724ca8f78539fc71f8' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:40.965815"], ["expiration", "2014-12-10 07:48:40.971926"], ["key", "c292dc9d0ec76d724ca8f78539fc71f8"], ["updated_at", "2014-12-09 07:48:40.965815"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:43:40.973840"], ["updated_at", "2014-12-09 07:48:40.974273"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:48:40 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'c292dc9d0ec76d724ca8f78539fc71f8' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 28ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (4.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:41.022508"], ["email", "test@email.com"], ["password_digest", "$2a$04$Vy.o0PtM99x8sbPi9XowLODDvth59g7DnKG/fTc8tZ5h60a60ULKK"], ["updated_at", "2014-12-09 07:48:41.022508"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '51faad626b71b981b557564b3408b548' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:41.062514"], ["expiration", "2014-12-10 07:48:41.077688"], ["key", "51faad626b71b981b557564b3408b548"], ["updated_at", "2014-12-09 07:48:41.062514"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:48:41 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (1.0ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '51faad626b71b981b557564b3408b548' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 15ms (Views: 1.5ms | ActiveRecord: 1.6ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (14.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:41.142529"], ["email", "test@email.com"], ["password_digest", "$2a$04$Jj7xnwfqlPn8zuTRMbePb.WcidNgpUXMm9p2YfAP4RnOulFAF71PS"], ["updated_at", "2014-12-09 07:48:41.142529"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'fc5cb8c5a2a0191a5cbe19554371e907' LIMIT 1[0m
  [1m[35mSQL (4.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:41.169761"], ["expiration", "2014-12-10 07:48:41.173069"], ["key", "fc5cb8c5a2a0191a5cbe19554371e907"], ["updated_at", "2014-12-09 07:48:41.169761"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:43:41.182145"], ["updated_at", "2014-12-09 07:48:41.193467"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:48:41 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (1.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'fc5cb8c5a2a0191a5cbe19554371e907' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:48:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:48:41.248523"], ["email", "test"], ["password_digest", "$2a$04$6bPU4MjjIuBnJlTn/krtZO2dM5EcNFETuEcAfWRyQ0s9fYv.4ogOy"], ["updated_at", "2014-12-09 07:48:41.248523"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 29ms (Views: 3.8ms | ActiveRecord: 1.0ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:48:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 66ms (Views: 26.1ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (3.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:41.356092"], ["email", "test@email.com"], ["password_digest", "$2a$04$Sadws3CJc15Jo.t4CSwUq.UQmxHUUrp7RXCwm4kxE85eW0ycGQfyK"], ["updated_at", "2014-12-09 07:48:41.356092"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f9943dc84dc7461b31851c453704a849' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:48:41.381018"], ["expiration", "2014-12-10 07:48:41.383535"], ["key", "f9943dc84dc7461b31851c453704a849"], ["updated_at", "2014-12-09 07:48:41.381018"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:48:41 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f9943dc84dc7461b31851c453704a849' LIMIT 1
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 15ms (Views: 3.6ms | ActiveRecord: 3.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:48:41 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:49.765794"], ["email", "test@email.com"], ["password_digest", "$2a$04$crYj7pnyDkY2I1ZKJfgabelq2WlCAE9e4.wniZ3upEovvcBb5oSVu"], ["updated_at", "2014-12-09 07:49:49.765794"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7885c1d2f96cf203b97739383d9832f7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7885c1d2f96cf203b97739383d9832f7"], ["reset_password_token_exp", "2014-12-09 15:49:49.775992"], ["updated_at", "2014-12-09 07:49:49.779683"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7885c1d2f96cf203b97739383d9832f7/" for 127.0.0.1 at 2014-12-08 23:49:49 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7885c1d2f96cf203b97739383d9832f7"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7885c1d2f96cf203b97739383d9832f7' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$lfcXEqXQYQXgvpSH3h2h3uPzEvDurHRxs.IaMaSLmm68JPAhg.FHq"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:49:49.832173"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 30ms (Views: 12.9ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:49.859925"], ["email", "test@email.com"], ["password_digest", "$2a$04$W8OoPbHmnF8CWROYSzj.GOA.lgkzxETd837BjvXcvPJ8Er7ZKVbbq"], ["updated_at", "2014-12-09 07:49:49.859925"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0adf046451e386be21edf2c1716c3e77' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0adf046451e386be21edf2c1716c3e77"], ["reset_password_token_exp", "2014-12-09 15:49:49.862951"], ["updated_at", "2014-12-09 07:49:49.866086"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0adf046451e386be21edf2c1716c3e77/" for 127.0.0.1 at 2014-12-08 23:49:49 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0adf046451e386be21edf2c1716c3e77"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0adf046451e386be21edf2c1716c3e77' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$RD52Y0RumTpXpfRhwgmJPO9ZmkXJUo8uDOXkveLMF6QtlM5yjZjOy"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:49:49.878965"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 11ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/0adf046451e386be21edf2c1716c3e77/" for 127.0.0.1 at 2014-12-08 23:49:49 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0adf046451e386be21edf2c1716c3e77"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0adf046451e386be21edf2c1716c3e77' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:49.907695"], ["email", "test@email.com"], ["password_digest", "$2a$04$vntmS.xo99GU767Zh0J5c.d7ALu.clmw/Ot9wyvKFwQHfKzQlmVBO"], ["updated_at", "2014-12-09 07:49:49.907695"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0729cbb874894c414cdb5073cd79530c' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "0729cbb874894c414cdb5073cd79530c"], ["reset_password_token_exp", "2014-12-09 15:49:49.913181"], ["updated_at", "2014-12-09 07:49:49.915718"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/0729cbb874894c414cdb5073cd79530c/" for 127.0.0.1 at 2014-12-08 23:49:49 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"0729cbb874894c414cdb5073cd79530c"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0729cbb874894c414cdb5073cd79530c' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 57ms (Views: 5.6ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (1.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:50.034243"], ["email", "test@email.com"], ["password_digest", "$2a$04$B40qMUAIKebtgRk2kPao3.IJuMPsNg2ctMMac06MlGRFsQuWeFZfq"], ["updated_at", "2014-12-09 07:49:50.034243"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'edcc5cc1f8bfe23e0f21b87be02b367e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "edcc5cc1f8bfe23e0f21b87be02b367e"], ["reset_password_token_exp", "2014-12-09 15:49:50.042466"], ["updated_at", "2014-12-09 07:49:50.214647"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:49:50 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (2.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:50.233147"], ["email", "test@email.com"], ["password_digest", "$2a$04$5M8.NXC/z1S4ei16nOMhIeeI7H12m.2ZnhR84DJq9Rz1OHkfNlfsW"], ["updated_at", "2014-12-09 07:49:50.233147"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3fd5b1adc1ee2f7e6bb0360910ba463b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3fd5b1adc1ee2f7e6bb0360910ba463b"], ["reset_password_token_exp", "2014-12-09 15:49:50.235601"], ["updated_at", "2014-12-09 07:49:50.240303"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e8abafe074e9a0b621cc7947bf6eb34b/" for 127.0.0.1 at 2014-12-08 23:49:50 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e8abafe074e9a0b621cc7947bf6eb34b"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e8abafe074e9a0b621cc7947bf6eb34b' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (4.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (6.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:50.316283"], ["email", "test@email.com"], ["password_digest", "$2a$04$6qzwnsD9IL6rRqxKQ.Dm/emOh541BgbKlasnmK0LCKGtEicp44opG"], ["updated_at", "2014-12-09 07:49:50.316283"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:49:50 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9f4f21f2ccb14e2673842ab7d6ef4baf' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (15.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "9f4f21f2ccb14e2673842ab7d6ef4baf"], ["reset_password_token_exp", "2014-12-09 15:49:50.348015"], ["updated_at", "2014-12-09 07:49:50.354098"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 373.1ms

Sent mail to test@email.com (10.6ms)
Date: Mon, 08 Dec 2014 23:49:50 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a99ebc3f4_37c53fc83e065be433571@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a99eba575_37c53fc83e065be4334cb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a99eba575_37c53fc83e065be4334cb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/9f4f21f2ccb14e2673842ab7d6ef4baf/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a99eba575_37c53fc83e065be4334cb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/9f4f21f2ccb14e2673842ab7d6ef4baf/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a99eba575_37c53fc83e065be4334cb--

  Rendered text template (0.0ms)
Completed 204 No Content in 435ms (Views: 0.3ms | ActiveRecord: 17.6ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (5.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:50.799804"], ["email", "test@email.com"], ["password_digest", "$2a$04$PLetCNlT0JJT.s2uHtC/hOsEXU1fXuk5zBqh7UMFE45sAVY1vBFa6"], ["updated_at", "2014-12-09 07:49:50.799804"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:49:50 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 33.8ms

Sent mail to foo@bar.com (10.4ms)
Date: Mon, 08 Dec 2014 23:49:50 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a99ecf416_37c53fc83e065be43377@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a99eccd26_37c53fc83e065be433625";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a99eccd26_37c53fc83e065be433625
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a99eccd26_37c53fc83e065be433625
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a99eccd26_37c53fc83e065be433625--

  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (8.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:50.923531"], ["email", "test@email.com"], ["password_digest", "$2a$04$KhZA0umfugqzXHIbC4AGC.8u.l5qBnGms7.r5vMapUIFm6i8gSY.K"], ["updated_at", "2014-12-09 07:49:50.923531"], ["username", "test"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:49:50 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '244a1d0fa9b86c1ecc111dda563c37f7' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "244a1d0fa9b86c1ecc111dda563c37f7"], ["reset_password_token_exp", "2014-12-09 15:49:50.938772"], ["updated_at", "2014-12-09 07:49:50.941316"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 8.7ms

Sent mail to test@email.com (6.9ms)
Date: Mon, 08 Dec 2014 23:49:50 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a99eef1c8_37c53fc83e065be4339be@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a99eee0aa_37c53fc83e065be4338a8";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a99eee0aa_37c53fc83e065be4338a8
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/244a1d0fa9b86c1ecc111dda563c37f7/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a99eee0aa_37c53fc83e065be4338a8
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/244a1d0fa9b86c1ecc111dda563c37f7/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a99eee0aa_37c53fc83e065be4338a8--

  Rendered text template (0.1ms)
Completed 204 No Content in 48ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[35m (4.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (16.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:51.045818"], ["email", "test@email.com"], ["password_digest", "$2a$04$rAoXzMT/wzg4TXfwhNNvFOa5XKW7a1wfwaSKBYIfrxCDBqL0VC2Se"], ["updated_at", "2014-12-09 07:49:51.045818"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 20.5ms

Sent mail to foo@bar.com (10.7ms)
Date: Mon, 08 Dec 2014 23:49:51 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a99f16151_37c53fc83e065be434199@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a99f1299d_37c53fc83e065be434062";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a99f1299d_37c53fc83e065be434062
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a99f1299d_37c53fc83e065be434062
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a99f1299d_37c53fc83e065be434062--

  Rendered text template (0.0ms)
Completed 204 No Content in 44ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[35m (8.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:51.117669"], ["email", "test@email.com"], ["password_digest", "$2a$04$/HXUyldGvo9m1Z9JfnGnCeUfwSGQFIse.ttfjbyHu7QEBpeHFDjKe"], ["updated_at", "2014-12-09 07:49:51.117669"], ["username", "test"]]
  [1m[35m (1.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (3.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6ffac73dcfc74b673addc90208661ce7' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.202776"], ["expiration", "2014-12-10 07:49:51.206304"], ["key", "6ffac73dcfc74b673addc90208661ce7"], ["updated_at", "2014-12-09 07:49:51.202776"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 75ms (Views: 14.1ms | ActiveRecord: 4.4ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.240363"], ["email", "test@email.com"], ["password_digest", "$2a$04$pHsM3UnQ.MxuGlo3fBK52.zAf1n8qzxTU4jaqkooGVXKMuWjtywMq"], ["updated_at", "2014-12-09 07:49:51.240363"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd771a8da6a69fb0fc6834acfb602e926' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:51.289912"], ["expiration", "2014-12-10 07:49:51.294665"], ["key", "d771a8da6a69fb0fc6834acfb602e926"], ["updated_at", "2014-12-09 07:49:51.289912"], ["user_id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 37ms (Views: 9.4ms | ActiveRecord: 2.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (3.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:51.379379"], ["email", "test@email.com"], ["password_digest", "$2a$04$Se0xdqtyq3I.1xEzUjO6GOl95V23ZU8KbC0nlsnD1EgkecmIAmKlK"], ["updated_at", "2014-12-09 07:49:51.379379"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:51.401027"], ["email", "test@email.com"], ["password_digest", "$2a$04$nnT1mhz6ruIRirX8En1Qe.umqxUWJKffm.FZsyEaeJFlgzua4GCl."], ["updated_at", "2014-12-09 07:49:51.401027"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '30072922d43e2aadd476c8ce0763bb00' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.430884"], ["expiration", "2014-12-10 07:49:51.435968"], ["key", "30072922d43e2aadd476c8ce0763bb00"], ["updated_at", "2014-12-09 07:49:51.430884"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 39ms (Views: 5.2ms | ActiveRecord: 2.8ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '30072922d43e2aadd476c8ce0763bb00' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (25.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.508740"], ["email", "test@email.com"], ["password_digest", "$2a$04$nrZX..HRvAT3kzNZbsb79O44lnJ3jXH3nJKDpGkG4tKUZoLsATwUC"], ["updated_at", "2014-12-09 07:49:51.508740"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '43d6782ae4e837e89e2497f289c917cd' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.517379"], ["expiration", "2014-12-10 07:49:51.518719"], ["key", "43d6782ae4e837e89e2497f289c917cd"], ["updated_at", "2014-12-09 07:49:51.517379"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:44:51.520278"], ["updated_at", "2014-12-09 07:49:51.520895"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (13.9ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '43d6782ae4e837e89e2497f289c917cd' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 22ms (Views: 0.2ms | ActiveRecord: 13.9ms)
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:51.564363"], ["email", "test@email.com"], ["password_digest", "$2a$04$5vRczNMzCMyD9RNCGBbE4.I6DYvSnb3DzJ0Lo6JBUbqg1QaXwyzli"], ["updated_at", "2014-12-09 07:49:51.564363"], ["username", "test"]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6e3ef630b30cf449476fd7365ba4cc94' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:51.567974"], ["expiration", "2014-12-10 07:49:51.575193"], ["key", "6e3ef630b30cf449476fd7365ba4cc94"], ["updated_at", "2014-12-09 07:49:51.567974"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '6e3ef630b30cf449476fd7365ba4cc94' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 9ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.658091"], ["email", "test@email.com"], ["password_digest", "$2a$04$lBXpUocYu/b11g6XIjrxT.Se3E0ufDko/hVP4cZ76aYKftCRrEhuO"], ["updated_at", "2014-12-09 07:49:51.658091"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f3513f33f3f98ce81107c6d66cd37973' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.680926"], ["expiration", "2014-12-10 07:49:51.686748"], ["key", "f3513f33f3f98ce81107c6d66cd37973"], ["updated_at", "2014-12-09 07:49:51.680926"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:44:51.688406"], ["updated_at", "2014-12-09 07:49:51.692465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.3ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f3513f33f3f98ce81107c6d66cd37973' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (9.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:49:51.769170"], ["email", "test"], ["password_digest", "$2a$04$ffq5ul7mBD.AxKxxqKGPxOWUhRfTuyanbIhZHmK5crkvt83y7unaK"], ["updated_at", "2014-12-09 07:49:51.769170"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 63ms (Views: 21.7ms | ActiveRecord: 10.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 48ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.875370"], ["email", "test@email.com"], ["password_digest", "$2a$04$e7C3bQrcF4Grn2poF9UBMuKVakTeRAlPQwABYGp/BHR3yXtwWeeFa"], ["updated_at", "2014-12-09 07:49:51.875370"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4bfc8176f1dba3e17bba0d4100ffbf25' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:49:51.878178"], ["expiration", "2014-12-10 07:49:51.879393"], ["key", "4bfc8176f1dba3e17bba0d4100ffbf25"], ["updated_at", "2014-12-09 07:49:51.878178"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (7.4ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4bfc8176f1dba3e17bba0d4100ffbf25' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 32ms (Views: 5.3ms | ActiveRecord: 8.0ms)
  [1m[36m (10.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:49:51 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:20.926851"], ["email", "test@email.com"], ["password_digest", "$2a$04$TtzhrkI.o1nN6xpy34egr.81hjj.8nDcbPV0FHU/CgCp/qZE5GGsW"], ["updated_at", "2014-12-09 07:50:20.926851"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'aafd5f1052465792c27991a15bddcb8b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "aafd5f1052465792c27991a15bddcb8b"], ["reset_password_token_exp", "2014-12-09 15:50:20.944219"], ["updated_at", "2014-12-09 07:50:20.959813"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/aafd5f1052465792c27991a15bddcb8b/" for 127.0.0.1 at 2014-12-08 23:50:20 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"aafd5f1052465792c27991a15bddcb8b"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'aafd5f1052465792c27991a15bddcb8b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$Kw1NWgr7LHefHtQe.hgR8e4Fe8q94biDhv4MROHPS4dJ4Taz9nXSu"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:50:21.038211"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 38ms (Views: 11.6ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:21.063299"], ["email", "test@email.com"], ["password_digest", "$2a$04$JEIPNAyDLmhD3H6J3pB4uuIbKJuQFShrwMc3y1usvgo.tg.rQxJOC"], ["updated_at", "2014-12-09 07:50:21.063299"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd6be9efa17ec68b20324eb554f4b3631' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d6be9efa17ec68b20324eb554f4b3631"], ["reset_password_token_exp", "2014-12-09 15:50:21.065488"], ["updated_at", "2014-12-09 07:50:21.067423"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d6be9efa17ec68b20324eb554f4b3631/" for 127.0.0.1 at 2014-12-08 23:50:21 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d6be9efa17ec68b20324eb554f4b3631"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd6be9efa17ec68b20324eb554f4b3631' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$HlGF/CWX7l/bqdNPcuSFk.MxfTjS6c83ROR8ExftYka8LGS4QNuva"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:50:21.076503"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 17ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/d6be9efa17ec68b20324eb554f4b3631/" for 127.0.0.1 at 2014-12-08 23:50:21 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d6be9efa17ec68b20324eb554f4b3631"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd6be9efa17ec68b20324eb554f4b3631' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (3.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:21.120140"], ["email", "test@email.com"], ["password_digest", "$2a$04$dIJ7Ku.3nCbu2VFOvA398uZgvq1ed5lkkpGotzm1YqEMoQpCDg2Le"], ["updated_at", "2014-12-09 07:50:21.120140"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (41.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd17823136b5f53e37adae289a72eadb7' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "d17823136b5f53e37adae289a72eadb7"], ["reset_password_token_exp", "2014-12-09 15:50:21.186153"], ["updated_at", "2014-12-09 07:50:21.225640"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/d17823136b5f53e37adae289a72eadb7/" for 127.0.0.1 at 2014-12-08 23:50:21 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"d17823136b5f53e37adae289a72eadb7"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd17823136b5f53e37adae289a72eadb7' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 71ms (Views: 0.6ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:21.323407"], ["email", "test@email.com"], ["password_digest", "$2a$04$.7lMXYtKwox6dQIJtdONMOGATvYb1No.4kPN0gZxw2JLG3YatCERC"], ["updated_at", "2014-12-09 07:50:21.323407"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'aaeb14ad05a9daff72dd5d4158567bf4' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "aaeb14ad05a9daff72dd5d4158567bf4"], ["reset_password_token_exp", "2014-12-09 15:50:21.358443"], ["updated_at", "2014-12-09 07:50:21.464690"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:50:21 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:21.476272"], ["email", "test@email.com"], ["password_digest", "$2a$04$X7pd8V1n7rfPgfkOsgR4xuHnAjk3GW0ik1uvw9WOb1xsaRm1Diswy"], ["updated_at", "2014-12-09 07:50:21.476272"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '80ff4bee1c3497d87ca52988979f5ddd' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (8.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "80ff4bee1c3497d87ca52988979f5ddd"], ["reset_password_token_exp", "2014-12-09 15:50:21.494941"], ["updated_at", "2014-12-09 07:50:21.496830"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/834bc194647393debe53543dd73350c1/" for 127.0.0.1 at 2014-12-08 23:50:21 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"834bc194647393debe53543dd73350c1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '834bc194647393debe53543dd73350c1' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (17.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:21.567040"], ["email", "test@email.com"], ["password_digest", "$2a$04$trA0L6f/CIfsh0YAB6QGjuttVi8HwTtjYkDHJi5JjL9tQj.0lEV9W"], ["updated_at", "2014-12-09 07:50:21.567040"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:50:21 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ab190e9d93b57ee2bdca8fd8adada848' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ab190e9d93b57ee2bdca8fd8adada848"], ["reset_password_token_exp", "2014-12-09 15:50:21.609361"], ["updated_at", "2014-12-09 07:50:21.616000"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (3.9ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 383.0ms

Sent mail to test@email.com (12.2ms)
Date: Mon, 08 Dec 2014 23:50:22 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a9be517b_37e43ff0dd413be816b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9be3368_37e43ff0dd413be81521";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9be3368_37e43ff0dd413be81521
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/ab190e9d93b57ee2bdca8fd8adada848/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a9be3368_37e43ff0dd413be81521
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/ab190e9d93b57ee2bdca8fd8adada848/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a9be3368_37e43ff0dd413be81521--

  Rendered text template (0.0ms)
Completed 204 No Content in 431ms (Views: 0.5ms | ActiveRecord: 4.3ms)
  [1m[35m (4.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.046085"], ["email", "test@email.com"], ["password_digest", "$2a$04$Oy5OEOKFXPoAJHISKludpOHmr6/pM8ztQVleuHZk6tiZeQPLP.1VK"], ["updated_at", "2014-12-09 07:50:22.046085"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (5.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 35.6ms

Sent mail to foo@bar.com (6.4ms)
Date: Mon, 08 Dec 2014 23:50:22 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a9be17d41_37e43ff0dd413be818ad@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9be1678e_37e43ff0dd413be81746";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9be1678e_37e43ff0dd413be81746
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a9be1678e_37e43ff0dd413be81746
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a9be1678e_37e43ff0dd413be81746--

  Rendered text template (0.0ms)
Completed 204 No Content in 52ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (36.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.177463"], ["email", "test@email.com"], ["password_digest", "$2a$04$pzgA/3m9LGaI4tm/wmtOyuHdri7Ovv8a5iQBQin2D71SUBviaCa/u"], ["updated_at", "2014-12-09 07:50:22.177463"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '560dbd17354854f45d5aa15a6c4a7c39' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "560dbd17354854f45d5aa15a6c4a7c39"], ["reset_password_token_exp", "2014-12-09 15:50:22.185190"], ["updated_at", "2014-12-09 07:50:22.187202"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 5.5ms

Sent mail to test@email.com (42.4ms)
Date: Mon, 08 Dec 2014 23:50:22 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a9be306c3_37e43ff0dd413be82020@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9be2ec17_37e43ff0dd413be81946";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9be2ec17_37e43ff0dd413be81946
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/560dbd17354854f45d5aa15a6c4a7c39/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a9be2ec17_37e43ff0dd413be81946
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/560dbd17354854f45d5aa15a6c4a7c39/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a9be2ec17_37e43ff0dd413be81946--

  Rendered text template (0.1ms)
Completed 204 No Content in 56ms (Views: 0.9ms | ActiveRecord: 1.3ms)
  [1m[35m (20.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (13.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.291983"], ["email", "test@email.com"], ["password_digest", "$2a$04$OwFoqu.4QFHP1nQg1K0i9uNjKUdNRWFTKzebA5ED.C0HUkZ6TS4wC"], ["updated_at", "2014-12-09 07:50:22.291983"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 4.1ms

Sent mail to foo@bar.com (11.7ms)
Date: Mon, 08 Dec 2014 23:50:22 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a9be5cb1f_37e43ff0dd413be822df@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9be5b8f3_37e43ff0dd413be8211e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9be5b8f3_37e43ff0dd413be8211e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a9be5b8f3_37e43ff0dd413be8211e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a9be5b8f3_37e43ff0dd413be8211e--

  Rendered text template (0.0ms)
Completed 204 No Content in 19ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (9.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.411203"], ["email", "test@email.com"], ["password_digest", "$2a$04$4qQAzkTauyOVwNDES0Ig3OvbNbIDQHU7dAMBmkESXmIX/61KfmNK2"], ["updated_at", "2014-12-09 07:50:22.411203"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'aa8410dc9aef94d0c3f1f676619e5abe' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:22.466866"], ["expiration", "2014-12-10 07:50:22.473447"], ["key", "aa8410dc9aef94d0c3f1f676619e5abe"], ["updated_at", "2014-12-09 07:50:22.466866"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 92ms (Views: 44.2ms | ActiveRecord: 1.5ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:22.533181"], ["email", "test@email.com"], ["password_digest", "$2a$04$Je10ujdSImvfl0EtsGaF2.vePsBUcKk/fe.I42hyeL/HWkZNOu2sq"], ["updated_at", "2014-12-09 07:50:22.533181"], ["username", "test"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (1.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '33d697672ec2c024240cf0bc496c60a9' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.585421"], ["expiration", "2014-12-10 07:50:22.591559"], ["key", "33d697672ec2c024240cf0bc496c60a9"], ["updated_at", "2014-12-09 07:50:22.585421"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 20ms (Views: 4.4ms | ActiveRecord: 2.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (20.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.620603"], ["email", "test@email.com"], ["password_digest", "$2a$04$MxtXx2bxpNes5X4T2j84NuGCMxRCULVpa07u7euWa66SclEXwiDEq"], ["updated_at", "2014-12-09 07:50:22.620603"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 9ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[35m (6.3ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.728534"], ["email", "test@email.com"], ["password_digest", "$2a$04$8d9EJMosm.Tv9SbJtmew9eLmhbkOmwgYN5lby/28xYltzPPCJKP2e"], ["updated_at", "2014-12-09 07:50:22.728534"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b560fb88e3f1abfbbd1d18d5356007be' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:22.746358"], ["expiration", "2014-12-10 07:50:22.762205"], ["key", "b560fb88e3f1abfbbd1d18d5356007be"], ["updated_at", "2014-12-09 07:50:22.746358"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 57ms (Views: 20.2ms | ActiveRecord: 1.3ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b560fb88e3f1abfbbd1d18d5356007be' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[36m (8.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:22.816771"], ["email", "test@email.com"], ["password_digest", "$2a$04$3C6bmenTgWNQ4bWo14prn.tb0a95GbD162wNRBLcdO/bdEvEwF.Hi"], ["updated_at", "2014-12-09 07:50:22.816771"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd0142a480ade3f5c5322d20cf98913d8' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:22.819137"], ["expiration", "2014-12-10 07:50:22.820097"], ["key", "d0142a480ade3f5c5322d20cf98913d8"], ["updated_at", "2014-12-09 07:50:22.819137"], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:45:22.841758"], ["updated_at", "2014-12-09 07:50:22.843172"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd0142a480ade3f5c5322d20cf98913d8' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (9.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.894996"], ["email", "test@email.com"], ["password_digest", "$2a$04$7u6OTyTngJGfkpSJOkkGPuYIKsgywkySitoeGl23o.BfRHRX9kuWG"], ["updated_at", "2014-12-09 07:50:22.894996"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd8cb555e19d17a198e72c18b9bc90765' LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:22.900793"], ["expiration", "2014-12-10 07:50:22.908542"], ["key", "d8cb555e19d17a198e72c18b9bc90765"], ["updated_at", "2014-12-09 07:50:22.900793"], ["user_id", 1]]
  [1m[35m (2.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:50:22 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd8cb555e19d17a198e72c18b9bc90765' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 35ms (Views: 3.0ms | ActiveRecord: 0.4ms)
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:22.969797"], ["email", "test@email.com"], ["password_digest", "$2a$04$VGt8vvdeDURF4/HREDyWNesh3kzru78sNfV4sGZeaH2VEM247pn8G"], ["updated_at", "2014-12-09 07:50:22.969797"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (3.6ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '825a12e7ce72a9d39d563792cbb2d692' LIMIT 1[0m
  [1m[35mSQL (13.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:22.972531"], ["expiration", "2014-12-10 07:50:22.977248"], ["key", "825a12e7ce72a9d39d563792cbb2d692"], ["updated_at", "2014-12-09 07:50:22.972531"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:45:22.992867"], ["updated_at", "2014-12-09 07:50:23.019766"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:50:23 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (2.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '825a12e7ce72a9d39d563792cbb2d692' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 0.6ms | ActiveRecord: 2.5ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:50:23 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:23.076060"], ["email", "test"], ["password_digest", "$2a$04$LbHOkN0AvHdyj4MhFQ4W6ulyHJLjJdv9lKKl.dFMrfZt9bU8bdZKu"], ["updated_at", "2014-12-09 07:50:23.076060"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 34ms (Views: 6.3ms | ActiveRecord: 6.9ms)
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:50:23 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (2.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 39ms (Views: 1.2ms | ActiveRecord: 2.9ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (2.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (10.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:23.176286"], ["email", "test@email.com"], ["password_digest", "$2a$04$zIvkcfwIcthudifZ2qkcZeoPAd.XawPw5Jos1n2HUPB0WbMycYfbm"], ["updated_at", "2014-12-09 07:50:23.176286"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (9.6ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a96e2610ff6ea2fdb99f21268b3bb46b' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:23.191919"], ["expiration", "2014-12-10 07:50:23.209193"], ["key", "a96e2610ff6ea2fdb99f21268b3bb46b"], ["updated_at", "2014-12-09 07:50:23.191919"], ["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:50:23 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a96e2610ff6ea2fdb99f21268b3bb46b' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[36m (8.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:50:23 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:57.879010"], ["email", "test@email.com"], ["password_digest", "$2a$04$yGyu0drv85Tmht5Sfe2.oeGIEViIlmPEAYroZNdU208hSnvflIy2a"], ["updated_at", "2014-12-09 07:50:57.879010"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a83ba52d02730d99f1cedef5ded990f2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a83ba52d02730d99f1cedef5ded990f2"], ["reset_password_token_exp", "2014-12-09 15:50:57.890591"], ["updated_at", "2014-12-09 07:50:57.894144"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a83ba52d02730d99f1cedef5ded990f2/" for 127.0.0.1 at 2014-12-08 23:50:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a83ba52d02730d99f1cedef5ded990f2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a83ba52d02730d99f1cedef5ded990f2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$EphM8NEFv08HElIti.MP4urvQZUSr/gMWYk/s4NjNgCqe.TyAR/mW"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:50:57.948932"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 27ms (Views: 9.6ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:57.974589"], ["email", "test@email.com"], ["password_digest", "$2a$04$25QnelSZYQBpPcdV5A8SLe.UYxx9ZSWWkr7deVnPFG.sVWYjPLZDe"], ["updated_at", "2014-12-09 07:50:57.974589"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7c94fc55bd3dbef115151064bd7f7140' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7c94fc55bd3dbef115151064bd7f7140"], ["reset_password_token_exp", "2014-12-09 15:50:57.977068"], ["updated_at", "2014-12-09 07:50:57.980415"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/7c94fc55bd3dbef115151064bd7f7140/" for 127.0.0.1 at 2014-12-08 23:50:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7c94fc55bd3dbef115151064bd7f7140"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7c94fc55bd3dbef115151064bd7f7140' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$Csx6RY9778AoiHLt.NOSle937fr.KSm5goWj8QJb.Uh4Ks4ySqO26"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:50:57.990503"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 8ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/7c94fc55bd3dbef115151064bd7f7140/" for 127.0.0.1 at 2014-12-08 23:50:57 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"7c94fc55bd3dbef115151064bd7f7140"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '7c94fc55bd3dbef115151064bd7f7140' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:58.010526"], ["email", "test@email.com"], ["password_digest", "$2a$04$z0NbdDss5GNdC9nuWmaDdePAKicevgGq6V16X5K0YDAV/BVPeRKbW"], ["updated_at", "2014-12-09 07:50:58.010526"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bd321c69f06bdf709f3a61fcd6a4d4fb' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bd321c69f06bdf709f3a61fcd6a4d4fb"], ["reset_password_token_exp", "2014-12-09 15:50:58.013476"], ["updated_at", "2014-12-09 07:50:58.016894"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/bd321c69f06bdf709f3a61fcd6a4d4fb/" for 127.0.0.1 at 2014-12-08 23:50:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"bd321c69f06bdf709f3a61fcd6a4d4fb"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'bd321c69f06bdf709f3a61fcd6a4d4fb' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 24ms (Views: 0.4ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:58.069708"], ["email", "test@email.com"], ["password_digest", "$2a$04$DOHERQDXDpNEbcmVS17yBO2dprEzTe/G4YPXyhFO5y.l2bxt.7o/2"], ["updated_at", "2014-12-09 07:50:58.069708"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7b9c8c32ad83dbd7c6b52280ec8bd693' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7b9c8c32ad83dbd7c6b52280ec8bd693"], ["reset_password_token_exp", "2014-12-09 15:50:58.074032"], ["updated_at", "2014-12-09 07:50:58.258478"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:50:58 -0800
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:58.308803"], ["email", "test@email.com"], ["password_digest", "$2a$04$p1I3L1l.DFqOhs9bnUcI/.vORzGQiYYH9YpOBYVK2qnId4WgKefu6"], ["updated_at", "2014-12-09 07:50:58.308803"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3587fc99c444c99d68b5e0e3df320e92' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3587fc99c444c99d68b5e0e3df320e92"], ["reset_password_token_exp", "2014-12-09 15:50:58.311896"], ["updated_at", "2014-12-09 07:50:58.315075"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/f4ccf88e0105ad2751174a268d277dda/" for 127.0.0.1 at 2014-12-08 23:50:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"f4ccf88e0105ad2751174a268d277dda"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'f4ccf88e0105ad2751174a268d277dda' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (4.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (4.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:58.389718"], ["email", "test@email.com"], ["password_digest", "$2a$04$uxdCDga8jGzMBeEizFrVWe/CJfAu666YrGG1D1A2q4RY6FUzdvK.i"], ["updated_at", "2014-12-09 07:50:58.389718"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:50:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'db8c78df9326750921898ce18eeafa64' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "db8c78df9326750921898ce18eeafa64"], ["reset_password_token_exp", "2014-12-09 15:50:58.403405"], ["updated_at", "2014-12-09 07:50:58.407128"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (5.3ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 425.9ms

Sent mail to test@email.com (15.4ms)
Date: Mon, 08 Dec 2014 23:50:58 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a9e2d6288_38053fc421465be823597@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9e2d3542_38053fc421465be8234e2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9e2d3542_38053fc421465be8234e2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/db8c78df9326750921898ce18eeafa64/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a9e2d3542_38053fc421465be8234e2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/db8c78df9326750921898ce18eeafa64/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a9e2d3542_38053fc421465be8234e2--

  Rendered text template (0.0ms)
Completed 204 No Content in 482ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:58.889820"], ["email", "test@email.com"], ["password_digest", "$2a$04$F0esRSLFpkYMvfMfGTcpgu1eIWn1gIjX7IEHllS6zUI3XaVtQHi7u"], ["updated_at", "2014-12-09 07:50:58.889820"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:50:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (8.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 32.5ms

Sent mail to foo@bar.com (14.0ms)
Date: Mon, 08 Dec 2014 23:50:58 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a9e2e4228_38053fc421465be8237c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9e2e10f6_38053fc421465be8236ad";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9e2e10f6_38053fc421465be8236ad
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a9e2e10f6_38053fc421465be8236ad
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a9e2e10f6_38053fc421465be8236ad--

  Rendered text template (0.0ms)
Completed 204 No Content in 51ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.013371"], ["email", "test@email.com"], ["password_digest", "$2a$04$C/qVrqJfCxLNpogEcYp.8.m/5t7a2Tv1qorhe90zKNo7Dw9Eef81."], ["updated_at", "2014-12-09 07:50:59.013371"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c53c9f81eb59f92719a421256a6f309e' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c53c9f81eb59f92719a421256a6f309e"], ["reset_password_token_exp", "2014-12-09 15:50:59.021079"], ["updated_at", "2014-12-09 07:50:59.023326"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 12.1ms

Sent mail to test@email.com (4.7ms)
Date: Mon, 08 Dec 2014 23:50:59 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486a9e3f8a8_38053fc421465be8239f2@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9e3e9e5_38053fc421465be823870";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9e3e9e5_38053fc421465be823870
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/c53c9f81eb59f92719a421256a6f309e/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486a9e3e9e5_38053fc421465be823870
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/c53c9f81eb59f92719a421256a6f309e/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486a9e3e9e5_38053fc421465be823870--

  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 0.3ms | ActiveRecord: 2.4ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.097043"], ["email", "test@email.com"], ["password_digest", "$2a$04$ILjG9h8c.B/F2uu5Z0zv8OomFUsSu.p2FnIQMkZCVj/2ji5a7ctyy"], ["updated_at", "2014-12-09 07:50:59.097043"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 23.3ms

Sent mail to foo@bar.com (32.5ms)
Date: Mon, 08 Dec 2014 23:50:59 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486a9e32494a_38053fc421465be82419b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486a9e321bb7_38053fc421465be82407a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486a9e321bb7_38053fc421465be82407a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486a9e321bb7_38053fc421465be82407a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486a9e321bb7_38053fc421465be82407a--

  Rendered text template (0.0ms)
Completed 204 No Content in 60ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.191375"], ["email", "test@email.com"], ["password_digest", "$2a$04$YWlePQu3iYUZA02/s7FdR.ezjm2zGrPQCkIqwnVCI46YvvBdaX872"], ["updated_at", "2014-12-09 07:50:59.191375"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f06422ffcb1aa751f1eb2bfb9a4ea2b5' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.302213"], ["expiration", "2014-12-10 07:50:59.306592"], ["key", "f06422ffcb1aa751f1eb2bfb9a4ea2b5"], ["updated_at", "2014-12-09 07:50:59.302213"], ["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 50ms (Views: 12.4ms | ActiveRecord: 2.4ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.330091"], ["email", "test@email.com"], ["password_digest", "$2a$04$Jh.R..dyTVDrteJy0okBEu48NX3VjrDlwDHiK5yD4HDlQlT//HP9W"], ["updated_at", "2014-12-09 07:50:59.330091"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.6ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '00a2b4c23206dec867883ded000b13d0' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.384611"], ["expiration", "2014-12-10 07:50:59.390361"], ["key", "00a2b4c23206dec867883ded000b13d0"], ["updated_at", "2014-12-09 07:50:59.384611"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 17ms (Views: 2.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.409897"], ["email", "test@email.com"], ["password_digest", "$2a$04$h771wcwiaqbo81y/TCGmLOv/G.xgeMbutQndE6B5VY6hrfX04vBAe"], ["updated_at", "2014-12-09 07:50:59.409897"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.520018"], ["email", "test@email.com"], ["password_digest", "$2a$04$opbYP5dD8p4SQJyryfxsdu/d3KKE8gLAbFOyzaEZGZSDleBfLJTvi"], ["updated_at", "2014-12-09 07:50:59.520018"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c66720ba9bb12d4f2ed97dbf6c23405f' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.533275"], ["expiration", "2014-12-10 07:50:59.565999"], ["key", "c66720ba9bb12d4f2ed97dbf6c23405f"], ["updated_at", "2014-12-09 07:50:59.533275"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 73ms (Views: 27.5ms | ActiveRecord: 2.0ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (10.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'c66720ba9bb12d4f2ed97dbf6c23405f' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 15ms (Views: 2.5ms | ActiveRecord: 10.2ms)
  [1m[36m (10.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.638951"], ["email", "test@email.com"], ["password_digest", "$2a$04$97/JXDcexHwFHJBdgpKusOVhTpfukkb/RAXx97h1z.1lq1Rdwzskq"], ["updated_at", "2014-12-09 07:50:59.638951"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '912a231ca37fc477fa67b8f17edb12bc' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.642518"], ["expiration", "2014-12-10 07:50:59.644653"], ["key", "912a231ca37fc477fa67b8f17edb12bc"], ["updated_at", "2014-12-09 07:50:59.642518"], ["user_id", 1]]
  [1m[36m (7.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:45:59.655543"], ["updated_at", "2014-12-09 07:50:59.658450"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.3ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '912a231ca37fc477fa67b8f17edb12bc' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.697553"], ["email", "test@email.com"], ["password_digest", "$2a$04$eTZKCm8lKFpWb2H7vqXNvOEBVYLlP1uAZbu1UqMphypwYKos.gtu2"], ["updated_at", "2014-12-09 07:50:59.697553"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '01308c67dab53b7258460e8769b3b562' LIMIT 1
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.713014"], ["expiration", "2014-12-10 07:50:59.714423"], ["key", "01308c67dab53b7258460e8769b3b562"], ["updated_at", "2014-12-09 07:50:59.713014"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '01308c67dab53b7258460e8769b3b562' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 37ms (Views: 13.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (14.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.776524"], ["email", "test@email.com"], ["password_digest", "$2a$04$kVbNitx7pYYRhGPBDghuyevlVeq2v4udOKe9687HFjiTVC1oBFykm"], ["updated_at", "2014-12-09 07:50:59.776524"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6c7cb83163c14c6ef4c29d45166a3597' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.797016"], ["expiration", "2014-12-10 07:50:59.800303"], ["key", "6c7cb83163c14c6ef4c29d45166a3597"], ["updated_at", "2014-12-09 07:50:59.797016"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:45:59.808707"], ["updated_at", "2014-12-09 07:50:59.809966"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '6c7cb83163c14c6ef4c29d45166a3597' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:50:59.890576"], ["email", "test"], ["password_digest", "$2a$04$gWT3ZrCQXx7aSWM6EhwNFOjNPHQWrNZ7tig5kZRYObq9gQbu8BhoS"], ["updated_at", "2014-12-09 07:50:59.890576"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 15ms (Views: 0.9ms | ActiveRecord: 1.5ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.924374"], ["email", "test@email.com"], ["password_digest", "$2a$04$f4SeDwtr7sFDepAuvbcqseMmAKNPM4KHasegWjYEglrAnIR6CPkoa"], ["updated_at", "2014-12-09 07:50:59.924374"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '403874183c5fb83d4490756854f3b1fa' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:50:59.942071"], ["expiration", "2014-12-10 07:50:59.942941"], ["key", "403874183c5fb83d4490756854f3b1fa"], ["updated_at", "2014-12-09 07:50:59.942071"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:50:59 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.5ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '403874183c5fb83d4490756854f3b1fa' LIMIT 1
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 25ms (Views: 2.4ms | ActiveRecord: 2.5ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:51:00 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:41.741785"], ["email", "test@email.com"], ["password_digest", "$2a$04$x.oJ8xNgYAYubmODbjmZ7eLh7Slg2rC8uGRXtMRIBSVSiw1xYtkrq"], ["updated_at", "2014-12-09 07:53:41.741785"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e4785bf334848bdbc709a91cd7fc70e0' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e4785bf334848bdbc709a91cd7fc70e0"], ["reset_password_token_exp", "2014-12-09 15:53:41.751299"], ["updated_at", "2014-12-09 07:53:41.774853"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/e4785bf334848bdbc709a91cd7fc70e0/" for 127.0.0.1 at 2014-12-08 23:53:41 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"e4785bf334848bdbc709a91cd7fc70e0"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e4785bf334848bdbc709a91cd7fc70e0' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$NTbDStwnszZRglonp2jys.Du87O2HtQ1LRgcjMNy/7MsOS1aETaBC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:53:41.833172"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 24.5ms | ActiveRecord: 2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (27.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:41.888101"], ["email", "test@email.com"], ["password_digest", "$2a$04$9uBhpTun5dCfWaD9QYTv4.4gTANGcTGSxmO8Zs7hUDEbJdZqZuWBy"], ["updated_at", "2014-12-09 07:53:41.888101"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '55380544a24979bbe73520b4eb497fca' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "55380544a24979bbe73520b4eb497fca"], ["reset_password_token_exp", "2014-12-09 15:53:41.953114"], ["updated_at", "2014-12-09 07:53:41.976153"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/55380544a24979bbe73520b4eb497fca/" for 127.0.0.1 at 2014-12-08 23:53:41 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"55380544a24979bbe73520b4eb497fca"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '55380544a24979bbe73520b4eb497fca' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$SHcxhFjMGOBRCqKOqQwMReW5fBdCafAxPPVQniiaWUHEgOjyF/ADW"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:53:42.034007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 56ms (Views: 15.2ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/55380544a24979bbe73520b4eb497fca/" for 127.0.0.1 at 2014-12-08 23:53:42 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"55380544a24979bbe73520b4eb497fca"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '55380544a24979bbe73520b4eb497fca' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (7.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:42.089647"], ["email", "test@email.com"], ["password_digest", "$2a$04$UJ40cJ89P3KfPpZoQWWvy.1D1TfxmaTpLpdQ2xrvBaMzPOlUHvRgG"], ["updated_at", "2014-12-09 07:53:42.089647"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e06c7a760a5a65fa1b93e0bc345ca50f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e06c7a760a5a65fa1b93e0bc345ca50f"], ["reset_password_token_exp", "2014-12-09 15:53:42.143486"], ["updated_at", "2014-12-09 07:53:42.146112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/e06c7a760a5a65fa1b93e0bc345ca50f/" for 127.0.0.1 at 2014-12-08 23:53:42 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"e06c7a760a5a65fa1b93e0bc345ca50f"}
  [1m[35mUser Load (3.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'e06c7a760a5a65fa1b93e0bc345ca50f' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 38ms (Views: 0.4ms | ActiveRecord: 4.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:42.226676"], ["email", "test@email.com"], ["password_digest", "$2a$04$Pp3gCKsLfakLIPl6lBNXf.SXjNKl6D4rKdSIsNPZP45353uVMvMre"], ["updated_at", "2014-12-09 07:53:42.226676"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd88a51df3998a1f4227b051e43b29319' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (14.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d88a51df3998a1f4227b051e43b29319"], ["reset_password_token_exp", "2014-12-09 15:53:42.247986"], ["updated_at", "2014-12-09 07:53:42.290680"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:53:42 -0800
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:42.315066"], ["email", "test@email.com"], ["password_digest", "$2a$04$Uax5EPIU4ngKx/Wh8..dPu/y9YcEdaEbcMTC7dR0HfqHE.7yUDnVC"], ["updated_at", "2014-12-09 07:53:42.315066"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6ed97d4d4351de4ab6deeaff8f0e8245' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (10.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6ed97d4d4351de4ab6deeaff8f0e8245"], ["reset_password_token_exp", "2014-12-09 15:53:42.319777"], ["updated_at", "2014-12-09 07:53:42.336047"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/dffbd97d44dab346fcbfb31c0332fff0/" for 127.0.0.1 at 2014-12-08 23:53:42 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"dffbd97d44dab346fcbfb31c0332fff0"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dffbd97d44dab346fcbfb31c0332fff0' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:42.389578"], ["email", "test@email.com"], ["password_digest", "$2a$04$4Ynp7IFg0neeDa/xU8qay.ck8TgLaF47yCzu8TwKTpHtU/Z5TIrCi"], ["updated_at", "2014-12-09 07:53:42.389578"], ["username", "test"]]
  [1m[35m (2.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:53:42 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '88067cc46a61a2a5d631f7003a696f7c' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (2.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "88067cc46a61a2a5d631f7003a696f7c"], ["reset_password_token_exp", "2014-12-09 15:53:42.433496"], ["updated_at", "2014-12-09 07:53:42.436647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (3.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 466.8ms

Sent mail to test@email.com (18.4ms)
Date: Mon, 08 Dec 2014 23:53:42 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486aa86e200c_38403ff6c2061be07108d@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aa86dfeda_38403ff6c2061be0709ef";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aa86dfeda_38403ff6c2061be0709ef
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/88067cc46a61a2a5d631f7003a696f7c/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486aa86dfeda_38403ff6c2061be0709ef
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/88067cc46a61a2a5d631f7003a696f7c/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486aa86dfeda_38403ff6c2061be0709ef--

  Rendered text template (0.1ms)
Completed 204 No Content in 529ms (Views: 1.0ms | ActiveRecord: 3.2ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:42.946597"], ["email", "test@email.com"], ["password_digest", "$2a$04$1oMUvxTq6PGgLjC48fD85u.g4eG4SneqHPss23Y7kNRzugfXYK7Ei"], ["updated_at", "2014-12-09 07:53:42.946597"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:53:42 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.4ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 13.5ms

Sent mail to foo@bar.com (7.2ms)
Date: Mon, 08 Dec 2014 23:53:42 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486aa86f378e_38403ff6c2061be07129@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aa86f2ff4_38403ff6c2061be0711b4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aa86f2ff4_38403ff6c2061be0711b4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486aa86f2ff4_38403ff6c2061be0711b4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486aa86f2ff4_38403ff6c2061be0711b4--

  Rendered text template (0.0ms)
Completed 204 No Content in 53ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:43.107663"], ["email", "test@email.com"], ["password_digest", "$2a$04$xs3we02OkhosK2frgyQYauGud4WrRjSUPvkrBHjnvRnDSnevAI.Ae"], ["updated_at", "2014-12-09 07:53:43.107663"], ["username", "test"]]
  [1m[35m (21.9ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6edea857fd9ec561789a2fb7e9f8aa5f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6edea857fd9ec561789a2fb7e9f8aa5f"], ["reset_password_token_exp", "2014-12-09 15:53:43.158167"], ["updated_at", "2014-12-09 07:53:43.161408"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 15.8ms

Sent mail to test@email.com (5.1ms)
Date: Mon, 08 Dec 2014 23:53:43 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486aa87304ce_38403ff6c2061be0714dd@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aa872f227_38403ff6c2061be07135d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aa872f227_38403ff6c2061be07135d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/6edea857fd9ec561789a2fb7e9f8aa5f/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486aa872f227_38403ff6c2061be07135d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/6edea857fd9ec561789a2fb7e9f8aa5f/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486aa872f227_38403ff6c2061be07135d--

  Rendered text template (0.0ms)
Completed 204 No Content in 57ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (14.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:43.230286"], ["email", "test@email.com"], ["password_digest", "$2a$04$aSFfnCcGGtgUZnSvWkoq4uQh.3uegLAuRlvRjsaDzewmjkj4qvWbm"], ["updated_at", "2014-12-09 07:53:43.230286"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.9ms

Sent mail to foo@bar.com (26.6ms)
Date: Mon, 08 Dec 2014 23:53:43 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486aa8745321_38403ff6c2061be071660@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aa87436b3_38403ff6c2061be07157";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aa87436b3_38403ff6c2061be07157
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486aa87436b3_38403ff6c2061be07157
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486aa87436b3_38403ff6c2061be07157--

  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 6.0ms | ActiveRecord: 0.5ms)
  [1m[35m (12.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:43.391791"], ["email", "test@email.com"], ["password_digest", "$2a$04$14O6NBGB7gOFDmsAUDfwVeQS3EXYwUm./ui0wLcqkrXGgOUlqia1i"], ["updated_at", "2014-12-09 07:53:43.391791"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a6e3ab0aff351c568bc4c06386c5e84e' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:43.491511"], ["expiration", "2014-12-10 07:53:43.494988"], ["key", "a6e3ab0aff351c568bc4c06386c5e84e"], ["updated_at", "2014-12-09 07:53:43.491511"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 105ms (Views: 28.2ms | ActiveRecord: 1.2ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:43.533845"], ["email", "test@email.com"], ["password_digest", "$2a$04$zUtT0xqQeKvpvG3B3XsfvOnZNI2ubQa/0BH2abLQ98.BORXVqZLaW"], ["updated_at", "2014-12-09 07:53:43.533845"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.6ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '087da1df9799e66caf12055755ecc347' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:43.565379"], ["expiration", "2014-12-10 07:53:43.570536"], ["key", "087da1df9799e66caf12055755ecc347"], ["updated_at", "2014-12-09 07:53:43.565379"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 30ms (Views: 4.1ms | ActiveRecord: 2.6ms)
  [1m[35m (7.8ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:43.614305"], ["email", "test@email.com"], ["password_digest", "$2a$04$7KhLCilPHiNjuan1mHN4/Ob8MEJvZw6rLS7Sil0osxgvawlIE0DCe"], ["updated_at", "2014-12-09 07:53:43.614305"], ["username", "test"]]
  [1m[35m (26.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 12ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (34.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:43.746459"], ["email", "test@email.com"], ["password_digest", "$2a$04$xIqy5GzGAfpkXnqLv6PKweuEfKZpyoERXA2tc0pLgfQhHLmo7xoau"], ["updated_at", "2014-12-09 07:53:43.746459"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '74f10e97bf5b6841d9af065dd07d95be' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:43.785160"], ["expiration", "2014-12-10 07:53:43.787316"], ["key", "74f10e97bf5b6841d9af065dd07d95be"], ["updated_at", "2014-12-09 07:53:43.785160"], ["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 55ms (Views: 6.6ms | ActiveRecord: 2.4ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.3ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '74f10e97bf5b6841d9af065dd07d95be' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 46ms (Views: 5.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:43.866751"], ["email", "test@email.com"], ["password_digest", "$2a$04$VmbbIOurgK4AXUS0LQIUJe8SW/0bboTW7ixRVb.NKPZzkwmiFZZYa"], ["updated_at", "2014-12-09 07:53:43.866751"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f9d2d818e0b5d54689a018e00a350a29' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:43.869050"], ["expiration", "2014-12-10 07:53:43.870640"], ["key", "f9d2d818e0b5d54689a018e00a350a29"], ["updated_at", "2014-12-09 07:53:43.869050"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:48:43.872544"], ["updated_at", "2014-12-09 07:53:43.873008"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f9d2d818e0b5d54689a018e00a350a29' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:43.907132"], ["email", "test@email.com"], ["password_digest", "$2a$04$UcB/DsEKwZXPv8GNvZXUceqm5qy8izwShMkDWrby76tP.rkc4swVu"], ["updated_at", "2014-12-09 07:53:43.907132"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '6e6c0d29f599c05da5f73b0f4396a5c4' LIMIT 1
  [1m[36mSQL (25.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:43.909042"], ["expiration", "2014-12-10 07:53:43.911238"], ["key", "6e6c0d29f599c05da5f73b0f4396a5c4"], ["updated_at", "2014-12-09 07:53:43.909042"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:53:43 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '6e6c0d29f599c05da5f73b0f4396a5c4' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 13ms (Views: 8.1ms | ActiveRecord: 0.6ms)
  [1m[36m (6.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (23.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:44.027937"], ["email", "test@email.com"], ["password_digest", "$2a$04$L787DASSDsZdDbMnHqz3p.vDSsOfWmunOlkhaS8TnC3Q9bd3zSYpS"], ["updated_at", "2014-12-09 07:53:44.027937"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7e526204d4437d3bf87b5e1e36b7b7e8' LIMIT 1[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:44.054589"], ["expiration", "2014-12-10 07:53:44.055811"], ["key", "7e526204d4437d3bf87b5e1e36b7b7e8"], ["updated_at", "2014-12-09 07:53:44.054589"], ["user_id", 1]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:48:44.071092"], ["updated_at", "2014-12-09 07:53:44.073883"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:53:44 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7e526204d4437d3bf87b5e1e36b7b7e8' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (8.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:53:44 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:53:44.166626"], ["email", "test"], ["password_digest", "$2a$04$UnVRJBXXpZNyfSfX25Tl1.VeHEmuu59p4gZfao8Nhsn2ovX5ewWZK"], ["updated_at", "2014-12-09 07:53:44.166626"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 41ms (Views: 2.0ms | ActiveRecord: 1.3ms)
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:53:44 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 30ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:44.298330"], ["email", "test@email.com"], ["password_digest", "$2a$04$YhcfG4ZQ2CF8lCJvCsg.WeeCBT7ylJ.iWj7RcFHwiuWU6vKG5z/y2"], ["updated_at", "2014-12-09 07:53:44.298330"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '17204fd518c83a54bd5a0ed53285ea00' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:44.306410"], ["expiration", "2014-12-10 07:53:44.308078"], ["key", "17204fd518c83a54bd5a0ed53285ea00"], ["updated_at", "2014-12-09 07:53:44.306410"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:53:44 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '17204fd518c83a54bd5a0ed53285ea00' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 0.9ms)
  [1m[36m (7.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.9ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:53:44 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:44.390574"], ["email", "test@email.com"], ["password_digest", "$2a$04$ST2xDJZpewmm7tv0S8HPMOQfW0a2sud2MhElTmdsaOeSg2Uyo99Uu"], ["updated_at", "2014-12-09 07:53:44.390574"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (3.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '98ebf89a425e664c25355b693e94d17e' LIMIT 1[0m
  [1m[35mSQL (17.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:53:44.395258"], ["expiration", "2014-12-10 07:53:44.405491"], ["key", "98ebf89a425e664c25355b693e94d17e"], ["updated_at", "2014-12-09 07:53:44.395258"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:01.927183"], ["email", "test@email.com"], ["password_digest", "$2a$04$fIEwiaXfI3Ucla4EsknsrOVRP1XH5Ruyk5Is2J2hHGdpovBZqztX6"], ["updated_at", "2014-12-09 07:54:01.927183"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a36599d680346e5618022ad3a75513a3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (17.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a36599d680346e5618022ad3a75513a3"], ["reset_password_token_exp", "2014-12-09 15:54:01.947236"], ["updated_at", "2014-12-09 07:54:01.981838"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a36599d680346e5618022ad3a75513a3/" for 127.0.0.1 at 2014-12-08 23:54:01 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a36599d680346e5618022ad3a75513a3"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a36599d680346e5618022ad3a75513a3' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$PDsofc5pP9e3qwFT.XcY6u4v8tFtdU/lNVW.2VtkrtmXlT9oRii1G"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:54:02.054394"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 31ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (7.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:02.084462"], ["email", "test@email.com"], ["password_digest", "$2a$04$XUO7yvaNF12csMPFXg/vQ.Yf./Q2JGangKcb1u7nhxT2Gx5YwqPgC"], ["updated_at", "2014-12-09 07:54:02.084462"], ["username", "test"]]
  [1m[35m (2.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8d9e9d276fcc3cff2bf1e10ceef9e8a0' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "8d9e9d276fcc3cff2bf1e10ceef9e8a0"], ["reset_password_token_exp", "2014-12-09 15:54:02.105187"], ["updated_at", "2014-12-09 07:54:02.106324"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/8d9e9d276fcc3cff2bf1e10ceef9e8a0/" for 127.0.0.1 at 2014-12-08 23:54:02 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"8d9e9d276fcc3cff2bf1e10ceef9e8a0"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8d9e9d276fcc3cff2bf1e10ceef9e8a0' LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$9zAAWKeTjDVsgQUh.PO1oOj174zsGg8x9YhCA1STUbG8YfxPqJPcC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:54:02.116789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 9ms (Views: 0.3ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/8d9e9d276fcc3cff2bf1e10ceef9e8a0/" for 127.0.0.1 at 2014-12-08 23:54:02 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"8d9e9d276fcc3cff2bf1e10ceef9e8a0"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8d9e9d276fcc3cff2bf1e10ceef9e8a0' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:02.163484"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZAtDr7Hb1htio4QsrAWzNu2kX21ous4hWC5qtTZpG7yXj1baEaGLy"], ["updated_at", "2014-12-09 07:54:02.163484"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0b363dc5303ad2e00212bed73f9eed9b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (4.1ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "0b363dc5303ad2e00212bed73f9eed9b"], ["reset_password_token_exp", "2014-12-09 15:54:02.168093"], ["updated_at", "2014-12-09 07:54:02.186579"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/0b363dc5303ad2e00212bed73f9eed9b/" for 127.0.0.1 at 2014-12-08 23:54:02 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"0b363dc5303ad2e00212bed73f9eed9b"}
  [1m[35mUser Load (10.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0b363dc5303ad2e00212bed73f9eed9b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 111ms (Views: 0.3ms | ActiveRecord: 11.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:02.338061"], ["email", "test@email.com"], ["password_digest", "$2a$04$Mh50fr2rjsN6bdA4/OGOUO.qZ74Bz97g5Unq2LK1tsxbQCR18doHe"], ["updated_at", "2014-12-09 07:54:02.338061"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (5.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9b78a8621cd836d9a7db04c633dde9d3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "9b78a8621cd836d9a7db04c633dde9d3"], ["reset_password_token_exp", "2014-12-09 15:54:02.383514"], ["updated_at", "2014-12-09 07:54:02.496299"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:54:02 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (18.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:02.528338"], ["email", "test@email.com"], ["password_digest", "$2a$04$Nf4f8e35gSP3M5VSaUA4/uLPcKgWt1PeDvZ2vLOlKcpeNEc56giPe"], ["updated_at", "2014-12-09 07:54:02.528338"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '65b2dfa391d453ce542148e347f097cc' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (12.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "65b2dfa391d453ce542148e347f097cc"], ["reset_password_token_exp", "2014-12-09 15:54:02.557863"], ["updated_at", "2014-12-09 07:54:02.561700"]]
  [1m[35m (12.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/fabf7d38bccbc330555a547dbdc37cc6/" for 127.0.0.1 at 2014-12-08 23:54:02 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"fabf7d38bccbc330555a547dbdc37cc6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'fabf7d38bccbc330555a547dbdc37cc6' LIMIT 1[0m
  Rendered text template (1.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 7ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (25.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:02.665209"], ["email", "test@email.com"], ["password_digest", "$2a$04$O.DWZjjUUkHrZhgf24ogpOYyApHQy/7CyHaPXt6ogu1jFIpkxFXeW"], ["updated_at", "2014-12-09 07:54:02.665209"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:02 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a3e2cb480d470c0d302c92a6b5c1678f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a3e2cb480d470c0d302c92a6b5c1678f"], ["reset_password_token_exp", "2014-12-09 15:54:02.723976"], ["updated_at", "2014-12-09 07:54:02.725704"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (7.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 579.2ms

Sent mail to test@email.com (35.4ms)
Date: Mon, 08 Dec 2014 23:54:03 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486aa9b51e00_385d3fd260465bf04785d@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aa9b4ff13_385d3fd260465bf0477cc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aa9b4ff13_385d3fd260465bf0477cc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/a3e2cb480d470c0d302c92a6b5c1678f/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486aa9b4ff13_385d3fd260465bf0477cc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/a3e2cb480d470c0d302c92a6b5c1678f/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486aa9b4ff13_385d3fd260465bf0477cc--

  Rendered text template (0.0ms)
Completed 204 No Content in 662ms (Views: 0.7ms | ActiveRecord: 2.7ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:03.410505"], ["email", "test@email.com"], ["password_digest", "$2a$04$oxtxUFtvg/ib08OydkOfmeokkUJj5b6nkjAAy1BDowzUU9uvrY6Ru"], ["updated_at", "2014-12-09 07:54:03.410505"], ["username", "test"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:03 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 20.7ms

Sent mail to foo@bar.com (6.9ms)
Date: Mon, 08 Dec 2014 23:54:03 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486aa9b77113_385d3fd260465bf04806e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aa9b76643_385d3fd260465bf0479ea";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aa9b76643_385d3fd260465bf0479ea
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486aa9b76643_385d3fd260465bf0479ea
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486aa9b76643_385d3fd260465bf0479ea--

  Rendered text template (0.0ms)
Completed 204 No Content in 40ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (28.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:03.533232"], ["email", "test@email.com"], ["password_digest", "$2a$04$u2lzJspYkhGasjRB1yJn8.iBdrxOZy7rqO9bc8vqrwOg.G7eW1Eiu"], ["updated_at", "2014-12-09 07:54:03.533232"], ["username", "test"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:03 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (5.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e6d7c6dc556153e790e12cbea1681c30' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (2.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e6d7c6dc556153e790e12cbea1681c30"], ["reset_password_token_exp", "2014-12-09 15:54:03.648472"], ["updated_at", "2014-12-09 07:54:03.653854"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 3.3ms

Sent mail to test@email.com (4.9ms)
Date: Mon, 08 Dec 2014 23:54:03 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486aa9ba1b20_385d3fd260465bf04824b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aa9ba0f2f_385d3fd260465bf04811c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aa9ba0f2f_385d3fd260465bf04811c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/e6d7c6dc556153e790e12cbea1681c30/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486aa9ba0f2f_385d3fd260465bf04811c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/e6d7c6dc556153e790e12cbea1681c30/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486aa9ba0f2f_385d3fd260465bf04811c--

  Rendered text template (0.0ms)
Completed 204 No Content in 47ms (Views: 0.5ms | ActiveRecord: 9.0ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:03.702170"], ["email", "test@email.com"], ["password_digest", "$2a$04$iQ.px3lCkCkVvBBruO0/Muw0pJ8cLUf45S0ABEud5Kz3ySpkWZ3L."], ["updated_at", "2014-12-09 07:54:03.702170"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:03 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 3.2ms

Sent mail to foo@bar.com (15.7ms)
Date: Mon, 08 Dec 2014 23:54:03 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486aa9bb2aa4_385d3fd260465bf0484ac@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aa9bb1f54_385d3fd260465bf048367";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aa9bb1f54_385d3fd260465bf048367
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486aa9bb1f54_385d3fd260465bf048367
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486aa9bb1f54_385d3fd260465bf048367--

  Rendered text template (0.0ms)
Completed 204 No Content in 69ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (9.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:03.834776"], ["email", "test@email.com"], ["password_digest", "$2a$04$nfSikTwL6uo1Xn.J67VIQ.39geX.oXX6pcYhKeAginv/QoxO..hcO"], ["updated_at", "2014-12-09 07:54:03.834776"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:03 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'de646ce20946d93ee5a8f232b60495d0' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:03.989401"], ["expiration", "2014-12-10 07:54:03.992591"], ["key", "de646ce20946d93ee5a8f232b60495d0"], ["updated_at", "2014-12-09 07:54:03.989401"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 93ms (Views: 9.6ms | ActiveRecord: 1.6ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.060870"], ["email", "test@email.com"], ["password_digest", "$2a$04$YVBP5.9CXQIP43Nu3KyIyOsCMUSztfaRpJ0NmezAXKm1J8Dx0D63m"], ["updated_at", "2014-12-09 07:54:04.060870"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (2.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7e366db320c2af5ca162478ddfad2f56' LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:04.144352"], ["expiration", "2014-12-10 07:54:04.145732"], ["key", "7e366db320c2af5ca162478ddfad2f56"], ["updated_at", "2014-12-09 07:54:04.144352"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 81ms (Views: 3.3ms | ActiveRecord: 4.7ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (14.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:04.178522"], ["email", "test@email.com"], ["password_digest", "$2a$04$rPCz2Fze4L9pOZk7Os02Uu.HRn5gqTyi6wkRfDxRbvagrbtSjauwy"], ["updated_at", "2014-12-09 07:54:04.178522"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 19ms (Views: 12.6ms | ActiveRecord: 1.6ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:04.251119"], ["email", "test@email.com"], ["password_digest", "$2a$04$eCkCXji4XRbH/7FOiH5BnOXkeEh9it9IwPZzqvPld4/Try98CWnLm"], ["updated_at", "2014-12-09 07:54:04.251119"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '8a55b9ca488dfd7158d8b4e9a6360408' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.307985"], ["expiration", "2014-12-10 07:54:04.310124"], ["key", "8a55b9ca488dfd7158d8b4e9a6360408"], ["updated_at", "2014-12-09 07:54:04.307985"], ["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 33ms (Views: 15.3ms | ActiveRecord: 1.7ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '8a55b9ca488dfd7158d8b4e9a6360408' LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.4ms)
  [1m[36m (8.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.364673"], ["email", "test@email.com"], ["password_digest", "$2a$04$l17RzzqBa5/NqRw9TxZcvuNIwhIXuWhHQYwGyCV7/Q5Fq2JxuaunO"], ["updated_at", "2014-12-09 07:54:04.364673"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a82ffff48571b18c2fd8e7a6161717c3' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.366956"], ["expiration", "2014-12-10 07:54:04.367873"], ["key", "a82ffff48571b18c2fd8e7a6161717c3"], ["updated_at", "2014-12-09 07:54:04.366956"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:49:04.369503"], ["updated_at", "2014-12-09 07:54:04.369999"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.6ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a82ffff48571b18c2fd8e7a6161717c3' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:04.392034"], ["email", "test@email.com"], ["password_digest", "$2a$04$4KelnhCATYP7KF/MrQ/Kcu4YA3CKL7crm3bGVPlq4DKoRMXlCXtF2"], ["updated_at", "2014-12-09 07:54:04.392034"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7212a9de533f0b4838fe815c7fe705ec' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:04.394327"], ["expiration", "2014-12-10 07:54:04.395531"], ["key", "7212a9de533f0b4838fe815c7fe705ec"], ["updated_at", "2014-12-09 07:54:04.394327"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7212a9de533f0b4838fe815c7fe705ec' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.409926"], ["email", "test@email.com"], ["password_digest", "$2a$04$WROJSdhcJtXn5bX5GYeoXOiJ8ZzWaruDjXHvINXd6XeLENyrZQmNe"], ["updated_at", "2014-12-09 07:54:04.409926"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '2f94deb20b20089c7dcd2b34b4a3efc0' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.411968"], ["expiration", "2014-12-10 07:54:04.413080"], ["key", "2f94deb20b20089c7dcd2b34b4a3efc0"], ["updated_at", "2014-12-09 07:54:04.411968"], ["user_id", 1]]
  [1m[36m (24.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:49:04.439217"], ["updated_at", "2014-12-09 07:54:04.441879"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '2f94deb20b20089c7dcd2b34b4a3efc0' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:04.480859"], ["email", "test"], ["password_digest", "$2a$04$IJ.C8QaRaFIdRniuGh4h1.L0mXknBAqnP8NRWAXHoQkPoOK0PABGi"], ["updated_at", "2014-12-09 07:54:04.480859"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 52ms (Views: 29.1ms | ActiveRecord: 1.2ms)
  [1m[36m (14.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (10.7ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 20ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (11.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.614336"], ["email", "test@email.com"], ["password_digest", "$2a$04$LYiu9ugyTJNMamNmc9VE6.9S5Pe5PW66y2SYpiq.k74W.9NuVXexC"], ["updated_at", "2014-12-09 07:54:04.614336"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '2085b1e52379e1a8aead85fdc923cea9' LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.628812"], ["expiration", "2014-12-10 07:54:04.630681"], ["key", "2085b1e52379e1a8aead85fdc923cea9"], ["updated_at", "2014-12-09 07:54:04.628812"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '2085b1e52379e1a8aead85fdc923cea9' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 0.5ms)
  [1m[36m (10.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.691960"], ["email", "test@email.com"], ["password_digest", "$2a$04$cnwW6ccQ5Ewf6xMjeMrHheyk3EJmCMofuqg1nL/e3Clk9mJiqqe.2"], ["updated_at", "2014-12-09 07:54:04.691960"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ce953e17909d0c3a3f45668ccc5c3c20' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:04.694347"], ["expiration", "2014-12-10 07:54:04.697341"], ["key", "ce953e17909d0c3a3f45668ccc5c3c20"], ["updated_at", "2014-12-09 07:54:04.694347"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-08 23:54:04 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (7.7ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ce953e17909d0c3a3f45668ccc5c3c20' LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 500 Internal Server Error in 60ms
  [1m[36m (14.9ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:19.201825"], ["email", "test@email.com"], ["password_digest", "$2a$04$m5jVEiRg.sLsrC/eAYVbfOFUWWpSK1Lv3AbwRcxGSMWFX1V8Xt79G"], ["updated_at", "2014-12-09 07:54:19.201825"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '96ffb3ac042838ffe0442efc5f5ee1b1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (24.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "96ffb3ac042838ffe0442efc5f5ee1b1"], ["reset_password_token_exp", "2014-12-09 15:54:19.225391"], ["updated_at", "2014-12-09 07:54:19.251718"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/96ffb3ac042838ffe0442efc5f5ee1b1/" for 127.0.0.1 at 2014-12-08 23:54:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"96ffb3ac042838ffe0442efc5f5ee1b1"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '96ffb3ac042838ffe0442efc5f5ee1b1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.0ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$dWc.qUPa8oAM0fU3hoCnEeBIdOSy2hHTsqucRv2gi5NJtdZQ5Zc7y"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:54:19.375275"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 36ms (Views: 11.2ms | ActiveRecord: 4.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:19.450933"], ["email", "test@email.com"], ["password_digest", "$2a$04$xfO8NlJKpD9XNlxJNpYCmuqtUUQh2uq/diO/9Fl2BzowxjFLgAl1q"], ["updated_at", "2014-12-09 07:54:19.450933"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '21309e60bfae5c6cb3f06d767e30954f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "21309e60bfae5c6cb3f06d767e30954f"], ["reset_password_token_exp", "2014-12-09 15:54:19.488910"], ["updated_at", "2014-12-09 07:54:19.501435"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/21309e60bfae5c6cb3f06d767e30954f/" for 127.0.0.1 at 2014-12-08 23:54:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"21309e60bfae5c6cb3f06d767e30954f"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '21309e60bfae5c6cb3f06d767e30954f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$URw4iAP6GF.JZZbYbNTTE.95VqZ7oMPJNBbBmoiq255nvv5WpfwPi"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:54:19.531170"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 14ms (Views: 1.4ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/21309e60bfae5c6cb3f06d767e30954f/" for 127.0.0.1 at 2014-12-08 23:54:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"21309e60bfae5c6cb3f06d767e30954f"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '21309e60bfae5c6cb3f06d767e30954f' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (12.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (13.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (44.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:19.586604"], ["email", "test@email.com"], ["password_digest", "$2a$04$q/Ve8CxdvRTJ4R8DS2PAZOWSIUYcyDHg/9wbjYEKhOqhqDXpLS8wm"], ["updated_at", "2014-12-09 07:54:19.586604"], ["username", "test"]]
  [1m[36m (3.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c2ad2111cb11609867623e8801ee1907' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c2ad2111cb11609867623e8801ee1907"], ["reset_password_token_exp", "2014-12-09 15:54:19.652699"], ["updated_at", "2014-12-09 07:54:19.665304"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/c2ad2111cb11609867623e8801ee1907/" for 127.0.0.1 at 2014-12-08 23:54:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"c2ad2111cb11609867623e8801ee1907"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'c2ad2111cb11609867623e8801ee1907' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 39ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:19.721035"], ["email", "test@email.com"], ["password_digest", "$2a$04$SBPfEOG8CfbbuN5tZrdBfe2zfLk2d/HJgy8gYW7fUtimpLJT643vu"], ["updated_at", "2014-12-09 07:54:19.721035"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4d9c2f2a7ec4d1d82331da4c23460f02' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "4d9c2f2a7ec4d1d82331da4c23460f02"], ["reset_password_token_exp", "2014-12-09 15:54:19.724223"], ["updated_at", "2014-12-09 07:54:19.863574"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:54:19 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:19.904725"], ["email", "test@email.com"], ["password_digest", "$2a$04$b4JN2z.4.e7kBg.WlnAoO.UFtUa8lgc9pdUKnv4/wdAVwSyD6dkSe"], ["updated_at", "2014-12-09 07:54:19.904725"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2063a6ff0ea210076daf27858a170241' LIMIT 1[0m
  [1m[35m (39.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2063a6ff0ea210076daf27858a170241"], ["reset_password_token_exp", "2014-12-09 15:54:19.907325"], ["updated_at", "2014-12-09 07:54:19.949740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/b7d61a43cea123d86116701701f1c4cb/" for 127.0.0.1 at 2014-12-08 23:54:19 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b7d61a43cea123d86116701701f1c4cb"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b7d61a43cea123d86116701701f1c4cb' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (5.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:19.977493"], ["email", "test@email.com"], ["password_digest", "$2a$04$uwoU6vjvIwscbLAN1X8G1ucHesuH6u/DjWB7kEV9DB0RCJMqw6kfO"], ["updated_at", "2014-12-09 07:54:19.977493"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:19 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c904e230d4678cff25220f45e69c17ec' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "c904e230d4678cff25220f45e69c17ec"], ["reset_password_token_exp", "2014-12-09 15:54:19.985231"], ["updated_at", "2014-12-09 07:54:19.991584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (5.3ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 780.5ms

Sent mail to test@email.com (21.5ms)
Date: Mon, 08 Dec 2014 23:54:20 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486aaacc04b7_387b3ff095c65be0776ba@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aaacbdde9_387b3ff095c65be0775a9";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aaacbdde9_387b3ff095c65be0775a9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/c904e230d4678cff25220f45e69c17ec/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486aaacbdde9_387b3ff095c65be0775a9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/c904e230d4678cff25220f45e69c17ec/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486aaacbdde9_387b3ff095c65be0775a9--

  Rendered text template (0.0ms)
Completed 204 No Content in 821ms (Views: 1.3ms | ActiveRecord: 1.9ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:20.810684"], ["email", "test@email.com"], ["password_digest", "$2a$04$.tBgK9g9tMsxoSnxNSUKou6gERPVSOI.sy.dgo1Kg5PG6buRtSsJq"], ["updated_at", "2014-12-09 07:54:20.810684"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:20 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 70.7ms

Sent mail to foo@bar.com (7.2ms)
Date: Mon, 08 Dec 2014 23:54:20 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486aaacda53b_387b3ff095c65be07786c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aaacd90ae_387b3ff095c65be0777c3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aaacd90ae_387b3ff095c65be0777c3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486aaacd90ae_387b3ff095c65be0777c3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486aaacd90ae_387b3ff095c65be0777c3--

  Rendered text template (0.0ms)
Completed 204 No Content in 81ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (2.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (39.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:20.985215"], ["email", "test@email.com"], ["password_digest", "$2a$04$1xFs/nJVYR6nINA7tVxwn.udZr6Lagm5GfGF4Z0yXeUAtqVojOy9G"], ["updated_at", "2014-12-09 07:54:20.985215"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:20 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b8a5892486c347e886e1ddc8fb940891' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b8a5892486c347e886e1ddc8fb940891"], ["reset_password_token_exp", "2014-12-09 15:54:20.990270"], ["updated_at", "2014-12-09 07:54:20.992492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 5.8ms

Sent mail to test@email.com (38.3ms)
Date: Mon, 08 Dec 2014 23:54:21 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486aaad5fc7_387b3ff095c65be078027@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aaacf3a8d_387b3ff095c65be077981";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aaacf3a8d_387b3ff095c65be077981
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/b8a5892486c347e886e1ddc8fb940891/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486aaacf3a8d_387b3ff095c65be077981
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/b8a5892486c347e886e1ddc8fb940891/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486aaacf3a8d_387b3ff095c65be077981--

  Rendered text template (0.1ms)
Completed 204 No Content in 69ms (Views: 10.1ms | ActiveRecord: 1.1ms)
  [1m[35m (8.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (11.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:21.159160"], ["email", "test@email.com"], ["password_digest", "$2a$04$m9j4fQ1QHl0R3N2wxy93z.0UkO8hkCwcgNbnPuvIinaR3FOmFZsW2"], ["updated_at", "2014-12-09 07:54:21.159160"], ["username", "test"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:21 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 19.5ms

Sent mail to foo@bar.com (10.8ms)
Date: Mon, 08 Dec 2014 23:54:21 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486aaad39063_387b3ff095c65be07821e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aaad36265_387b3ff095c65be0781b4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aaad36265_387b3ff095c65be0781b4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486aaad36265_387b3ff095c65be0781b4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486aaad36265_387b3ff095c65be0781b4--

  Rendered text template (0.0ms)
Completed 204 No Content in 77ms (Views: 36.6ms | ActiveRecord: 0.2ms)
  [1m[35m (27.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:21.319766"], ["email", "test@email.com"], ["password_digest", "$2a$04$5f/TH0weZjzTbU7i9Sw4VOIxksVomGuRY/bjtLQ77fKULpCKAsMMu"], ["updated_at", "2014-12-09 07:54:21.319766"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:21 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '564b7c62929078ac47c70d5c237dbe1f' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:21.557243"], ["expiration", "2014-12-10 07:54:21.561263"], ["key", "564b7c62929078ac47c70d5c237dbe1f"], ["updated_at", "2014-12-09 07:54:21.557243"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 276ms (Views: 53.8ms | ActiveRecord: 6.2ms)
  [1m[36m (8.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:21.640713"], ["email", "test@email.com"], ["password_digest", "$2a$04$.CieTQFHIbxvu3h9jMJbSeyhElq4Z2flsRSltArSFIiivN35HbDvu"], ["updated_at", "2014-12-09 07:54:21.640713"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:21 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'cf03685b7d319a9f2efabe6534802d0a' LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:21.660689"], ["expiration", "2014-12-10 07:54:21.666606"], ["key", "cf03685b7d319a9f2efabe6534802d0a"], ["updated_at", "2014-12-09 07:54:21.660689"], ["user_id", 1]]
  [1m[35m (4.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 86ms (Views: 58.4ms | ActiveRecord: 7.1ms)
  [1m[35m (10.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:21.779781"], ["email", "test@email.com"], ["password_digest", "$2a$04$p9aNBCEyjUT3DAs07TX8A.mk.71zMsOhUGV96/lybYsgOfDFdvsrK"], ["updated_at", "2014-12-09 07:54:21.779781"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:21 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (2.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 35ms (Views: 1.5ms | ActiveRecord: 2.8ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:21.867814"], ["email", "test@email.com"], ["password_digest", "$2a$04$72VCKFJh3QaDy4itc13soeelQykOipnSrFDvTKYRP3lVePRtGKalG"], ["updated_at", "2014-12-09 07:54:21.867814"], ["username", "test"]]
  [1m[35m (22.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:21 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '03ca0b9bf09ae79001d5232a51c58af4' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:21.918631"], ["expiration", "2014-12-10 07:54:21.920568"], ["key", "03ca0b9bf09ae79001d5232a51c58af4"], ["updated_at", "2014-12-09 07:54:21.918631"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 43ms (Views: 8.9ms | ActiveRecord: 1.6ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:54:21 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (1.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '03ca0b9bf09ae79001d5232a51c58af4' LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 38ms (Views: 30.7ms | ActiveRecord: 1.9ms)
  [1m[36m (48.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (3.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:22.059587"], ["email", "test@email.com"], ["password_digest", "$2a$04$NuqFfFJv9kl76lABgnEuLOxDrXXZJrwD9COAGSSshdpVvXJtW/qkK"], ["updated_at", "2014-12-09 07:54:22.059587"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'fda777a5d381e10fa2bbfccda47ed752' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:22.061735"], ["expiration", "2014-12-10 07:54:22.062670"], ["key", "fda777a5d381e10fa2bbfccda47ed752"], ["updated_at", "2014-12-09 07:54:22.061735"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:49:22.064671"], ["updated_at", "2014-12-09 07:54:22.065261"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:54:22 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'fda777a5d381e10fa2bbfccda47ed752' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:22.154402"], ["email", "test@email.com"], ["password_digest", "$2a$04$Cg2Daww3vl8OTIZaEquFuOW8pv799dFtRPKX6o4poYacW4tJDGnhO"], ["updated_at", "2014-12-09 07:54:22.154402"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '71ada138ae97870d1171d5af208cc257' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:22.159949"], ["expiration", "2014-12-10 07:54:22.162324"], ["key", "71ada138ae97870d1171d5af208cc257"], ["updated_at", "2014-12-09 07:54:22.159949"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:54:22 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '71ada138ae97870d1171d5af208cc257' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 25ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36m (5.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:22.216068"], ["email", "test@email.com"], ["password_digest", "$2a$04$.XAGnlLx13By711BB1h9jOqvvHZBEdpKifhJuMTltfg6c1g3qGUla"], ["updated_at", "2014-12-09 07:54:22.216068"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '86db507f8e9e7ec105925a897380e9ba' LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:22.218864"], ["expiration", "2014-12-10 07:54:22.220528"], ["key", "86db507f8e9e7ec105925a897380e9ba"], ["updated_at", "2014-12-09 07:54:22.218864"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:49:22.224668"], ["updated_at", "2014-12-09 07:54:22.225176"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:54:22 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '86db507f8e9e7ec105925a897380e9ba' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:54:22 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:22.319487"], ["email", "test"], ["password_digest", "$2a$04$.fC5sg1iVxRk2PH1Kt0bjeRgLCrrpmYSrfFferxc3O00s6JtkXp5O"], ["updated_at", "2014-12-09 07:54:22.319487"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 38ms (Views: 1.2ms | ActiveRecord: 2.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:54:22 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 36ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:22.389252"], ["email", "test@email.com"], ["password_digest", "$2a$04$kY0LN7bGCGsl5lDzxbJDTeKi6OP9Jy.KTp2oEVpQmbn4V7TDq0cIS"], ["updated_at", "2014-12-09 07:54:22.389252"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a43de8c6b7f6168866d57c321db61fa0' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:22.394272"], ["expiration", "2014-12-10 07:54:22.396452"], ["key", "a43de8c6b7f6168866d57c321db61fa0"], ["updated_at", "2014-12-09 07:54:22.394272"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:54:22 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.3ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a43de8c6b7f6168866d57c321db61fa0' LIMIT 1
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 155ms (Views: 9.2ms | ActiveRecord: 2.2ms)
  [1m[36m (11.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:54:22 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:22.687264"], ["email", "test@email.com"], ["password_digest", "$2a$04$KPBu5.8CJ3SUvSH0lOb/b.Q07xSPkox9GSYaW/8/GoEPXGYB3AnVK"], ["updated_at", "2014-12-09 07:54:22.687264"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4c23fcfa5e07e4c7a1066cc69556e79e' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:22.691408"], ["expiration", "2014-12-10 07:54:22.692631"], ["key", "4c23fcfa5e07e4c7a1066cc69556e79e"], ["updated_at", "2014-12-09 07:54:22.691408"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-08 23:54:22 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4c23fcfa5e07e4c7a1066cc69556e79e' LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 500 Internal Server Error in 15ms
  [1m[36m (9.8ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:42.060564"], ["email", "test@email.com"], ["password_digest", "$2a$04$oNBtRCTS6s3tYDBiHaSWAuEe9eivVYdCsvyPa1ebmOBw9WKY9XB.K"], ["updated_at", "2014-12-09 07:54:42.060564"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd7600aced267aef39e208f1640e3837a' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (11.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d7600aced267aef39e208f1640e3837a"], ["reset_password_token_exp", "2014-12-09 15:54:42.069865"], ["updated_at", "2014-12-09 07:54:42.072851"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d7600aced267aef39e208f1640e3837a/" for 127.0.0.1 at 2014-12-08 23:54:42 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d7600aced267aef39e208f1640e3837a"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd7600aced267aef39e208f1640e3837a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$uwcISiXnWzo5nc/ztATmA..KyjyZWntFJDgUmQ6kH2ckR2MBuCkOG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:54:42.148208"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 26ms (Views: 10.0ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:42.176632"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZZaYGW/xa45NPsxJFt.P7.JA5NEUSH./VNUzH8DdwNJJa.EtxkrGO"], ["updated_at", "2014-12-09 07:54:42.176632"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '63f2ceabcbb8e2f64dc9b1059a306d4e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "63f2ceabcbb8e2f64dc9b1059a306d4e"], ["reset_password_token_exp", "2014-12-09 15:54:42.181300"], ["updated_at", "2014-12-09 07:54:42.188575"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/63f2ceabcbb8e2f64dc9b1059a306d4e/" for 127.0.0.1 at 2014-12-08 23:54:42 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"63f2ceabcbb8e2f64dc9b1059a306d4e"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '63f2ceabcbb8e2f64dc9b1059a306d4e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$5OT4gwGciXtSpQnEoiop2OqvHedXOgX3kiqGKAnHmNAjnf1l6/bzO"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:54:42.225631"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 30ms (Views: 0.6ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/63f2ceabcbb8e2f64dc9b1059a306d4e/" for 127.0.0.1 at 2014-12-08 23:54:42 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"63f2ceabcbb8e2f64dc9b1059a306d4e"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '63f2ceabcbb8e2f64dc9b1059a306d4e' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:42.244273"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZIIzVf98Etqh5hw/E9zRpeNowxJ78T/ZzXPpOZaHIET.dySp.hQ.y"], ["updated_at", "2014-12-09 07:54:42.244273"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4381bf4d993f51272f7d667f80d5a7f0' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "4381bf4d993f51272f7d667f80d5a7f0"], ["reset_password_token_exp", "2014-12-09 15:54:42.251656"], ["updated_at", "2014-12-09 07:54:42.312339"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/4381bf4d993f51272f7d667f80d5a7f0/" for 127.0.0.1 at 2014-12-08 23:54:42 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"4381bf4d993f51272f7d667f80d5a7f0"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '4381bf4d993f51272f7d667f80d5a7f0' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 31ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:42.380894"], ["email", "test@email.com"], ["password_digest", "$2a$04$8X3rjB9bhB94Oy2x2GVeL.mGEh19tqBxeA0s.sNE7zMARNfTKPRaS"], ["updated_at", "2014-12-09 07:54:42.380894"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ae3543e523a63d7aaca79166749ab69b' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ae3543e523a63d7aaca79166749ab69b"], ["reset_password_token_exp", "2014-12-09 15:54:42.393657"], ["updated_at", "2014-12-09 07:54:42.527812"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:54:42 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:42.564122"], ["email", "test@email.com"], ["password_digest", "$2a$04$Uon.odNXeK2XbsWTqJkdke65xgSWfKL1XgznUIfMrRrDuQxZzkZwK"], ["updated_at", "2014-12-09 07:54:42.564122"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (4.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0c6da1eba18515e8bf2d49e164c68525' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (2.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0c6da1eba18515e8bf2d49e164c68525"], ["reset_password_token_exp", "2014-12-09 15:54:42.607950"], ["updated_at", "2014-12-09 07:54:42.614467"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/05ebbc4d582f91fd5b9e6589e2346139/" for 127.0.0.1 at 2014-12-08 23:54:42 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"05ebbc4d582f91fd5b9e6589e2346139"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '05ebbc4d582f91fd5b9e6589e2346139' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:42.661414"], ["email", "test@email.com"], ["password_digest", "$2a$04$dhurReyqtsWPyq02bE0E5e2qg7F7gnODSxExgUcS9nt1T7wFZWf.K"], ["updated_at", "2014-12-09 07:54:42.661414"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:42 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3996324dab4c63fdf20ab08dfdef9bb4' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "3996324dab4c63fdf20ab08dfdef9bb4"], ["reset_password_token_exp", "2014-12-09 15:54:42.671528"], ["updated_at", "2014-12-09 07:54:42.679752"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 406.0ms

Sent mail to test@email.com (13.5ms)
Date: Mon, 08 Dec 2014 23:54:43 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486aac31b15c_38983fc2c1031bdc2133@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aac319a1a_38983fc2c1031bdc20c3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aac319a1a_38983fc2c1031bdc20c3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/3996324dab4c63fdf20ab08dfdef9bb4/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486aac319a1a_38983fc2c1031bdc20c3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/3996324dab4c63fdf20ab08dfdef9bb4/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486aac319a1a_38983fc2c1031bdc20c3--

  Rendered text template (0.0ms)
Completed 204 No Content in 455ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[35m (5.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:43.134778"], ["email", "test@email.com"], ["password_digest", "$2a$04$4preRCTfOAxL07vHIP03J.NZSfzt0nxR.0brN61PvnIseVz7gjGrC"], ["updated_at", "2014-12-09 07:54:43.134778"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 29.7ms

Sent mail to foo@bar.com (17.8ms)
Date: Mon, 08 Dec 2014 23:54:43 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486aac32a310_38983fc2c1031bdc2388@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aac326d21_38983fc2c1031bdc227e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aac326d21_38983fc2c1031bdc227e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486aac326d21_38983fc2c1031bdc227e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486aac326d21_38983fc2c1031bdc227e--

  Rendered text template (0.0ms)
Completed 204 No Content in 50ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (7.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (35.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:43.237861"], ["email", "test@email.com"], ["password_digest", "$2a$04$YtF5Fl1ZqWk5sTQt7A7zSOz6DYFqEGC.UqwB44lKEWS/dPJcjq5rS"], ["updated_at", "2014-12-09 07:54:43.237861"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6de3f8b60d7b615bede48ad9baa50ff1' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (2.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6de3f8b60d7b615bede48ad9baa50ff1"], ["reset_password_token_exp", "2014-12-09 15:54:43.245981"], ["updated_at", "2014-12-09 07:54:43.248544"]]
  [1m[36m (19.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 9.6ms

Sent mail to test@email.com (34.4ms)
Date: Mon, 08 Dec 2014 23:54:43 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486aac34592a_38983fc2c1031bdc25c3@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aac344d78_38983fc2c1031bdc2497";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aac344d78_38983fc2c1031bdc2497
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/6de3f8b60d7b615bede48ad9baa50ff1/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486aac344d78_38983fc2c1031bdc2497
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/6de3f8b60d7b615bede48ad9baa50ff1/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486aac344d78_38983fc2c1031bdc2497--

  Rendered text template (0.0ms)
Completed 204 No Content in 77ms (Views: 0.6ms | ActiveRecord: 23.5ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:43.416333"], ["email", "test@email.com"], ["password_digest", "$2a$04$maaVrw3nXHyBDALZIinZHuq/QAwTkZ1YX/MnZZ8Xvpq.MbMiLHTa."], ["updated_at", "2014-12-09 07:54:43.416333"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:54:43 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 23.3ms

Sent mail to foo@bar.com (16.8ms)
Date: Mon, 08 Dec 2014 23:54:43 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486aac374f4c_38983fc2c1031bdc27dd@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486aac36f823_38983fc2c1031bdc26d2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486aac36f823_38983fc2c1031bdc26d2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486aac36f823_38983fc2c1031bdc26d2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486aac36f823_38983fc2c1031bdc26d2--

  Rendered text template (0.0ms)
Completed 204 No Content in 44ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:43.552041"], ["email", "test@email.com"], ["password_digest", "$2a$04$eExwQGCgfGTfEL3A2GX8wOLd./Ozc7Wss0U9x/fSQhDt2666vEsNW"], ["updated_at", "2014-12-09 07:54:43.552041"], ["username", "test"]]
  [1m[35m (5.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b787677ec9997b963bc7733cb3f1fea8' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:43.656334"], ["expiration", "2014-12-10 07:54:43.660095"], ["key", "b787677ec9997b963bc7733cb3f1fea8"], ["updated_at", "2014-12-09 07:54:43.656334"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 84ms (Views: 41.4ms | ActiveRecord: 1.7ms)
  [1m[36m (11.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:43.735230"], ["email", "test@email.com"], ["password_digest", "$2a$04$gEBtwY.KaxNXAB6BEywIeub7n/skqGDwI.ynvJ9qPMlrDBBELm1zm"], ["updated_at", "2014-12-09 07:54:43.735230"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.5ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b8c89560935ce60e8ac72e4cb181549a' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:43.748836"], ["expiration", "2014-12-10 07:54:43.754954"], ["key", "b8c89560935ce60e8ac72e4cb181549a"], ["updated_at", "2014-12-09 07:54:43.748836"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 28ms (Views: 3.4ms | ActiveRecord: 1.7ms)
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:43.826484"], ["email", "test@email.com"], ["password_digest", "$2a$04$wBh9NUbvToAAOpW9QLe.nO0/sG04XJu0KN0VrE8riIet8BfW.ePGu"], ["updated_at", "2014-12-09 07:54:43.826484"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 10ms (Views: 2.9ms | ActiveRecord: 0.7ms)
  [1m[35m (9.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:43.903599"], ["email", "test@email.com"], ["password_digest", "$2a$04$2ZNNNU20xHFgIg6W992rO.ToLJfT6V4tPXdgfrWXQrhxmPF8VZ8Mm"], ["updated_at", "2014-12-09 07:54:43.903599"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:54:43 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (1.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '9b5dbe4c4ad307778bec4deccf86cf03' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:43.967261"], ["expiration", "2014-12-10 07:54:43.969111"], ["key", "9b5dbe4c4ad307778bec4deccf86cf03"], ["updated_at", "2014-12-09 07:54:43.967261"], ["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (4.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 31ms (Views: 3.9ms | ActiveRecord: 6.9ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:54:43 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '9b5dbe4c4ad307778bec4deccf86cf03' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:43.996285"], ["email", "test@email.com"], ["password_digest", "$2a$04$RntidpTukRP.0qqrkP2XpOXChdrzC2bfziOVUrnPeP1qua1pok2bS"], ["updated_at", "2014-12-09 07:54:43.996285"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd2a39fb780720f9e54f17cc64e9ee064' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:44.027078"], ["expiration", "2014-12-10 07:54:44.039077"], ["key", "d2a39fb780720f9e54f17cc64e9ee064"], ["updated_at", "2014-12-09 07:54:44.027078"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:49:44.051159"], ["updated_at", "2014-12-09 07:54:44.054626"]]
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:54:44 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.5ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd2a39fb780720f9e54f17cc64e9ee064' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:44.075337"], ["email", "test@email.com"], ["password_digest", "$2a$04$WlUeViByRvDa10/lKzoYA.hPfFpl9s02mSZM8FNkFLa8ufCBdkmru"], ["updated_at", "2014-12-09 07:54:44.075337"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f2e14776d94808f8835b6a09492e83f8' LIMIT 1
  [1m[36mSQL (6.2ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:44.078351"], ["expiration", "2014-12-10 07:54:44.079666"], ["key", "f2e14776d94808f8835b6a09492e83f8"], ["updated_at", "2014-12-09 07:54:44.078351"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:54:44 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (11.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f2e14776d94808f8835b6a09492e83f8' LIMIT 1[0m
  [1m[35m (5.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 32ms (Views: 0.7ms | ActiveRecord: 17.5ms)
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:44.170503"], ["email", "test@email.com"], ["password_digest", "$2a$04$xLaOEjKqZZF6I.wk2lYg0uO1jmnTjoDNWsU4ME0CtnPWJRRoMipfu"], ["updated_at", "2014-12-09 07:54:44.170503"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b271f496b186efbb44487b55340bc89b' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:44.197860"], ["expiration", "2014-12-10 07:54:44.202312"], ["key", "b271f496b186efbb44487b55340bc89b"], ["updated_at", "2014-12-09 07:54:44.197860"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:49:44.204129"], ["updated_at", "2014-12-09 07:54:44.204647"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:54:44 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b271f496b186efbb44487b55340bc89b' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (13.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:54:44 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:54:44.308699"], ["email", "test"], ["password_digest", "$2a$04$I35/CkAgc8NgXMG4SNrieOpfOWV6779tN6nssvruRZFEW5EimQwS."], ["updated_at", "2014-12-09 07:54:44.308699"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 23ms (Views: 1.0ms | ActiveRecord: 1.7ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:54:44 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 67ms (Views: 0.4ms | ActiveRecord: 1.7ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:44.411324"], ["email", "test@email.com"], ["password_digest", "$2a$04$syt8qF4DBwp.eHoV0S9U1u0YseQZKbR9LMRu8BbPXHnPtOGUI7PCO"], ["updated_at", "2014-12-09 07:54:44.411324"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7427c63590e315bd3601d9e273cae2c4' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:44.415463"], ["expiration", "2014-12-10 07:54:44.417706"], ["key", "7427c63590e315bd3601d9e273cae2c4"], ["updated_at", "2014-12-09 07:54:44.415463"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:54:44 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (3.5ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7427c63590e315bd3601d9e273cae2c4' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 22ms (Views: 2.5ms | ActiveRecord: 3.8ms)
  [1m[36m (9.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:54:44 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:44.497212"], ["email", "test@email.com"], ["password_digest", "$2a$04$GusJXfta4qPRn/NZzjYFjOSlepVp5u2sFsUqVyqiWW3956r82F3xi"], ["updated_at", "2014-12-09 07:54:44.497212"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '78d021bb3b3b2d4424e5b77b02278f79' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:54:44.502003"], ["expiration", "2014-12-10 07:54:44.535528"], ["key", "78d021bb3b3b2d4424e5b77b02278f79"], ["updated_at", "2014-12-09 07:54:44.502003"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-08 23:54:44 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '78d021bb3b3b2d4424e5b77b02278f79' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.4ms)
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:24.701549"], ["email", "test@email.com"], ["password_digest", "$2a$04$moa2tmn02l.C5cf5BojwNuYCIfrxCSqU6vjtZbopa9zV4b/7SqKz2"], ["updated_at", "2014-12-09 07:56:24.701549"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2dc2d981660c7261601bb72d8740b34c' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2dc2d981660c7261601bb72d8740b34c"], ["reset_password_token_exp", "2014-12-09 15:56:24.710284"], ["updated_at", "2014-12-09 07:56:24.713402"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2dc2d981660c7261601bb72d8740b34c/" for 127.0.0.1 at 2014-12-08 23:56:24 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2dc2d981660c7261601bb72d8740b34c"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2dc2d981660c7261601bb72d8740b34c' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$ftEKZ.oplCMXJqzwqaZMket554uokYyKNSuHefqA6lSks3PiOd.4y"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:56:24.781023"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 28ms (Views: 6.9ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (9.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:24.828061"], ["email", "test@email.com"], ["password_digest", "$2a$04$tbIyuDJ8rAfQ8.R2FXxzR.NR3EupsQUsJKIF3/Ie6dC6k6LP3wt3."], ["updated_at", "2014-12-09 07:56:24.828061"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b0f55b7a1cd880ec5d94b82481be6460' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "b0f55b7a1cd880ec5d94b82481be6460"], ["reset_password_token_exp", "2014-12-09 15:56:24.837586"], ["updated_at", "2014-12-09 07:56:24.839981"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/b0f55b7a1cd880ec5d94b82481be6460/" for 127.0.0.1 at 2014-12-08 23:56:24 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b0f55b7a1cd880ec5d94b82481be6460"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b0f55b7a1cd880ec5d94b82481be6460' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$eZ/vOn4D7R93AGSy.M9VF.fYq/PnyAu3yTlo7o93joAsDScfWbz/y"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:56:24.889433"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 23ms (Views: 0.8ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/b0f55b7a1cd880ec5d94b82481be6460/" for 127.0.0.1 at 2014-12-08 23:56:24 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"b0f55b7a1cd880ec5d94b82481be6460"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'b0f55b7a1cd880ec5d94b82481be6460' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (12.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:24.936004"], ["email", "test@email.com"], ["password_digest", "$2a$04$t8fwqHJHPqJFbXo5gRpudORTpR2m/HWCWJaF/Y5S4JPfnsPSH5QkG"], ["updated_at", "2014-12-09 07:56:24.936004"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4b0cab4365a666e004e2c7069479dfe8' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "4b0cab4365a666e004e2c7069479dfe8"], ["reset_password_token_exp", "2014-12-09 15:56:24.953926"], ["updated_at", "2014-12-09 07:56:24.958946"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/4b0cab4365a666e004e2c7069479dfe8/" for 127.0.0.1 at 2014-12-08 23:56:24 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"4b0cab4365a666e004e2c7069479dfe8"}
  [1m[35mUser Load (8.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '4b0cab4365a666e004e2c7069479dfe8' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 77ms (Views: 1.9ms | ActiveRecord: 9.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:25.112183"], ["email", "test@email.com"], ["password_digest", "$2a$04$dSHNPjRu8By4nJYarP9LhOcLR9l1tcnSBbta.IUNf7aDH7hlgbMlO"], ["updated_at", "2014-12-09 07:56:25.112183"], ["username", "test"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '86c03ef3aa469b28aa6941abb0186eb6' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "86c03ef3aa469b28aa6941abb0186eb6"], ["reset_password_token_exp", "2014-12-09 15:56:25.143518"], ["updated_at", "2014-12-09 07:56:25.286481"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:56:25 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:25.314521"], ["email", "test@email.com"], ["password_digest", "$2a$04$7xhcUhSlyNfVY20GFh3Yue5JJnDlL2qqQbylyjMBEjVv1ovEKqGf2"], ["updated_at", "2014-12-09 07:56:25.314521"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e84000d0bc6b39f85c0740f17a8bcd0a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e84000d0bc6b39f85c0740f17a8bcd0a"], ["reset_password_token_exp", "2014-12-09 15:56:25.321931"], ["updated_at", "2014-12-09 07:56:25.337753"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/9897a1fb1c0449c550c41f3b4aff9d43/" for 127.0.0.1 at 2014-12-08 23:56:25 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9897a1fb1c0449c550c41f3b4aff9d43"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9897a1fb1c0449c550c41f3b4aff9d43' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:25.417365"], ["email", "test@email.com"], ["password_digest", "$2a$04$tP6Jo3gQBIaRVXGnAE5FT.m9RGNdQKWpGj4//TO3WNzdQCAu5wXmi"], ["updated_at", "2014-12-09 07:56:25.417365"], ["username", "test"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:56:25 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '438d23002ff501d2ed191fb1d5a1e801' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "438d23002ff501d2ed191fb1d5a1e801"], ["reset_password_token_exp", "2014-12-09 15:56:25.473659"], ["updated_at", "2014-12-09 07:56:25.482442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (4.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 316.0ms

Sent mail to test@email.com (10.8ms)
Date: Mon, 08 Dec 2014 23:56:25 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486ab29c7ea1_38c73fca3182fbf066d3@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ab29c610e_38c73fca3182fbf0652a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ab29c610e_38c73fca3182fbf0652a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/438d23002ff501d2ed191fb1d5a1e801/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486ab29c610e_38c73fca3182fbf0652a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/438d23002ff501d2ed191fb1d5a1e801/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486ab29c610e_38c73fca3182fbf0652a--

  Rendered text template (0.0ms)
Completed 204 No Content in 373ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:25.830027"], ["email", "test@email.com"], ["password_digest", "$2a$04$vEeZU5Q7jjPJuIeT.UCx6.bWF69/ieoABIxBDa01E9W.KwNaSB3Sa"], ["updated_at", "2014-12-09 07:56:25.830027"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:56:25 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (3.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 53.6ms

Sent mail to foo@bar.com (16.0ms)
Date: Mon, 08 Dec 2014 23:56:25 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486ab29db0d3_38c73fca3182fbf068c3@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ab29d8515_38c73fca3182fbf067b3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ab29d8515_38c73fca3182fbf067b3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486ab29d8515_38c73fca3182fbf067b3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486ab29d8515_38c73fca3182fbf067b3--

  Rendered text template (0.0ms)
Completed 204 No Content in 72ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (27.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:25.951715"], ["email", "test@email.com"], ["password_digest", "$2a$04$m6AgWYROh6GVRXMUCRa62OVOgnvqHiJ9RK9dLgQ.6uavQT6WamQHe"], ["updated_at", "2014-12-09 07:56:25.951715"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:56:25 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b45a2adc143a1426f0911e74b6187440' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b45a2adc143a1426f0911e74b6187440"], ["reset_password_token_exp", "2014-12-09 15:56:26.035774"], ["updated_at", "2014-12-09 07:56:26.063362"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 8.2ms

Sent mail to test@email.com (3.2ms)
Date: Mon, 08 Dec 2014 23:56:26 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486ab2a12691_38c73fca3182fbf07071@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ab2a11c7d_38c73fca3182fbf06918";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ab2a11c7d_38c73fca3182fbf06918
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/b45a2adc143a1426f0911e74b6187440/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486ab2a11c7d_38c73fca3182fbf06918
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/b45a2adc143a1426f0911e74b6187440/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486ab2a11c7d_38c73fca3182fbf06918--

  Rendered text template (0.0ms)
Completed 204 No Content in 72ms (Views: 0.8ms | ActiveRecord: 2.8ms)
  [1m[35m (8.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:26.127314"], ["email", "test@email.com"], ["password_digest", "$2a$04$CUx1d5ygspD1v23trBesfO.ixCrydWj1XkUmwUoTqU1PAIrqQR/XO"], ["updated_at", "2014-12-09 07:56:26.127314"], ["username", "test"]]
  [1m[35m (10.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:56:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 34.9ms

Sent mail to foo@bar.com (15.4ms)
Date: Mon, 08 Dec 2014 23:56:26 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486ab2a41989_38c73fca3182fbf07273@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ab2a3f65d_38c73fca3182fbf0710";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ab2a3f65d_38c73fca3182fbf0710
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486ab2a3f65d_38c73fca3182fbf0710
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486ab2a3f65d_38c73fca3182fbf0710--

  Rendered text template (0.0ms)
Completed 204 No Content in 74ms (Views: 1.6ms | ActiveRecord: 1.1ms)
  [1m[35m (7.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:26.312742"], ["email", "test@email.com"], ["password_digest", "$2a$04$BDVgeeUwV45saPZyFuCTJu/T7R4y1Lfjqx.1Z9Y03SN1wLFX/it96"], ["updated_at", "2014-12-09 07:56:26.312742"], ["username", "test"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:56:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (16.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '83caa45a1d30b852a8bf204ef5e2ffcb' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:26.430501"], ["expiration", "2014-12-10 07:56:26.446212"], ["key", "83caa45a1d30b852a8bf204ef5e2ffcb"], ["updated_at", "2014-12-09 07:56:26.430501"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 114ms (Views: 30.9ms | ActiveRecord: 21.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (5.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (14.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:26.519711"], ["email", "test@email.com"], ["password_digest", "$2a$04$OFt7FZDyV5qSe/G4BT4UBej2sEAqTlzTLOY8syI4hK2hqKT/7vE5K"], ["updated_at", "2014-12-09 07:56:26.519711"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:56:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (4.8ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b8678bb611b3fb0218c3a6f0abb70c7f' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:26.569399"], ["expiration", "2014-12-10 07:56:26.582604"], ["key", "b8678bb611b3fb0218c3a6f0abb70c7f"], ["updated_at", "2014-12-09 07:56:26.569399"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 92ms (Views: 43.6ms | ActiveRecord: 6.5ms)
  [1m[35m (12.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (4.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:26.721472"], ["email", "test@email.com"], ["password_digest", "$2a$04$KUISxin9l5dhwnFmWtJTO.37IsWYgkUtVFZR7dj.KJBlIenEj4avm"], ["updated_at", "2014-12-09 07:56:26.721472"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:56:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 17ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (13.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:26.808716"], ["email", "test@email.com"], ["password_digest", "$2a$04$88F4GPKsIS/A7nOtpq0vm.PAIGSwXLDMMKo1sRokwLW5affYlRuHm"], ["updated_at", "2014-12-09 07:56:26.808716"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:56:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7894fbeaf2bfc4f84a1d21bae527a62a' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:26.830182"], ["expiration", "2014-12-10 07:56:26.831457"], ["key", "7894fbeaf2bfc4f84a1d21bae527a62a"], ["updated_at", "2014-12-09 07:56:26.830182"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 100ms (Views: 32.5ms | ActiveRecord: 2.7ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:56:26 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7894fbeaf2bfc4f84a1d21bae527a62a' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 19ms (Views: 5.1ms | ActiveRecord: 0.2ms)
  [1m[36m (16.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:27.022193"], ["email", "test@email.com"], ["password_digest", "$2a$04$yW2gLoi9MP/uD119BEgKyePj27UbiMb9MiOQmo5boPa7xtZ1A37cW"], ["updated_at", "2014-12-09 07:56:27.022193"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4e7bac794c35af75ab6d4db4323126ab' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:27.033055"], ["expiration", "2014-12-10 07:56:27.041655"], ["key", "4e7bac794c35af75ab6d4db4323126ab"], ["updated_at", "2014-12-09 07:56:27.033055"], ["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:51:27.070912"], ["updated_at", "2014-12-09 07:56:27.071838"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:56:27 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4e7bac794c35af75ab6d4db4323126ab' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35m (21.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (3.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:27.127211"], ["email", "test@email.com"], ["password_digest", "$2a$04$VEU7zFslIdxRsnxvdYwkSO.5HUJN78fnQZh5hYeXjtsKRZCOnB5d2"], ["updated_at", "2014-12-09 07:56:27.127211"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '530ed39d6b391c73a64eb6760a09381f' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:27.137603"], ["expiration", "2014-12-10 07:56:27.140872"], ["key", "530ed39d6b391c73a64eb6760a09381f"], ["updated_at", "2014-12-09 07:56:27.137603"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:56:27 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '530ed39d6b391c73a64eb6760a09381f' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 51ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[36m (40.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (23.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:27.288260"], ["email", "test@email.com"], ["password_digest", "$2a$04$DeZ9TqG4tEepeFQN6nU98.ciB/4AvTagK2MmsHSDLhYCEqsUYHWKe"], ["updated_at", "2014-12-09 07:56:27.288260"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '12c0c921c1228c7af735cc14d7779d7f' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:27.316200"], ["expiration", "2014-12-10 07:56:27.317331"], ["key", "12c0c921c1228c7af735cc14d7779d7f"], ["updated_at", "2014-12-09 07:56:27.316200"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:51:27.319789"], ["updated_at", "2014-12-09 07:56:27.320198"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:56:27 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.6ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '12c0c921c1228c7af735cc14d7779d7f' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:56:27 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:56:27.361988"], ["email", "test"], ["password_digest", "$2a$04$CO2rRkQDWjA4Dk7spB4U4.BvdtgpEWWHV0G5SlzlutbvG5c5T4gxW"], ["updated_at", "2014-12-09 07:56:27.361988"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 27ms (Views: 1.9ms | ActiveRecord: 3.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:56:27 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 18ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:27.433519"], ["email", "test@email.com"], ["password_digest", "$2a$04$cvmLSe329qrE/kNUB0lCgOijM6B1K/PjviZRxjRhpcNhA/uxYHmeS"], ["updated_at", "2014-12-09 07:56:27.433519"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '129fdb7ac7c30997c2c59e655f698714' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:27.446951"], ["expiration", "2014-12-10 07:56:27.448020"], ["key", "129fdb7ac7c30997c2c59e655f698714"], ["updated_at", "2014-12-09 07:56:27.446951"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:56:27 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '129fdb7ac7c30997c2c59e655f698714' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 10ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[36m (23.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:56:27 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:27.555834"], ["email", "test@email.com"], ["password_digest", "$2a$04$KYDRZiegWE4WODuEeJ.jyOW97iGf2YtuxvkjI/uyPBse2u.Tnl8au"], ["updated_at", "2014-12-09 07:56:27.555834"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '95b792570c72e1a5c065c29bf645bb02' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:56:27.566361"], ["expiration", "2014-12-10 07:56:27.567155"], ["key", "95b792570c72e1a5c065c29bf645bb02"], ["updated_at", "2014-12-09 07:56:27.566361"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-08 23:56:27 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '95b792570c72e1a5c065c29bf645bb02' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 200 OK in 42ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[36m (16.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:32.546068"], ["email", "test@email.com"], ["password_digest", "$2a$04$f96wKYKs3w5U4hIOe/4Mwu4rHu4JRRnHiGlFfgBVIRuSL6LgPAqL2"], ["updated_at", "2014-12-09 07:57:32.546068"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '58cdc2adeb9a379ff4821bb1bcfa5ca6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "58cdc2adeb9a379ff4821bb1bcfa5ca6"], ["reset_password_token_exp", "2014-12-09 15:57:32.564874"], ["updated_at", "2014-12-09 07:57:32.569030"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/58cdc2adeb9a379ff4821bb1bcfa5ca6/" for 127.0.0.1 at 2014-12-08 23:57:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"58cdc2adeb9a379ff4821bb1bcfa5ca6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '58cdc2adeb9a379ff4821bb1bcfa5ca6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$6CEXC2NdaV.8msqmi5ASqeUEpbNdAAMT9u/LpQYvcbWqHJ61rTENu"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:57:32.659067"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 55ms (Views: 26.9ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:32.704329"], ["email", "test@email.com"], ["password_digest", "$2a$04$dCdRFPj5OsYFor/Cj46m3uq5rWwbrbTs5la/FVuxacqKoWH6IDnj2"], ["updated_at", "2014-12-09 07:57:32.704329"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0370320623f1a74e5006a2addae78732' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (3.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0370320623f1a74e5006a2addae78732"], ["reset_password_token_exp", "2014-12-09 15:57:32.726389"], ["updated_at", "2014-12-09 07:57:32.760595"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0370320623f1a74e5006a2addae78732/" for 127.0.0.1 at 2014-12-08 23:57:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0370320623f1a74e5006a2addae78732"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0370320623f1a74e5006a2addae78732' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$2KAJyoQiTlevnfqkzJPw8uFMFZfxJjPUiLjgowkVe2Tx3nB7buJtO"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 07:57:32.819167"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 30ms (Views: 0.5ms | ActiveRecord: 2.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/0370320623f1a74e5006a2addae78732/" for 127.0.0.1 at 2014-12-08 23:57:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0370320623f1a74e5006a2addae78732"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0370320623f1a74e5006a2addae78732' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[36m (14.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (4.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (8.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:32.893903"], ["email", "test@email.com"], ["password_digest", "$2a$04$bMRNcl7y0wgo8TepSkw3te03FwroIQrMowxMBAWptPqE/2IIvhD6i"], ["updated_at", "2014-12-09 07:57:32.893903"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '542edd86f26e040b010104c6a3b351b8' LIMIT 1
  [1m[36m (1.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (7.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "542edd86f26e040b010104c6a3b351b8"], ["reset_password_token_exp", "2014-12-09 15:57:32.904875"], ["updated_at", "2014-12-09 07:57:32.915173"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/542edd86f26e040b010104c6a3b351b8/" for 127.0.0.1 at 2014-12-08 23:57:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"542edd86f26e040b010104c6a3b351b8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '542edd86f26e040b010104c6a3b351b8' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 68ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:33.005588"], ["email", "test@email.com"], ["password_digest", "$2a$04$jvc.lOk9/p7kwrWcOG8TX.cL/PmzoDxY81Nt1zqAuU5nLp.eA8ngm"], ["updated_at", "2014-12-09 07:57:33.005588"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6e8418ce3ee32f8cb5ae58b7acd95794' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6e8418ce3ee32f8cb5ae58b7acd95794"], ["reset_password_token_exp", "2014-12-09 15:57:33.009327"], ["updated_at", "2014-12-09 07:57:33.149973"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-08 23:57:33 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (6.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:33.206375"], ["email", "test@email.com"], ["password_digest", "$2a$04$TP4G1giMtmfMpn8JqvYEVOFiCXp68saNTtL1xDehjDqw2pxniU4Ju"], ["updated_at", "2014-12-09 07:57:33.206375"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7eb6a10f44b9c61615a6ae5f1aa4d8da' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7eb6a10f44b9c61615a6ae5f1aa4d8da"], ["reset_password_token_exp", "2014-12-09 15:57:33.234482"], ["updated_at", "2014-12-09 07:57:33.237513"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/1ff7374dd4d783f0b59789ebfc7a7f1e/" for 127.0.0.1 at 2014-12-08 23:57:33 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"1ff7374dd4d783f0b59789ebfc7a7f1e"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '1ff7374dd4d783f0b59789ebfc7a7f1e' LIMIT 1[0m
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 13ms (Views: 2.5ms | ActiveRecord: 0.6ms)
  [1m[35m (4.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:33.316705"], ["email", "test@email.com"], ["password_digest", "$2a$04$bUHsJnlEgmwZs3tIqweCSuN/kxwyKSh0NveAJ04YlJFy4K.nf9tlu"], ["updated_at", "2014-12-09 07:57:33.316705"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:57:33 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2a8fb6b053bbcfbe0af6f322fccf5d2b' LIMIT 1
  [1m[36m (3.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "2a8fb6b053bbcfbe0af6f322fccf5d2b"], ["reset_password_token_exp", "2014-12-09 15:57:33.359397"], ["updated_at", "2014-12-09 07:57:33.370159"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (4.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 390.1ms

Sent mail to test@email.com (18.0ms)
Date: Mon, 08 Dec 2014 23:57:33 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486ab6dc5185_38ed3fc14d865bc0628d4@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ab6dc1f44_38ed3fc14d865bc06279d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ab6dc1f44_38ed3fc14d865bc06279d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/2a8fb6b053bbcfbe0af6f322fccf5d2b/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486ab6dc1f44_38ed3fc14d865bc06279d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/2a8fb6b053bbcfbe0af6f322fccf5d2b/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486ab6dc1f44_38ed3fc14d865bc06279d--

  Rendered text template (0.0ms)
Completed 204 No Content in 489ms (Views: 0.4ms | ActiveRecord: 6.8ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:33.820823"], ["email", "test@email.com"], ["password_digest", "$2a$04$06uK7/SjYvgf24OQzidVXeMN2czplrAzO1iCznOBbxsGEUyKmjXKC"], ["updated_at", "2014-12-09 07:57:33.820823"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:57:33 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 36.5ms

Sent mail to foo@bar.com (4.0ms)
Date: Mon, 08 Dec 2014 23:57:33 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486ab6dd5b92_38ed3fc14d865bc063053@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ab6dd5090_38ed3fc14d865bc0629e1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ab6dd5090_38ed3fc14d865bc0629e1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486ab6dd5090_38ed3fc14d865bc0629e1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486ab6dd5090_38ed3fc14d865bc0629e1--

  Rendered text template (0.0ms)
Completed 204 No Content in 54ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (29.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:33.955371"], ["email", "test@email.com"], ["password_digest", "$2a$04$GN1Tx9kU4YRthYfPRzPGjOXZyMwy71CA6pAhI6FUYkBzMWWt8w1HC"], ["updated_at", "2014-12-09 07:57:33.955371"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:57:33 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7de8f57702a46f778bc2078237b96f5d' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "7de8f57702a46f778bc2078237b96f5d"], ["reset_password_token_exp", "2014-12-09 15:57:33.974298"], ["updated_at", "2014-12-09 07:57:33.976405"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 5.7ms

Sent mail to test@email.com (88.1ms)
Date: Mon, 08 Dec 2014 23:57:34 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486ab6e10719_38ed3fc14d865bc0632a8@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ab6df1086_38ed3fc14d865bc06313d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ab6df1086_38ed3fc14d865bc06313d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/7de8f57702a46f778bc2078237b96f5d/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486ab6df1086_38ed3fc14d865bc06313d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/7de8f57702a46f778bc2078237b96f5d/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486ab6df1086_38ed3fc14d865bc06313d--

  Rendered text template (0.1ms)
Completed 204 No Content in 119ms (Views: 12.2ms | ActiveRecord: 1.2ms)
  [1m[35m (13.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:34.116970"], ["email", "test@email.com"], ["password_digest", "$2a$04$ftSNA8ZpMsAmSNE0YHG0Feu5xIznutjctdIPXN5/iGeKz3Odr2x/6"], ["updated_at", "2014-12-09 07:57:34.116970"], ["username", "test"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-08 23:57:34 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 14.1ms

Sent mail to foo@bar.com (42.3ms)
Date: Mon, 08 Dec 2014 23:57:34 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486ab6e2a8a2_38ed3fc14d865bc063439@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ab6e278d5_38ed3fc14d865bc06338f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ab6e278d5_38ed3fc14d865bc06338f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486ab6e278d5_38ed3fc14d865bc06338f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486ab6e278d5_38ed3fc14d865bc06338f--

  Rendered text template (0.0ms)
Completed 204 No Content in 60ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (13.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:34.257380"], ["email", "test@email.com"], ["password_digest", "$2a$04$AbCtcjOpCHpiXUzzOElDEOxNCehOVax78xZ/zr5/JY0Vf.lj2Fos6"], ["updated_at", "2014-12-09 07:57:34.257380"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:57:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '35758ee190a0f3a3144a49d467f10d20' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:34.365581"], ["expiration", "2014-12-10 07:57:34.368882"], ["key", "35758ee190a0f3a3144a49d467f10d20"], ["updated_at", "2014-12-09 07:57:34.365581"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 59ms (Views: 24.0ms | ActiveRecord: 1.5ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:34.403843"], ["email", "test@email.com"], ["password_digest", "$2a$04$hghcJJO8W6tioXbend0TMO9KMU4JCv4PjLzIBL434viujKa8aqoJa"], ["updated_at", "2014-12-09 07:57:34.403843"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:57:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (3.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd5ac6e822435a94f1bc377bd4b24e6b8' LIMIT 1
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:34.450395"], ["expiration", "2014-12-10 07:57:34.455530"], ["key", "d5ac6e822435a94f1bc377bd4b24e6b8"], ["updated_at", "2014-12-09 07:57:34.450395"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 68ms (Views: 5.4ms | ActiveRecord: 6.7ms)
  [1m[35m (8.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (11.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:34.562755"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZhXCbr.K4VzG6v.8YgB5xemYDhDpnPFM/Ip2zf4VtPNGkKh.0woia"], ["updated_at", "2014-12-09 07:57:34.562755"], ["username", "test"]]
  [1m[35m (1.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:57:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 18ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (12.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:34.630517"], ["email", "test@email.com"], ["password_digest", "$2a$04$ymEKrxemH1YoVG/f.liajuQjSfMCpu8bqVrvofoKpKIvYSug6NiOO"], ["updated_at", "2014-12-09 07:57:34.630517"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-08 23:57:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '87a3b976f752dfd27d3130a6ff518c01' LIMIT 1[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:34.710581"], ["expiration", "2014-12-10 07:57:34.713736"], ["key", "87a3b976f752dfd27d3130a6ff518c01"], ["updated_at", "2014-12-09 07:57:34.710581"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 53ms (Views: 21.6ms | ActiveRecord: 3.9ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:57:34 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '87a3b976f752dfd27d3130a6ff518c01' LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (17.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:34.801945"], ["email", "test@email.com"], ["password_digest", "$2a$04$VvE9Mmc8TO75p23MBBcM8OEr88lkUbOOWQpU9V7rPFu6vBISNRdAq"], ["updated_at", "2014-12-09 07:57:34.801945"], ["username", "test"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'de99fb7fa31755947482f831602ec10d' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:34.816932"], ["expiration", "2014-12-10 07:57:34.819331"], ["key", "de99fb7fa31755947482f831602ec10d"], ["updated_at", "2014-12-09 07:57:34.816932"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:52:34.823952"], ["updated_at", "2014-12-09 07:57:34.824491"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-08 23:57:34 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'de99fb7fa31755947482f831602ec10d' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[35m (12.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:34.925699"], ["email", "test@email.com"], ["password_digest", "$2a$04$jevFfLA6XF7z9If9Kx1l8OlIR75PvrTu6y82Cc7qXv56vAJ3awZU6"], ["updated_at", "2014-12-09 07:57:34.925699"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a4ac11627482cd80b84f7f5f71e68c52' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:34.942808"], ["expiration", "2014-12-10 07:57:34.954611"], ["key", "a4ac11627482cd80b84f7f5f71e68c52"], ["updated_at", "2014-12-09 07:57:34.942808"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:57:34 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.7ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a4ac11627482cd80b84f7f5f71e68c52' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 32ms (Views: 1.1ms | ActiveRecord: 1.0ms)
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:35.044187"], ["email", "test@email.com"], ["password_digest", "$2a$04$EegX8.c3gkW32J8IltKp9OZah3oT7M6BOQiuI2jw7T6TYo74g6QWG"], ["updated_at", "2014-12-09 07:57:35.044187"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'aafafce0b468a3b277ba263e93361de2' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:35.077903"], ["expiration", "2014-12-10 07:57:35.080176"], ["key", "aafafce0b468a3b277ba263e93361de2"], ["updated_at", "2014-12-09 07:57:35.077903"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 07:52:35.086018"], ["updated_at", "2014-12-09 07:57:35.087279"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-08 23:57:35 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'aafafce0b468a3b277ba263e93361de2' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (10.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:57:35 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 07:57:35.224693"], ["email", "test"], ["password_digest", "$2a$04$FrN8zb0rTvzAmxwchQseZev9tO1s96TQ7/fGHyS3GAjRU5fqT.PTq"], ["updated_at", "2014-12-09 07:57:35.224693"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 36ms (Views: 7.0ms | ActiveRecord: 1.4ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-08 23:57:35 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 45ms (Views: 3.8ms | ActiveRecord: 1.3ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:35.305699"], ["email", "test@email.com"], ["password_digest", "$2a$04$Gjx/bOm8TSuDusTOj7rqlOIBFhOiZTobLqXWHuB997Qs/jcFsHhhG"], ["updated_at", "2014-12-09 07:57:35.305699"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1852ed2032bb2a55a05497544b1f22a1' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:35.316291"], ["expiration", "2014-12-10 07:57:35.317373"], ["key", "1852ed2032bb2a55a05497544b1f22a1"], ["updated_at", "2014-12-09 07:57:35.316291"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:57:35 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1852ed2032bb2a55a05497544b1f22a1' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 31ms (Views: 2.3ms | ActiveRecord: 0.8ms)
  [1m[36m (9.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-08 23:57:35 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:35.449466"], ["email", "test@email.com"], ["password_digest", "$2a$04$MUkgf/OZnvaVZhHLujMY6unpHXYYxzGvutzb2QIRjdA2HBzRljAfq"], ["updated_at", "2014-12-09 07:57:35.449466"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '865b3141a3cb51d6093bee7636a11383' LIMIT 1[0m
  [1m[35mSQL (21.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 07:57:35.459345"], ["expiration", "2014-12-10 07:57:35.462315"], ["key", "865b3141a3cb51d6093bee7636a11383"], ["updated_at", "2014-12-09 07:57:35.459345"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-08 23:57:35 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.3ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '865b3141a3cb51d6093bee7636a11383' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[36m (10.9ms)[0m  [1mrollback transaction[0m
  [1m[36m (2.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:40.758811"], ["email", "test@email.com"], ["password_digest", "$2a$04$IEgBfxwO0F4Mv47ErUFvXOXMIkiXFErbI2iAOfNU64qeL3z0tLcae"], ["updated_at", "2014-12-09 08:06:40.758811"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '71f1a97216f4f23342497acf39090675' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (4.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "71f1a97216f4f23342497acf39090675"], ["reset_password_token_exp", "2014-12-09 16:06:40.770872"], ["updated_at", "2014-12-09 08:06:40.776326"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/71f1a97216f4f23342497acf39090675/" for 127.0.0.1 at 2014-12-09 00:06:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"71f1a97216f4f23342497acf39090675"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '71f1a97216f4f23342497acf39090675' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$4s6ep20GaGI4n1mgJCIWYOOcbebXB6MbSDwUd7YvxynU5XcoSKW0q"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 08:06:40.836395"]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 39ms (Views: 12.5ms | ActiveRecord: 2.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:40.862317"], ["email", "test@email.com"], ["password_digest", "$2a$04$HJD/Yl7H9OnVkDD32S9RHuFQ2ewr1nqML1wx3xLLlOSOgwdehOfoG"], ["updated_at", "2014-12-09 08:06:40.862317"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9b017b05eeb91a75d6671aaf6760ad51' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (5.1ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "9b017b05eeb91a75d6671aaf6760ad51"], ["reset_password_token_exp", "2014-12-09 16:06:40.914885"], ["updated_at", "2014-12-09 08:06:40.916798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/9b017b05eeb91a75d6671aaf6760ad51/" for 127.0.0.1 at 2014-12-09 00:06:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9b017b05eeb91a75d6671aaf6760ad51"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9b017b05eeb91a75d6671aaf6760ad51' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$kt3VT.iJkTKEj4b3wjTiOupuKZ8e/EWwpaTo/1ZaI77EZnElTCcfW"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 08:06:40.945198"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 20ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/9b017b05eeb91a75d6671aaf6760ad51/" for 127.0.0.1 at 2014-12-09 00:06:40 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9b017b05eeb91a75d6671aaf6760ad51"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9b017b05eeb91a75d6671aaf6760ad51' LIMIT 1
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 13ms (Views: 5.7ms | ActiveRecord: 0.5ms)
  [1m[36m (9.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:06:41.005900"], ["email", "test@email.com"], ["password_digest", "$2a$04$QL5Q2wc/m.dTjqSPGGUTD.NxcLEy7/WOOxRP7AnVqfmFHuX6y6.X."], ["updated_at", "2014-12-09 08:06:41.005900"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '15d29c38b764fb8cc6a87ff0603f8bd3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (3.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "15d29c38b764fb8cc6a87ff0603f8bd3"], ["reset_password_token_exp", "2014-12-09 16:06:41.015639"], ["updated_at", "2014-12-09 08:06:41.025980"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/15d29c38b764fb8cc6a87ff0603f8bd3/" for 127.0.0.1 at 2014-12-09 00:06:41 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"15d29c38b764fb8cc6a87ff0603f8bd3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '15d29c38b764fb8cc6a87ff0603f8bd3' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 63ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:41.111217"], ["email", "test@email.com"], ["password_digest", "$2a$04$HpaHOJdCqIXoSOJCMZ7.9OSiJ1.Gu.mH9rkGoOjkhw20NP6E9B3dy"], ["updated_at", "2014-12-09 08:06:41.111217"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e085c4805957611fc1a16472e52dbb73' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e085c4805957611fc1a16472e52dbb73"], ["reset_password_token_exp", "2014-12-09 16:06:41.114183"], ["updated_at", "2014-12-09 08:06:41.224217"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-09 00:06:41 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (25.8ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:41.272161"], ["email", "test@email.com"], ["password_digest", "$2a$04$NJNk77vtAkRpVWkLregWMuRKTbfQmClIUsAzFLwW.wTiMKQC0G16u"], ["updated_at", "2014-12-09 08:06:41.272161"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '680dc330482cd81925ed2d9a225c5af8' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (12.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "680dc330482cd81925ed2d9a225c5af8"], ["reset_password_token_exp", "2014-12-09 16:06:41.288359"], ["updated_at", "2014-12-09 08:06:41.301952"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/10345137f23f3beff54b281bea1a84ad/" for 127.0.0.1 at 2014-12-09 00:06:41 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"10345137f23f3beff54b281bea1a84ad"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '10345137f23f3beff54b281bea1a84ad' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (5.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:41.350197"], ["email", "test@email.com"], ["password_digest", "$2a$04$dTjLwm3lu2un9DaZKfW1OugNWnvQl3vzqFQzlpEFde8BTMA9ApFuO"], ["updated_at", "2014-12-09 08:06:41.350197"], ["username", "test"]]
  [1m[35m (44.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:06:41 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'aaaaa6726b84e48a6a5c341d584d3c54' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (12.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "aaaaa6726b84e48a6a5c341d584d3c54"], ["reset_password_token_exp", "2014-12-09 16:06:41.417801"], ["updated_at", "2014-12-09 08:06:41.441120"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 382.1ms

Sent mail to test@email.com (14.4ms)
Date: Tue, 09 Dec 2014 00:06:41 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486ad91d9c0d_397b3fd400463bec48510@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ad91d5ba9_397b3fd400463bec4842d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ad91d5ba9_397b3fd400463bec4842d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/aaaaa6726b84e48a6a5c341d584d3c54/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486ad91d5ba9_397b3fd400463bec4842d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/aaaaa6726b84e48a6a5c341d584d3c54/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486ad91d5ba9_397b3fd400463bec4842d--

  Rendered text template (0.0ms)
Completed 204 No Content in 492ms (Views: 0.5ms | ActiveRecord: 13.5ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:41.920247"], ["email", "test@email.com"], ["password_digest", "$2a$04$7.L0a636KS488fvJZSAQquoqCxnZo2lMI/16qYJtL6KD/Z6dizD7C"], ["updated_at", "2014-12-09 08:06:41.920247"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:06:41 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 25.7ms

Sent mail to foo@bar.com (17.1ms)
Date: Tue, 09 Dec 2014 00:06:42 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486ad921f94e_397b3fd400463bec487f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ad921d331_397b3fd400463bec4866b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ad921d331_397b3fd400463bec4866b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486ad921d331_397b3fd400463bec4866b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486ad921d331_397b3fd400463bec4866b--

  Rendered text template (0.0ms)
Completed 204 No Content in 111ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (51.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:42.201599"], ["email", "test@email.com"], ["password_digest", "$2a$04$fH8FADOg2Sfujth42DoiweU2y7OrqUsK5u3.UFr6DLF64SL03i3NW"], ["updated_at", "2014-12-09 08:06:42.201599"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:06:42 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a9df181f96e57c9dc4fe5c008db90c6f' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a9df181f96e57c9dc4fe5c008db90c6f"], ["reset_password_token_exp", "2014-12-09 16:06:42.222975"], ["updated_at", "2014-12-09 08:06:42.232157"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (1.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 17.2ms

Sent mail to test@email.com (44.9ms)
Date: Tue, 09 Dec 2014 00:06:42 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486ad924953f_397b3fd400463bec48912@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ad923eb40_397b3fd400463bec488a9";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ad923eb40_397b3fd400463bec488a9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/a9df181f96e57c9dc4fe5c008db90c6f/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486ad923eb40_397b3fd400463bec488a9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/a9df181f96e57c9dc4fe5c008db90c6f/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486ad923eb40_397b3fd400463bec488a9--

  Rendered text template (0.0ms)
Completed 204 No Content in 95ms (Views: 0.3ms | ActiveRecord: 1.5ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:42.354398"], ["email", "test@email.com"], ["password_digest", "$2a$04$RmdpjpA7JNf3mcuKj1sRMulZ8sbK4SciK6cIIASea41Cy65kwntBK"], ["updated_at", "2014-12-09 08:06:42.354398"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:06:42 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 23.1ms

Sent mail to foo@bar.com (26.7ms)
Date: Tue, 09 Dec 2014 00:06:42 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486ad9261087_397b3fd400463bec4913b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ad925e90a_397b3fd400463bec49053";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ad925e90a_397b3fd400463bec49053
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486ad925e90a_397b3fd400463bec49053
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486ad925e90a_397b3fd400463bec49053--

  Rendered text template (0.0ms)
Completed 204 No Content in 52ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (34.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:42.431125"], ["email", "test@email.com"], ["password_digest", "$2a$04$YYgqd1tTUowOPgLC056.pOR1tEO38CoiQsY3nuIaeMfBWRtYvdncC"], ["updated_at", "2014-12-09 08:06:42.431125"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:06:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 6ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:42.513108"], ["email", "test@email.com"], ["password_digest", "$2a$04$X2fgEefT1Wjz9Albs8/qXuBwI0w4HerQLZGCnOyKOlr3yTBOiAsH6"], ["updated_at", "2014-12-09 08:06:42.513108"], ["username", "test"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:06:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 16ms
  [1m[35m (10.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (3.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (19.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:42.564014"], ["email", "test@email.com"], ["password_digest", "$2a$04$4Nfl.ugn8pMzGGg4YL31EOQcQ0zXvv/gBG0ndDEWPQhhBzhWb31fW"], ["updated_at", "2014-12-09 08:06:42.564014"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:06:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 7ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:42.671669"], ["email", "test@email.com"], ["password_digest", "$2a$04$DqHKzU1zdQtfdfHadrRMzuhHdu.l5kW2SDxhjeJVUf/hgzCQNRUSC"], ["updated_at", "2014-12-09 08:06:42.671669"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:06:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 500 Internal Server Error in 14ms
  [1m[35m (21.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:42.754878"], ["email", "test@email.com"], ["password_digest", "$2a$04$eGoZI1UWNvvO/ohG4m/NGOdSjuaXTGo7CV.luTjHMfJf0krjQCiIO"], ["updated_at", "2014-12-09 08:06:42.754878"], ["username", "test"]]
  [1m[35m (9.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:06:42.830025"], ["email", "test@email.com"], ["password_digest", "$2a$04$.5a8Sc.27gU6KN9HkP6.gebGgAJuAf3SmqIqONmEb6yNfJSCXi/fe"], ["updated_at", "2014-12-09 08:06:42.830025"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:42.846349"], ["email", "test@email.com"], ["password_digest", "$2a$04$fLxCcHYx/pQqN27b/fA.YORZhUbtnBLDKOPPJh5.5Zt7ezCPeotuW"], ["updated_at", "2014-12-09 08:06:42.846349"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-09 00:06:42 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (37.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:06:42.934171"], ["email", "test"], ["password_digest", "$2a$04$dGor.y7Er0L5a2pfcAsOWO42Xir4plSHRFyxFOhelUSRLDTQuztsG"], ["updated_at", "2014-12-09 08:06:42.934171"], ["username", "test"]]
  [1m[36m (2.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 88ms (Views: 1.1ms | ActiveRecord: 41.6ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-09 00:06:43 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:06:43.046249"], ["email", "test@email.com"], ["password_digest", "$2a$04$bo9a1ncyDbxkFHKy1a7JYOTVoD.HWLarJaPEZouQjIOD6dShnASva"], ["updated_at", "2014-12-09 08:06:43.046249"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-09 00:06:43 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (3.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:06:43.132726"], ["email", "test@email.com"], ["password_digest", "$2a$04$NjMl7NMXePkQlv3QOoyNSukePJip45fYcffYr.xZASPTLfxMQRxLW"], ["updated_at", "2014-12-09 08:06:43.132726"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:09.977620"], ["email", "test@email.com"], ["password_digest", "$2a$04$1.tMdZ/GLxpOEMO5qWMdSuzXwaC2GeZ/dYAJ5R6bZh1wUZiqwyw4W"], ["updated_at", "2014-12-09 08:07:09.977620"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd580c6ef4a2c99d2afa9e0365b9bcfa0' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d580c6ef4a2c99d2afa9e0365b9bcfa0"], ["reset_password_token_exp", "2014-12-09 16:07:10.029841"], ["updated_at", "2014-12-09 08:07:10.065823"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d580c6ef4a2c99d2afa9e0365b9bcfa0/" for 127.0.0.1 at 2014-12-09 00:07:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d580c6ef4a2c99d2afa9e0365b9bcfa0"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd580c6ef4a2c99d2afa9e0365b9bcfa0' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$.0UgYmfbfwu76mzZnpxvPue5dg5693yMkP6eupursUAR7iqa2/cj."], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 08:07:10.143049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 32ms (Views: 14.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:10.177614"], ["email", "test@email.com"], ["password_digest", "$2a$04$bjDwLDY2NIjD0lHyIV6yA.5SFKC8CEEpPrGJaPwR8hASgvxdryCna"], ["updated_at", "2014-12-09 08:07:10.177614"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'd2a78fba17da1d3e3ba32f1562b6f695' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "d2a78fba17da1d3e3ba32f1562b6f695"], ["reset_password_token_exp", "2014-12-09 16:07:10.180342"], ["updated_at", "2014-12-09 08:07:10.183588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/d2a78fba17da1d3e3ba32f1562b6f695/" for 127.0.0.1 at 2014-12-09 00:07:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d2a78fba17da1d3e3ba32f1562b6f695"}
  [1m[36mUser Load (13.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd2a78fba17da1d3e3ba32f1562b6f695' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (7.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$h572lYFMVgxwjbR/8NNV3uNxxKoLeHNhmsQGYoAUi4PXUJ596c9cy"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 08:07:10.236266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 46ms (Views: 1.4ms | ActiveRecord: 21.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/d2a78fba17da1d3e3ba32f1562b6f695/" for 127.0.0.1 at 2014-12-09 00:07:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"d2a78fba17da1d3e3ba32f1562b6f695"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'd2a78fba17da1d3e3ba32f1562b6f695' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:10.255385"], ["email", "test@email.com"], ["password_digest", "$2a$04$kHWlnHKBbEm/BB.C2QvPX.5K2CGXJVVkA72Gh41K3EXJky416JNR6"], ["updated_at", "2014-12-09 08:07:10.255385"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '34aa8e5d2283ce5a5f017933c364d390' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "34aa8e5d2283ce5a5f017933c364d390"], ["reset_password_token_exp", "2014-12-09 16:07:10.258185"], ["updated_at", "2014-12-09 08:07:10.303288"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/34aa8e5d2283ce5a5f017933c364d390/" for 127.0.0.1 at 2014-12-09 00:07:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"34aa8e5d2283ce5a5f017933c364d390"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '34aa8e5d2283ce5a5f017933c364d390' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 44ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:10.359823"], ["email", "test@email.com"], ["password_digest", "$2a$04$aqzdAHtDh3pCbjenj/yQo.b1GA4eD51lhngdfUTrTZRaEAPLYB82y"], ["updated_at", "2014-12-09 08:07:10.359823"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ea710fa10520e37625ab4c8bfcfffbef' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ea710fa10520e37625ab4c8bfcfffbef"], ["reset_password_token_exp", "2014-12-09 16:07:10.362241"], ["updated_at", "2014-12-09 08:07:10.514623"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-09 00:07:10 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:10.527070"], ["email", "test@email.com"], ["password_digest", "$2a$04$4.VLbFCefThtVUmW5AH7vuJYak7uyM2m65TC06y57zzUaBSVmGry2"], ["updated_at", "2014-12-09 08:07:10.527070"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7bdc0589e9495e8632297912330cc188' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7bdc0589e9495e8632297912330cc188"], ["reset_password_token_exp", "2014-12-09 16:07:10.529524"], ["updated_at", "2014-12-09 08:07:10.533210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/fd0416371acffa9edc4c4f14fd8fa02d/" for 127.0.0.1 at 2014-12-09 00:07:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"fd0416371acffa9edc4c4f14fd8fa02d"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'fd0416371acffa9edc4c4f14fd8fa02d' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 8ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:10.600438"], ["email", "test@email.com"], ["password_digest", "$2a$04$rtcc9ebhlHOe0yzPeQ4oZONnlfm4A.a5CpUxzup7WvzpKBFPowdiq"], ["updated_at", "2014-12-09 08:07:10.600438"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:07:10 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6438d9649900d3a0bfb2ed0cde010c56' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (3.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6438d9649900d3a0bfb2ed0cde010c56"], ["reset_password_token_exp", "2014-12-09 16:07:10.648994"], ["updated_at", "2014-12-09 08:07:10.668295"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 378.2ms

Sent mail to test@email.com (18.3ms)
Date: Tue, 09 Dec 2014 00:07:11 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486adaff632_399a3fd714c65be4775cb@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486adafdd06_399a3fd714c65be47748b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486adafdd06_399a3fd714c65be47748b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/6438d9649900d3a0bfb2ed0cde010c56/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486adafdd06_399a3fd714c65be47748b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/6438d9649900d3a0bfb2ed0cde010c56/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486adafdd06_399a3fd714c65be47748b--

  Rendered text template (0.0ms)
Completed 204 No Content in 430ms (Views: 0.5ms | ActiveRecord: 5.3ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.082702"], ["email", "test@email.com"], ["password_digest", "$2a$04$/eiRomI3cjJR0u3EqzwKp.ZI6zvir.eMTzWR7M4wuPebP0Hr8Rg.i"], ["updated_at", "2014-12-09 08:07:11.082702"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (3.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (2.9ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 42.1ms

Sent mail to foo@bar.com (11.8ms)
Date: Tue, 09 Dec 2014 00:07:11 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486adaf219a9_399a3fd714c65be47778d@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486adaf1d978_399a3fd714c65be47763b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486adaf1d978_399a3fd714c65be47763b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486adaf1d978_399a3fd714c65be47763b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486adaf1d978_399a3fd714c65be47763b--

  Rendered text template (0.0ms)
Completed 204 No Content in 57ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (28.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.187605"], ["email", "test@email.com"], ["password_digest", "$2a$04$9bcpO4ttyCcnDFqCN2iFFuCGK9HvcjE3OfXSHie9r1qti2cIGMEMG"], ["updated_at", "2014-12-09 08:07:11.187605"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'b5b258bf4972d9da4385bf148fa507a4' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "b5b258bf4972d9da4385bf148fa507a4"], ["reset_password_token_exp", "2014-12-09 16:07:11.197553"], ["updated_at", "2014-12-09 08:07:11.200744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.2ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 40.9ms

Sent mail to test@email.com (17.4ms)
Date: Tue, 09 Dec 2014 00:07:11 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486adaf3f5c3_399a3fd714c65be4779b4@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486adaf37f32_399a3fd714c65be477838";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486adaf37f32_399a3fd714c65be477838
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/b5b258bf4972d9da4385bf148fa507a4/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486adaf37f32_399a3fd714c65be477838
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/b5b258bf4972d9da4385bf148fa507a4/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486adaf37f32_399a3fd714c65be477838--

  Rendered text template (0.0ms)
Completed 204 No Content in 78ms (Views: 1.5ms | ActiveRecord: 1.5ms)
  [1m[35m (4.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.301366"], ["email", "test@email.com"], ["password_digest", "$2a$04$OcA2EN.qPs6QVYtK58G.CekoOmlW3MgMFARGUBLhiwpoUNpGNhWUm"], ["updated_at", "2014-12-09 08:07:11.301366"], ["username", "test"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (2.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (4.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 37.3ms

Sent mail to foo@bar.com (5.1ms)
Date: Tue, 09 Dec 2014 00:07:11 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486adaf57185_399a3fd714c65be478111@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486adaf5614a_399a3fd714c65be478094";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486adaf5614a_399a3fd714c65be478094
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486adaf5614a_399a3fd714c65be478094
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486adaf5614a_399a3fd714c65be478094--

  Rendered text template (0.0ms)
Completed 204 No Content in 48ms (Views: 0.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (9.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.369383"], ["email", "test@email.com"], ["password_digest", "$2a$04$V6.ec7rXPGGwWgyE2LsxTuCNpDwc6OVjT73maVLfMkNTvGTGUhSs2"], ["updated_at", "2014-12-09 08:07:11.369383"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (1.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '40c202677826e81d90adeded62f49a19' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:11.465957"], ["expiration", "2014-12-10 08:07:11.469895"], ["key", "40c202677826e81d90adeded62f49a19"], ["updated_at", "2014-12-09 08:07:11.465957"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 63ms (Views: 14.9ms | ActiveRecord: 6.6ms)
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:11.510686"], ["email", "test@email.com"], ["password_digest", "$2a$04$Z8jE9.RwzRZIOL9qOQpY0OyIDYQjzsWXNv3YQNiDg7ESP5yF/0f42"], ["updated_at", "2014-12-09 08:07:11.510686"], ["username", "test"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'e7adeba8b3e82f841aefaba4bf9ad889' LIMIT 1
  [1m[36mSQL (13.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.524193"], ["expiration", "2014-12-10 08:07:11.525618"], ["key", "e7adeba8b3e82f841aefaba4bf9ad889"], ["updated_at", "2014-12-09 08:07:11.524193"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 33ms (Views: 2.8ms | ActiveRecord: 13.9ms)
  [1m[35m (8.0ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.602475"], ["email", "test@email.com"], ["password_digest", "$2a$04$QMicWVzqOP68QlddblDhdegpzs//tGsktCceecP2GsjAEhrEbbyJq"], ["updated_at", "2014-12-09 08:07:11.602475"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 29ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (8.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.703352"], ["email", "test@email.com"], ["password_digest", "$2a$04$ue7ehXLEPxxjmeX.5B4E0.V3bdPdiSOGuIF8dgB6b391Sw2FyuHPq"], ["updated_at", "2014-12-09 08:07:11.703352"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ce423f47e87eeff2c7e9a13392d9d3da' LIMIT 1[0m
  [1m[35mSQL (14.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:11.732866"], ["expiration", "2014-12-10 08:07:11.733913"], ["key", "ce423f47e87eeff2c7e9a13392d9d3da"], ["updated_at", "2014-12-09 08:07:11.732866"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 35ms (Views: 11.0ms | ActiveRecord: 15.4ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ce423f47e87eeff2c7e9a13392d9d3da' LIMIT 1[0m
  [1m[35mUser Load (2.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 2.7ms)
  [1m[36m (8.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:11.812451"], ["email", "test@email.com"], ["password_digest", "$2a$04$WJlDMjrnyfM6EQsNxbv05ejM3QKHYFm3zNpyVLkG3xER9puvf5VHm"], ["updated_at", "2014-12-09 08:07:11.812451"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0ce7e46df11dbe60d1bbb8d6e820f7ca' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:11.842094"], ["expiration", "2014-12-10 08:07:11.845304"], ["key", "0ce7e46df11dbe60d1bbb8d6e820f7ca"], ["updated_at", "2014-12-09 08:07:11.842094"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 08:02:11.849442"], ["updated_at", "2014-12-09 08:07:11.853107"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '0ce7e46df11dbe60d1bbb8d6e820f7ca' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.901741"], ["email", "test@email.com"], ["password_digest", "$2a$04$9DdFiDy4FgLBdhJselpoIu76f3IHP4hpVpcrvDfByBIS1WMAIh37G"], ["updated_at", "2014-12-09 08:07:11.901741"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '80a34f6a44cc3e224666ef9308a83c5c' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:11.908999"], ["expiration", "2014-12-10 08:07:11.910399"], ["key", "80a34f6a44cc3e224666ef9308a83c5c"], ["updated_at", "2014-12-09 08:07:11.908999"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-09 00:07:11 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '80a34f6a44cc3e224666ef9308a83c5c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 32ms (Views: 2.1ms | ActiveRecord: 1.0ms)
  [1m[36m (21.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:11.978399"], ["email", "test@email.com"], ["password_digest", "$2a$04$zpyEUqOrhBYRvkrJgsgGZeJX8KgXAPlD/Qz.vBhPc2Konq7XC4lXG"], ["updated_at", "2014-12-09 08:07:11.978399"], ["username", "test"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '078c01fe175a56b6b342350b9e90cd96' LIMIT 1[0m
  [1m[35mSQL (9.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:11.996932"], ["expiration", "2014-12-10 08:07:12.002084"], ["key", "078c01fe175a56b6b342350b9e90cd96"], ["updated_at", "2014-12-09 08:07:11.996932"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 08:02:12.013259"], ["updated_at", "2014-12-09 08:07:12.016298"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-09 00:07:12 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '078c01fe175a56b6b342350b9e90cd96' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (6.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-09 00:07:12 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:12.094203"], ["email", "test"], ["password_digest", "$2a$04$/y5rOG49upBJj1h24HSqCuy7HfRi5rge6j0MJ0VJHRTZW9A/GpflC"], ["updated_at", "2014-12-09 08:07:12.094203"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 54ms (Views: 1.1ms | ActiveRecord: 8.7ms)
  [1m[36m (2.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-09 00:07:12 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 48ms (Views: 0.8ms | ActiveRecord: 1.2ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:12.198688"], ["email", "test@email.com"], ["password_digest", "$2a$04$HFrhxgj1WUKxom2Qewv2S.CQd3sZ4rDq.TmildoYQahu9eVnDqa/e"], ["updated_at", "2014-12-09 08:07:12.198688"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '9c41bece5fc2b818443d5d7af0dca2b6' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:12.202103"], ["expiration", "2014-12-10 08:07:12.203243"], ["key", "9c41bece5fc2b818443d5d7af0dca2b6"], ["updated_at", "2014-12-09 08:07:12.202103"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-09 00:07:12 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (2.5ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '9c41bece5fc2b818443d5d7af0dca2b6' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 24ms (Views: 10.6ms | ActiveRecord: 3.0ms)
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-09 00:07:12 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:12.266792"], ["email", "test@email.com"], ["password_digest", "$2a$04$mJxSyAXdOAFEYo7xGSlfZ.gPrVqTL6Dwuz9VHFHXwsylHzyeWRwhG"], ["updated_at", "2014-12-09 08:07:12.266792"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f0bc24afe5c223343e35f48fb2e5e8a5' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:12.281607"], ["expiration", "2014-12-10 08:07:12.300377"], ["key", "f0bc24afe5c223343e35f48fb2e5e8a5"], ["updated_at", "2014-12-09 08:07:12.281607"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-09 00:07:12 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f0bc24afe5c223343e35f48fb2e5e8a5' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (3.7ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 200 OK in 20ms (Views: 9.9ms | ActiveRecord: 4.0ms)
  [1m[36m (2.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (7.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:51.869616"], ["email", "test@email.com"], ["password_digest", "$2a$04$6/8a1bJMxzW.8DGiWbPR5u3PxiLQHneu/VtYy3nLQUuYLjfIrG0hi"], ["updated_at", "2014-12-09 08:07:51.869616"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6e4d2c594c51af957d32af0100e2fd10' LIMIT 1[0m
  [1m[35m (1.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (11.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "6e4d2c594c51af957d32af0100e2fd10"], ["reset_password_token_exp", "2014-12-09 16:07:51.941378"], ["updated_at", "2014-12-09 08:07:51.952870"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/6e4d2c594c51af957d32af0100e2fd10/" for 127.0.0.1 at 2014-12-09 00:07:52 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6e4d2c594c51af957d32af0100e2fd10"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6e4d2c594c51af957d32af0100e2fd10' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$0XYjQdGctpsZZbaNqsV8Ze2CfGp7wF/5A5h4YMgu3k275ETwbHNFa"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 08:07:52.078717"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 14.2ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (5.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (18.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (22.8ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:52.140927"], ["email", "test@email.com"], ["password_digest", "$2a$04$ntb/kXqerjB.2KMp511mUO9AOEaLAOE/fxX8YsKZZb9iGx8GUx4Pm"], ["updated_at", "2014-12-09 08:07:52.140927"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8bed49d14f96873fffffaf87e37d2821' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (7.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "8bed49d14f96873fffffaf87e37d2821"], ["reset_password_token_exp", "2014-12-09 16:07:52.198097"], ["updated_at", "2014-12-09 08:07:52.202190"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/8bed49d14f96873fffffaf87e37d2821/" for 127.0.0.1 at 2014-12-09 00:07:52 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"8bed49d14f96873fffffaf87e37d2821"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8bed49d14f96873fffffaf87e37d2821' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$HJKY9IFeYu/pra5LUyVLB.lDPMRL2VrTUbJn0seE5.AMDjqnJXYVC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 08:07:52.236374"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 24ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/8bed49d14f96873fffffaf87e37d2821/" for 127.0.0.1 at 2014-12-09 00:07:52 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"8bed49d14f96873fffffaf87e37d2821"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '8bed49d14f96873fffffaf87e37d2821' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 6ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:52.284566"], ["email", "test@email.com"], ["password_digest", "$2a$04$f5gihlEzUf2tCvTr9xEzHOcPxNI3DhqtPK2mVEOaKPmvskOZMJ0Y2"], ["updated_at", "2014-12-09 08:07:52.284566"], ["username", "test"]]
  [1m[36m (51.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '317760b2c70a488b8411ca4e15d46339' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "317760b2c70a488b8411ca4e15d46339"], ["reset_password_token_exp", "2014-12-09 16:07:52.339957"], ["updated_at", "2014-12-09 08:07:52.344066"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/317760b2c70a488b8411ca4e15d46339/" for 127.0.0.1 at 2014-12-09 00:07:52 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"317760b2c70a488b8411ca4e15d46339"}
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '317760b2c70a488b8411ca4e15d46339' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 53ms (Views: 2.3ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (4.7ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:52.421803"], ["email", "test@email.com"], ["password_digest", "$2a$04$7WEs2dNIRfjz9kNSwJ85IOHD8nE7MGsoEfsOOjqKPjrlWx7rtBbmK"], ["updated_at", "2014-12-09 08:07:52.421803"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0ed91db0f7e261c7a3e22f6aee1d9ff5' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0ed91db0f7e261c7a3e22f6aee1d9ff5"], ["reset_password_token_exp", "2014-12-09 16:07:52.425742"], ["updated_at", "2014-12-09 08:07:52.554573"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-09 00:07:52 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (3.7ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:52.614752"], ["email", "test@email.com"], ["password_digest", "$2a$04$L92HoMcW/.r1QMeAqU9ORe4RLrtKkinsxEHZY4mOJh9qP6C3ivvPq"], ["updated_at", "2014-12-09 08:07:52.614752"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e8ea6931c40ed4d77d9d35e440f71b6e' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e8ea6931c40ed4d77d9d35e440f71b6e"], ["reset_password_token_exp", "2014-12-09 16:07:52.642179"], ["updated_at", "2014-12-09 08:07:52.650197"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/615f87cdea88546555b0f6dde32ddc8d/" for 127.0.0.1 at 2014-12-09 00:07:52 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"615f87cdea88546555b0f6dde32ddc8d"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '615f87cdea88546555b0f6dde32ddc8d' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 8ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (8.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:52.752281"], ["email", "test@email.com"], ["password_digest", "$2a$04$EQimIJYlfU5y.fG5IlrJzu9mSP/UlVHFh51sCkqehgjeH6M6zlIDm"], ["updated_at", "2014-12-09 08:07:52.752281"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:07:52 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '06ac5f9900da673e5a499b409eda26ae' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "06ac5f9900da673e5a499b409eda26ae"], ["reset_password_token_exp", "2014-12-09 16:07:52.774115"], ["updated_at", "2014-12-09 08:07:52.776496"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 421.5ms

Sent mail to test@email.com (13.8ms)
Date: Tue, 09 Dec 2014 00:07:53 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486add94226a_39ba3ff96e40dbf0431b3@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486add93fce5_39ba3ff96e40dbf0430a9";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486add93fce5_39ba3ff96e40dbf0430a9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/06ac5f9900da673e5a499b409eda26ae/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486add93fce5_39ba3ff96e40dbf0430a9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/06ac5f9900da673e5a499b409eda26ae/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486add93fce5_39ba3ff96e40dbf0430a9--

  Rendered text template (0.0ms)
Completed 204 No Content in 516ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:53.285229"], ["email", "test@email.com"], ["password_digest", "$2a$04$Z0Z0/IQMtJBBNmjZPQYkpeomRkcKiuVxFF5yRa9qj5YlXNmyb9.qS"], ["updated_at", "2014-12-09 08:07:53.285229"], ["username", "test"]]
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:07:53 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.5ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 39.3ms

Sent mail to foo@bar.com (32.7ms)
Date: Tue, 09 Dec 2014 00:07:53 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486add9551ce_39ba3ff96e40dbf0433c4@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486add95346f_39ba3ff96e40dbf04325f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486add95346f_39ba3ff96e40dbf04325f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486add95346f_39ba3ff96e40dbf04325f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486add95346f_39ba3ff96e40dbf04325f--

  Rendered text template (0.0ms)
Completed 204 No Content in 86ms (Views: 0.6ms | ActiveRecord: 2.1ms)
  [1m[35m (7.1ms)[0m  rollback transaction
  [1m[36m (23.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:53.490594"], ["email", "test@email.com"], ["password_digest", "$2a$04$kTRYVZ328r3X.I6JypoIUOm23YpNUqfZ.TetYaG0lPP9ucHr35pum"], ["updated_at", "2014-12-09 08:07:53.490594"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:07:53 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (5.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '6d1ec07879104f3f906effabe45c2b06' LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "6d1ec07879104f3f906effabe45c2b06"], ["reset_password_token_exp", "2014-12-09 16:07:53.552563"], ["updated_at", "2014-12-09 08:07:53.556712"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (1.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 28.7ms

Sent mail to test@email.com (5.8ms)
Date: Tue, 09 Dec 2014 00:07:53 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486add992ca3_39ba3ff96e40dbf0435f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486add991444_39ba3ff96e40dbf04343d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486add991444_39ba3ff96e40dbf04343d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/6d1ec07879104f3f906effabe45c2b06/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486add991444_39ba3ff96e40dbf04343d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/6d1ec07879104f3f906effabe45c2b06/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486add991444_39ba3ff96e40dbf04343d--

  Rendered text template (0.0ms)
Completed 204 No Content in 63ms (Views: 0.5ms | ActiveRecord: 8.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:53.614137"], ["email", "test@email.com"], ["password_digest", "$2a$04$kDlayZE5okHHZRBIdH1RGux.9XMWz20BPw4Sey8NmNciejfwryf/."], ["updated_at", "2014-12-09 08:07:53.614137"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:07:53 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 54.5ms

Sent mail to foo@bar.com (9.8ms)
Date: Tue, 09 Dec 2014 00:07:53 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486add9a5709_39ba3ff96e40dbf0437df@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486add9a444f_39ba3ff96e40dbf0436fc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486add9a444f_39ba3ff96e40dbf0436fc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486add9a444f_39ba3ff96e40dbf0436fc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486add9a444f_39ba3ff96e40dbf0436fc--

  Rendered text template (0.0ms)
Completed 204 No Content in 67ms (Views: 0.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:53.717597"], ["email", "test@email.com"], ["password_digest", "$2a$04$syWxtB7Y4t8ZCwDMw2AvZeO5Es4WZku9TEMiZZc.kUIA7gxH656g."], ["updated_at", "2014-12-09 08:07:53.717597"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:07:53 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (3.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'aeb2c671e3541b20e484e93a8493d62a' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:53.859388"], ["expiration", "2014-12-10 08:07:53.862529"], ["key", "aeb2c671e3541b20e484e93a8493d62a"], ["updated_at", "2014-12-09 08:07:53.859388"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 123ms (Views: 18.9ms | ActiveRecord: 7.1ms)
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:53.895341"], ["email", "test@email.com"], ["password_digest", "$2a$04$kI3ZsfEAboXOoAEZJc.84eWNvdcL77rmsIg3UOOzJoOkj3hwAnoGu"], ["updated_at", "2014-12-09 08:07:53.895341"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:07:53 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b52545411be57b0ff8613ef44de6a78d' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:53.904901"], ["expiration", "2014-12-10 08:07:53.971772"], ["key", "b52545411be57b0ff8613ef44de6a78d"], ["updated_at", "2014-12-09 08:07:53.904901"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 87ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[35m (20.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (15.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:54.036215"], ["email", "test@email.com"], ["password_digest", "$2a$04$7dIpKiZ9mdAKlv/jpuz40.RBWZZm515ofBmlB5fxfC3e83wgCoe1i"], ["updated_at", "2014-12-09 08:07:54.036215"], ["username", "test"]]
  [1m[35m (3.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 19ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (3.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:54.098669"], ["email", "test@email.com"], ["password_digest", "$2a$04$suQRlrwMdZwL6LPL1GhgFuJAebVYwsQ.Y0RP2.t00CrOQH5/5phTy"], ["updated_at", "2014-12-09 08:07:54.098669"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b0556586319d5be798c1d8b096bafe6a' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.142658"], ["expiration", "2014-12-10 08:07:54.164943"], ["key", "b0556586319d5be798c1d8b096bafe6a"], ["updated_at", "2014-12-09 08:07:54.142658"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 71ms (Views: 6.6ms | ActiveRecord: 2.6ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b0556586319d5be798c1d8b096bafe6a' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.194061"], ["email", "test@email.com"], ["password_digest", "$2a$04$Kn.MUDih9LLpIK/yQCV.4OyJUKHb8K9CopNX.dL03Up7/iMnIHix2"], ["updated_at", "2014-12-09 08:07:54.194061"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'bb6b466dc86026f57714d0397b9da5bc' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.197667"], ["expiration", "2014-12-10 08:07:54.198729"], ["key", "bb6b466dc86026f57714d0397b9da5bc"], ["updated_at", "2014-12-09 08:07:54.197667"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 08:02:54.201385"], ["updated_at", "2014-12-09 08:07:54.225226"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'bb6b466dc86026f57714d0397b9da5bc' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (31.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:54.259160"], ["email", "test@email.com"], ["password_digest", "$2a$04$ZvzkdR8D4MlQqG5.Bwxa7OOJ70F1WQLHK/bAawjKtULGoZ/WVnZP6"], ["updated_at", "2014-12-09 08:07:54.259160"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '912bd932fe1d33297e2cf9e43f37eb88' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:54.319066"], ["expiration", "2014-12-10 08:07:54.331072"], ["key", "912bd932fe1d33297e2cf9e43f37eb88"], ["updated_at", "2014-12-09 08:07:54.319066"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '912bd932fe1d33297e2cf9e43f37eb88' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (4.3ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 22ms (Views: 3.0ms | ActiveRecord: 5.0ms)
  [1m[36m (15.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.441472"], ["email", "test@email.com"], ["password_digest", "$2a$04$hci0ICCwemEcG2AbrMCQd.A/oXQSMUwICs3QjUeC3JiwS3CKhtzJ6"], ["updated_at", "2014-12-09 08:07:54.441472"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '74ba1f149710ef7bec4e5333480d5e36' LIMIT 1[0m
  [1m[35mSQL (13.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.450383"], ["expiration", "2014-12-10 08:07:54.455645"], ["key", "74ba1f149710ef7bec4e5333480d5e36"], ["updated_at", "2014-12-09 08:07:54.450383"], ["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 08:02:54.472693"], ["updated_at", "2014-12-09 08:07:54.473601"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.3ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '74ba1f149710ef7bec4e5333480d5e36' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 21ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (35.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:07:54.560384"], ["email", "test"], ["password_digest", "$2a$04$0faf0pWnYJ82gbsdC7EwDug4vO/uehsBEI0DAjQT6of7Allaxnjce"], ["updated_at", "2014-12-09 08:07:54.560384"], ["username", "test"]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 93ms (Views: 2.8ms | ActiveRecord: 37.6ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (16.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 37ms (Views: 1.9ms | ActiveRecord: 16.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.686536"], ["email", "test@email.com"], ["password_digest", "$2a$04$cQTh5.6v2rk00zcc5JBOnu9H2jyBhlDcMVYKfUyTGMOBsELTRlNQu"], ["updated_at", "2014-12-09 08:07:54.686536"], ["username", "test"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5c874a55cc80901db934681eacbae46d' LIMIT 1[0m
  [1m[35mSQL (6.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.694095"], ["expiration", "2014-12-10 08:07:54.695633"], ["key", "5c874a55cc80901db934681eacbae46d"], ["updated_at", "2014-12-09 08:07:54.694095"], ["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '5c874a55cc80901db934681eacbae46d' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 20ms (Views: 13.0ms | ActiveRecord: 1.0ms)
  [1m[36m (30.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (5.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.860689"], ["email", "test@email.com"], ["password_digest", "$2a$04$zxnBHZY9t.vsh/UkeDZ3nukR.Fe8cFydlTkgj1vTgUg7N4GY1oIaa"], ["updated_at", "2014-12-09 08:07:54.860689"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0158747956999a1c4b2ea03ae1e715fd' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:07:54.870387"], ["expiration", "2014-12-10 08:07:54.871372"], ["key", "0158747956999a1c4b2ea03ae1e715fd"], ["updated_at", "2014-12-09 08:07:54.870387"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-09 00:07:54 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.3ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '0158747956999a1c4b2ea03ae1e715fd' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 200 OK in 14ms (Views: 7.1ms | ActiveRecord: 0.5ms)
  [1m[36m (8.4ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:32.164390"], ["email", "test@email.com"], ["password_digest", "$2a$04$S599UcjKLPH6gu92uidsX.kIAklKls2E7WzkewCzs9beeguZ6lahO"], ["updated_at", "2014-12-09 08:10:32.164390"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '9c500d0a8d95e288e83a2cc23781c601' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (4.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "9c500d0a8d95e288e83a2cc23781c601"], ["reset_password_token_exp", "2014-12-09 16:10:32.177413"], ["updated_at", "2014-12-09 08:10:32.180704"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/9c500d0a8d95e288e83a2cc23781c601/" for 127.0.0.1 at 2014-12-09 00:10:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"9c500d0a8d95e288e83a2cc23781c601"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '9c500d0a8d95e288e83a2cc23781c601' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$EvZ0XtVKG53DSRsiq1c1Eukq0Hu4DcmTqHN4Fh7pD6oBHqzsTmcMC"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 08:10:32.257033"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 29ms (Views: 9.3ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:32.276059"], ["email", "test@email.com"], ["password_digest", "$2a$04$q2TXKPJtz6PFqb9D.9jZvOMFbhfGpMiqNhswgfUJlFskxWpmCA9yG"], ["updated_at", "2014-12-09 08:10:32.276059"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a47dc5f49f32c027b91eff9ecb02f21c' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (5.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (9.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a47dc5f49f32c027b91eff9ecb02f21c"], ["reset_password_token_exp", "2014-12-09 16:10:32.278157"], ["updated_at", "2014-12-09 08:10:32.286308"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a47dc5f49f32c027b91eff9ecb02f21c/" for 127.0.0.1 at 2014-12-09 00:10:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a47dc5f49f32c027b91eff9ecb02f21c"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a47dc5f49f32c027b91eff9ecb02f21c' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$PH6mO37gSGr.bL9adkiQBuXyGVNbxfRAzNPCvOlAAaajbef.taKjq"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 08:10:32.355501"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 23ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/a47dc5f49f32c027b91eff9ecb02f21c/" for 127.0.0.1 at 2014-12-09 00:10:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a47dc5f49f32c027b91eff9ecb02f21c"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a47dc5f49f32c027b91eff9ecb02f21c' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 7ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (32.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:32.456073"], ["email", "test@email.com"], ["password_digest", "$2a$04$RnOWcA.n.5ynQddxiwLuhOyZmRdVtWybEsY3efZvfUgizHTRWWfy6"], ["updated_at", "2014-12-09 08:10:32.456073"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '30274c4109ede13015d0a31b7ef91aaf' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "30274c4109ede13015d0a31b7ef91aaf"], ["reset_password_token_exp", "2014-12-09 16:10:32.492995"], ["updated_at", "2014-12-09 08:10:32.494969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/30274c4109ede13015d0a31b7ef91aaf/" for 127.0.0.1 at 2014-12-09 00:10:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"30274c4109ede13015d0a31b7ef91aaf"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '30274c4109ede13015d0a31b7ef91aaf' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (6.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 54ms (Views: 0.2ms | ActiveRecord: 7.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:32.611738"], ["email", "test@email.com"], ["password_digest", "$2a$04$nKmH6eGdkDkrNiP8eK46l.J4R0iFRJc11MHvtPGJraO2LxS6a9NCm"], ["updated_at", "2014-12-09 08:10:32.611738"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '99e657b58c538e739cd7931f87deaff9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "99e657b58c538e739cd7931f87deaff9"], ["reset_password_token_exp", "2014-12-09 16:10:32.615286"], ["updated_at", "2014-12-09 08:10:32.733552"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-09 00:10:32 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:32.776487"], ["email", "test@email.com"], ["password_digest", "$2a$04$opTjAkyP1y8D2sCZ7NPsweEiZfL5dmsRy8t1fpJeddK11QJPSC/Ze"], ["updated_at", "2014-12-09 08:10:32.776487"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '7baec4ecd22dd71bd6064d1109315387' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "7baec4ecd22dd71bd6064d1109315387"], ["reset_password_token_exp", "2014-12-09 16:10:32.781159"], ["updated_at", "2014-12-09 08:10:32.788866"]]
  [1m[35m (14.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/6d9b6e563618abe8ad4d80da2d2a5e72/" for 127.0.0.1 at 2014-12-09 00:10:32 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"6d9b6e563618abe8ad4d80da2d2a5e72"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '6d9b6e563618abe8ad4d80da2d2a5e72' LIMIT 1[0m
  Rendered text template (0.1ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 8ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  [1m[35m (5.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:32.851852"], ["email", "test@email.com"], ["password_digest", "$2a$04$3iaT1pvDbvlxXWVu7OXDB.ZgGQokwNeLBBiebqWz9P1VhDJjC6vDC"], ["updated_at", "2014-12-09 08:10:32.851852"], ["username", "test"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:10:32 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (2.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '8f6d9c61439b3a961e0db5cb2e69bcfb' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "8f6d9c61439b3a961e0db5cb2e69bcfb"], ["reset_password_token_exp", "2014-12-09 16:10:32.920415"], ["updated_at", "2014-12-09 08:10:32.931861"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.8ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 338.1ms

Sent mail to test@email.com (11.0ms)
Date: Tue, 09 Dec 2014 00:10:33 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486ae7946276_39f53ffa75815bf05195e@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ae794439b_39f53ffa75815bf05181a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ae794439b_39f53ffa75815bf05181a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/8f6d9c61439b3a961e0db5cb2e69bcfb/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486ae794439b_39f53ffa75815bf05181a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/8f6d9c61439b3a961e0db5cb2e69bcfb/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486ae794439b_39f53ffa75815bf05181a--

  Rendered text template (0.0ms)
Completed 204 No Content in 411ms (Views: 0.4ms | ActiveRecord: 6.0ms)
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (3.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:33.346337"], ["email", "test@email.com"], ["password_digest", "$2a$04$ShGozND5xRSfdimA.kOK4.j2Vp3VLKyLa.tux3iUvgfc3hWgY3VKK"], ["updated_at", "2014-12-09 08:10:33.346337"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:10:33 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (4.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.1ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 44.0ms

Sent mail to foo@bar.com (3.5ms)
Date: Tue, 09 Dec 2014 00:10:33 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486ae796367e_39f53ffa75815bf05216c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ae7963052_39f53ffa75815bf052012";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ae7963052_39f53ffa75815bf052012
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486ae7963052_39f53ffa75815bf052012
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486ae7963052_39f53ffa75815bf052012--

  Rendered text template (0.0ms)
Completed 204 No Content in 50ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (21.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (4.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:33.462818"], ["email", "test@email.com"], ["password_digest", "$2a$04$gQ.Lvpqc9H0Sz1x.WO9/IeIKLuH/njjXaSjTOgC4Vqnq3H8G.JZSW"], ["updated_at", "2014-12-09 08:10:33.462818"], ["username", "test"]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:10:33 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ae650c085b03c62d74e29223a45cffa8' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (5.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ae650c085b03c62d74e29223a45cffa8"], ["reset_password_token_exp", "2014-12-09 16:10:33.472439"], ["updated_at", "2014-12-09 08:10:33.478320"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.2ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 21.1ms

Sent mail to test@email.com (7.4ms)
Date: Tue, 09 Dec 2014 00:10:33 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486ae797e228_39f53ffa75815bf0523e8@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ae797c5e3_39f53ffa75815bf0522f2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ae797c5e3_39f53ffa75815bf0522f2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/ae650c085b03c62d74e29223a45cffa8/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486ae797c5e3_39f53ffa75815bf0522f2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/ae650c085b03c62d74e29223a45cffa8/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486ae797c5e3_39f53ffa75815bf0522f2--

  Rendered text template (0.0ms)
Completed 204 No Content in 50ms (Views: 1.3ms | ActiveRecord: 6.9ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:33.591097"], ["email", "test@email.com"], ["password_digest", "$2a$04$c/B1Y7iAWa85iRWCpE.U7O6BS2h3PI6uvUTDfayQL7QfJIGiy74QW"], ["updated_at", "2014-12-09 08:10:33.591097"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 00:10:33 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 5.0ms

Sent mail to foo@bar.com (24.5ms)
Date: Tue, 09 Dec 2014 00:10:33 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486ae79960fc_39f53ffa75815bf05253@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486ae7994a40_39f53ffa75815bf052449";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486ae7994a40_39f53ffa75815bf052449
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486ae7994a40_39f53ffa75815bf052449
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486ae7994a40_39f53ffa75815bf052449--

  Rendered text template (0.6ms)
Completed 204 No Content in 34ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[35m (11.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:33.669215"], ["email", "test@email.com"], ["password_digest", "$2a$04$ObH/nBl.3ysNN6Zjvs/bdeyRvqu09Ei0iJs/RFVGlJcmKzwLTdVnu"], ["updated_at", "2014-12-09 08:10:33.669215"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:10:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c86fbbdb80fd3e26dad488dbc3b83389' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:33.742289"], ["expiration", "2014-12-10 08:10:33.761756"], ["key", "c86fbbdb80fd3e26dad488dbc3b83389"], ["updated_at", "2014-12-09 08:10:33.742289"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 91ms (Views: 13.7ms | ActiveRecord: 2.2ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:33.787910"], ["email", "test@email.com"], ["password_digest", "$2a$04$n3rz1RG62eLu1FMa/Es7i.UL3QkU5/jcyQZEGsQtoW3WYb1Uzm58."], ["updated_at", "2014-12-09 08:10:33.787910"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:10:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '41c7aa9735707d5cda5384aa3f2764d4' LIMIT 1
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:33.848698"], ["expiration", "2014-12-10 08:10:33.858311"], ["key", "41c7aa9735707d5cda5384aa3f2764d4"], ["updated_at", "2014-12-09 08:10:33.848698"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 44ms (Views: 3.0ms | ActiveRecord: 3.9ms)
  [1m[35m (18.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:33.941342"], ["email", "test@email.com"], ["password_digest", "$2a$04$o7aMQLjApfEpc36r3eqt0.CVjOTGf3z0xayL.uBlO1YojqBgm8gGC"], ["updated_at", "2014-12-09 08:10:33.941342"], ["username", "test"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:10:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 22ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (20.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:34.025357"], ["email", "test@email.com"], ["password_digest", "$2a$04$t/1PGbj4.cLV076mFJ3Giueg5o27wKHWeB6OudRbvINoBaql9lLNi"], ["updated_at", "2014-12-09 08:10:34.025357"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '204eec849fa892f66e70688337b79a0f' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.076334"], ["expiration", "2014-12-10 08:10:34.095790"], ["key", "204eec849fa892f66e70688337b79a0f"], ["updated_at", "2014-12-09 08:10:34.076334"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 40ms (Views: 6.4ms | ActiveRecord: 2.6ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '204eec849fa892f66e70688337b79a0f' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.147486"], ["email", "test@email.com"], ["password_digest", "$2a$04$OIMvr9J3GRx2oKFZGc2SxeJPTLNE2GPEkuTkVBXQkCbgSoSCIZWhG"], ["updated_at", "2014-12-09 08:10:34.147486"], ["username", "test"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd8a95aa92d4c4981a0560085a58c5bb4' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.155686"], ["expiration", "2014-12-10 08:10:34.156691"], ["key", "d8a95aa92d4c4981a0560085a58c5bb4"], ["updated_at", "2014-12-09 08:10:34.155686"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 08:05:34.159164"], ["updated_at", "2014-12-09 08:10:34.160399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd8a95aa92d4c4981a0560085a58c5bb4' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 12ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:34.227636"], ["email", "test@email.com"], ["password_digest", "$2a$04$kL.8l/TY0m3MiDesJDFd4e4wfhc52c6xsjjVF90LBZdk3z/JGl3Au"], ["updated_at", "2014-12-09 08:10:34.227636"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ae3a7ab42148b1ca485140ce0c8ed1b3' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:34.234635"], ["expiration", "2014-12-10 08:10:34.236064"], ["key", "ae3a7ab42148b1ca485140ce0c8ed1b3"], ["updated_at", "2014-12-09 08:10:34.234635"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ae3a7ab42148b1ca485140ce0c8ed1b3' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 33ms (Views: 1.8ms | ActiveRecord: 1.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.335349"], ["email", "test@email.com"], ["password_digest", "$2a$04$iL62eLpwy67msW4e.ixnZuM./j4TTezKyfrM0aa5Gy/SF6qinpPJC"], ["updated_at", "2014-12-09 08:10:34.335349"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '73682a4366220d48b83acbd5ede894e9' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.340312"], ["expiration", "2014-12-10 08:10:34.342472"], ["key", "73682a4366220d48b83acbd5ede894e9"], ["updated_at", "2014-12-09 08:10:34.340312"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 08:05:34.344555"], ["updated_at", "2014-12-09 08:10:34.344999"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.3ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '73682a4366220d48b83acbd5ede894e9' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 41ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 08:10:34.439792"], ["email", "test"], ["password_digest", "$2a$04$UawQAdQjvTew.z2LEG9Fa.8a874Z/S8BjFI.yeNpom/uXd4wg6jSS"], ["updated_at", "2014-12-09 08:10:34.439792"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 24ms (Views: 0.9ms | ActiveRecord: 1.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 20ms (Views: 10.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.481361"], ["email", "test@email.com"], ["password_digest", "$2a$04$e/JPOgW4uvEAxWkJpa4ZhOLG4HCOXMcHPJMQRxdCqkBfoNzuk6iD6"], ["updated_at", "2014-12-09 08:10:34.481361"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '3bd7bbe55033fc1b3bf9075ad3afc82d' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.487642"], ["expiration", "2014-12-10 08:10:34.488643"], ["key", "3bd7bbe55033fc1b3bf9075ad3afc82d"], ["updated_at", "2014-12-09 08:10:34.487642"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '3bd7bbe55033fc1b3bf9075ad3afc82d' LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 46ms (Views: 3.2ms | ActiveRecord: 1.1ms)
  [1m[36m (4.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (4.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.591532"], ["email", "test@email.com"], ["password_digest", "$2a$04$6YgghOsCdgu/xK2iPI3LZeqTiKscZ5/1SQ9GQmMlmgQqPbXWAy.JO"], ["updated_at", "2014-12-09 08:10:34.591532"], ["username", "test"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '23397be49017a8c2d6f21e7fc33aedcb' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 08:10:34.603451"], ["expiration", "2014-12-10 08:10:34.607931"], ["key", "23397be49017a8c2d6f21e7fc33aedcb"], ["updated_at", "2014-12-09 08:10:34.603451"], ["user_id", 1]]
  [1m[36m (3.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-09 00:10:34 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '23397be49017a8c2d6f21e7fc33aedcb' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (8.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:55.444361"], ["email", "test@email.com"], ["password_digest", "$2a$04$TcUtN6JjrBqdAIEM0k5TduskKSQMU6kiUrMYwYXhV3x35VDOZlyI."], ["updated_at", "2014-12-09 09:09:55.444361"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3593130207016e8f4c2810335f474c69' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (4.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3593130207016e8f4c2810335f474c69"], ["reset_password_token_exp", "2014-12-09 17:09:55.523123"], ["updated_at", "2014-12-09 09:09:55.527834"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/3593130207016e8f4c2810335f474c69/" for 127.0.0.1 at 2014-12-09 01:09:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"3593130207016e8f4c2810335f474c69"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '3593130207016e8f4c2810335f474c69' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$Ig3OY/LSJJcDFvFD4KIri.3O03BftH3/J9bGq9ChdaUnDUo7CewPi"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 09:09:55.626096"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 52ms (Views: 30.8ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:55.671242"], ["email", "test@email.com"], ["password_digest", "$2a$04$xL4HnanW.VeQekILm8xa0.tRnqI59BRdB4feYXK86cVs3eqIXAXQG"], ["updated_at", "2014-12-09 09:09:55.671242"], ["username", "test"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2f82b71fab56f7ec2604f4d9ba05026a' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2f82b71fab56f7ec2604f4d9ba05026a"], ["reset_password_token_exp", "2014-12-09 17:09:55.678547"], ["updated_at", "2014-12-09 09:09:55.687443"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/2f82b71fab56f7ec2604f4d9ba05026a/" for 127.0.0.1 at 2014-12-09 01:09:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2f82b71fab56f7ec2604f4d9ba05026a"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2f82b71fab56f7ec2604f4d9ba05026a' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$uecnHJ6YI3nElbeKaDWOnOXzdXNdkbOx9.kz9jZSx5VSikihvZ1wG"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-09 09:09:55.720303"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Completed 204 No Content in 32ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/2f82b71fab56f7ec2604f4d9ba05026a/" for 127.0.0.1 at 2014-12-09 01:09:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2f82b71fab56f7ec2604f4d9ba05026a"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2f82b71fab56f7ec2604f4d9ba05026a' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.6ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:55.741190"], ["email", "test@email.com"], ["password_digest", "$2a$04$g2oAaWTyw5l1haBKcVe96.KTWpW/qnyGkW57nhCtG.YtqdRuzmsAi"], ["updated_at", "2014-12-09 09:09:55.741190"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'dbb474a076cb9d675ad6ce1e3e99ad54' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "dbb474a076cb9d675ad6ce1e3e99ad54"], ["reset_password_token_exp", "2014-12-09 17:09:55.763899"], ["updated_at", "2014-12-09 09:09:55.777655"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/dbb474a076cb9d675ad6ce1e3e99ad54/" for 127.0.0.1 at 2014-12-09 01:09:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"dbb474a076cb9d675ad6ce1e3e99ad54"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'dbb474a076cb9d675ad6ce1e3e99ad54' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 51ms (Views: 0.5ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:55.862917"], ["email", "test@email.com"], ["password_digest", "$2a$04$aJQM7iBe34vwxADF.eu2WuUp1bSynfI1KsY7N0vGBeDkUe5UGxj62"], ["updated_at", "2014-12-09 09:09:55.862917"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a0489f8ce2bd3cf110d4730bdc4367f2' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a0489f8ce2bd3cf110d4730bdc4367f2"], ["reset_password_token_exp", "2014-12-09 17:09:55.870434"], ["updated_at", "2014-12-09 09:09:55.875952"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-09 01:09:55 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:55.980476"], ["email", "test@email.com"], ["password_digest", "$2a$04$Q7rgYZ3ZLlg1aTt1oO3fN.yWU1Bawx731idiAbO7L55kYGuCvBnD."], ["updated_at", "2014-12-09 09:09:55.980476"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e0fc2a571d709ac3c008baa77386cb32' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "e0fc2a571d709ac3c008baa77386cb32"], ["reset_password_token_exp", "2014-12-09 17:09:55.982870"], ["updated_at", "2014-12-09 09:09:55.985572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/a6e1fff45c16d1f3f2c433a214fc8c5b/" for 127.0.0.1 at 2014-12-09 01:09:55 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"a6e1fff45c16d1f3f2c433a214fc8c5b"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'a6e1fff45c16d1f3f2c433a214fc8c5b' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:56.024425"], ["email", "test@email.com"], ["password_digest", "$2a$04$m3xMEtmPjdMDjZNN/8L0aeI97w2umxVcOpXLVzVTCOyXACarne6dG"], ["updated_at", "2014-12-09 09:09:56.024425"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 01:09:56 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '772466d0241c02e6549b83b807ab0de8' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "772466d0241c02e6549b83b807ab0de8"], ["reset_password_token_exp", "2014-12-09 17:09:56.050534"], ["updated_at", "2014-12-09 09:09:56.056697"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (3.8ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (4.5ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 591.5ms

Sent mail to test@email.com (29.3ms)
Date: Tue, 09 Dec 2014 01:09:56 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486bc64a764e_3f5f3fdec9465be4517f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486bc64a1c65_3f5f3fdec9465be45093";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486bc64a1c65_3f5f3fdec9465be45093
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/772466d0241c02e6549b83b807ab0de8/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486bc64a1c65_3f5f3fdec9465be45093
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/772466d0241c02e6549b83b807ab0de8/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486bc64a1c65_3f5f3fdec9465be45093--

  Rendered text template (0.0ms)
Completed 204 No Content in 649ms (Views: 0.5ms | ActiveRecord: 2.5ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:56.702802"], ["email", "test@email.com"], ["password_digest", "$2a$04$8ELRg/PwbKl/1cXnI0t8NOKqRjLp3O2/wFMguM5S9/TedyicaeWvu"], ["updated_at", "2014-12-09 09:09:56.702802"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 01:09:56 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (5.9ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.7ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.6ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 14.3ms

Sent mail to foo@bar.com (6.8ms)
Date: Tue, 09 Dec 2014 01:09:56 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486bc64b7025_3f5f3fdec9465be45369@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486bc64b609b_3f5f3fdec9465be4526b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486bc64b609b_3f5f3fdec9465be4526b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486bc64b609b_3f5f3fdec9465be4526b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486bc64b609b_3f5f3fdec9465be4526b--

  Rendered text template (0.0ms)
Completed 204 No Content in 46ms (Views: 0.5ms | ActiveRecord: 5.9ms)
  [1m[35m (15.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (31.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:56.827203"], ["email", "test@email.com"], ["password_digest", "$2a$04$.YlHX5Pgy5h0outkd0gy7.Ohu8Z7M2qtki862tk5PpuZrPJqOXOEq"], ["updated_at", "2014-12-09 09:09:56.827203"], ["username", "test"]]
  [1m[35m (9.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 01:09:56 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bbe9c061dacac9c91c437e109a4f68ea' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bbe9c061dacac9c91c437e109a4f68ea"], ["reset_password_token_exp", "2014-12-09 17:09:56.884295"], ["updated_at", "2014-12-09 09:09:56.887648"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.1ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 12.8ms

Sent mail to test@email.com (23.4ms)
Date: Tue, 09 Dec 2014 01:09:56 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <5486bc64dd7f6_3f5f3fdec9465be45570@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486bc64dc19b_3f5f3fdec9465be454d5";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486bc64dc19b_3f5f3fdec9465be454d5
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/bbe9c061dacac9c91c437e109a4f68ea/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_5486bc64dc19b_3f5f3fdec9465be454d5
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/bbe9c061dacac9c91c437e109a4f68ea/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_5486bc64dc19b_3f5f3fdec9465be454d5--

  Rendered text template (0.0ms)
Completed 204 No Content in 49ms (Views: 0.9ms | ActiveRecord: 2.9ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:56.936934"], ["email", "test@email.com"], ["password_digest", "$2a$04$V2cHef5k3VoFLnR/TTNCJuPhNcE0OttFqYYA9kHUooq9uO5EXSI9G"], ["updated_at", "2014-12-09 09:09:56.936934"], ["username", "test"]]
  [1m[35m (5.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-09 01:09:56 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 4.1ms

Sent mail to foo@bar.com (5.9ms)
Date: Tue, 09 Dec 2014 01:09:56 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <5486bc64e90ee_3f5f3fdec9465be4577d@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5486bc64e82cb_3f5f3fdec9465be456a3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5486bc64e82cb_3f5f3fdec9465be456a3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_5486bc64e82cb_3f5f3fdec9465be456a3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_5486bc64e82cb_3f5f3fdec9465be456a3--

  Rendered text template (0.0ms)
Completed 204 No Content in 15ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:56.968949"], ["email", "test@email.com"], ["password_digest", "$2a$04$IsfakTnkSRFMBs20SAN2Fe6PII1wC0bSdcoycekOZK.0uK1VQEg.."], ["updated_at", "2014-12-09 09:09:56.968949"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 01:09:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '0b1af805400596a5ad33ac004b46645a' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.035795"], ["expiration", "2014-12-10 09:09:57.047031"], ["key", "0b1af805400596a5ad33ac004b46645a"], ["updated_at", "2014-12-09 09:09:57.035795"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 77ms (Views: 16.0ms | ActiveRecord: 6.3ms)
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.075959"], ["email", "test@email.com"], ["password_digest", "$2a$04$IlHmIPM0M7wyNIfi2rREuuZs4HH8IqGN/CYfXaTltpjfzpiom2tTG"], ["updated_at", "2014-12-09 09:09:57.075959"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.2ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '5491d99484db80128ff1739949f51b4a' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:57.105597"], ["expiration", "2014-12-10 09:09:57.107733"], ["key", "5491d99484db80128ff1739949f51b4a"], ["updated_at", "2014-12-09 09:09:57.105597"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 40ms (Views: 6.0ms | ActiveRecord: 2.2ms)
  [1m[35m (13.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.5ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:57.155064"], ["email", "test@email.com"], ["password_digest", "$2a$04$SAkHQD2kmjyQ9ak6Sz.SKupBa3w4TP3RV7FYF/tXHGOGUdVdkfT8y"], ["updated_at", "2014-12-09 09:09:57.155064"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (8.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 18ms (Views: 0.7ms | ActiveRecord: 8.1ms)
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:57.223367"], ["email", "test@email.com"], ["password_digest", "$2a$04$VN.nn6eGgj.vriDBV5G6OuhXlMIydBD3tJsHMfk92mHoyLfkd1n9e"], ["updated_at", "2014-12-09 09:09:57.223367"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '9b7f881ac9906d980514a36d00ea5362' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.247727"], ["expiration", "2014-12-10 09:09:57.270478"], ["key", "9b7f881ac9906d980514a36d00ea5362"], ["updated_at", "2014-12-09 09:09:57.247727"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 42ms (Views: 4.5ms | ActiveRecord: 2.5ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (3.0ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '9b7f881ac9906d980514a36d00ea5362' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 4.2ms | ActiveRecord: 3.0ms)
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.307577"], ["email", "test@email.com"], ["password_digest", "$2a$04$4kC6lRoQjmZRYQikIbdj2.AiS7IYxCLZMPgVOGkjFu8xpRxUegdiq"], ["updated_at", "2014-12-09 09:09:57.307577"], ["username", "test"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '8cf897503a3cc3bd62ec4c3a5768799c' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.313076"], ["expiration", "2014-12-10 09:09:57.314182"], ["key", "8cf897503a3cc3bd62ec4c3a5768799c"], ["updated_at", "2014-12-09 09:09:57.313076"], ["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 09:04:57.319311"], ["updated_at", "2014-12-09 09:09:57.320693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.4ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '8cf897503a3cc3bd62ec4c3a5768799c' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (2.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:57.358951"], ["email", "test@email.com"], ["password_digest", "$2a$04$8ueaO0moG/KzYKXcTXJhD.zKl2ounCB2H0yAETouFXwADlTvc/4x6"], ["updated_at", "2014-12-09 09:09:57.358951"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a62594533a5bddfc0fb97cb6874c6ee3' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:57.363305"], ["expiration", "2014-12-10 09:09:57.366517"], ["key", "a62594533a5bddfc0fb97cb6874c6ee3"], ["updated_at", "2014-12-09 09:09:57.363305"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (11.8ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a62594533a5bddfc0fb97cb6874c6ee3' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.1ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 31ms (Views: 5.4ms | ActiveRecord: 12.7ms)
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.414206"], ["email", "test@email.com"], ["password_digest", "$2a$04$czdDBA1ypz.2juZGbj4zTO3DUkiiBOYWnFAZzsuKaCeq/fJZZDDZu"], ["updated_at", "2014-12-09 09:09:57.414206"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '384be0dfba6bf1b4fd50e1095d4f8ece' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.418935"], ["expiration", "2014-12-10 09:09:57.429140"], ["key", "384be0dfba6bf1b4fd50e1095d4f8ece"], ["updated_at", "2014-12-09 09:09:57.418935"], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-09 09:04:57.438109"], ["updated_at", "2014-12-09 09:09:57.439355"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '384be0dfba6bf1b4fd50e1095d4f8ece' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (2.8ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-09 09:09:57.496952"], ["email", "test"], ["password_digest", "$2a$04$0kMVzIG0hdnL6MhvnDkA8OiRACpdf.33BwpOj/ewjOdBd1b7ztf0S"], ["updated_at", "2014-12-09 09:09:57.496952"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 54ms (Views: 26.3ms | ActiveRecord: 4.2ms)
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.566008"], ["email", "test@email.com"], ["password_digest", "$2a$04$G60LCT1NTmxOPaG3MHKp3.vTxxgOGfWLVzFv3FUpDqp3G4g/tBRJy"], ["updated_at", "2014-12-09 09:09:57.566008"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'e43c02e1d359e63b212e0d6cecd1d398' LIMIT 1[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.568252"], ["expiration", "2014-12-10 09:09:57.569025"], ["key", "e43c02e1d359e63b212e0d6cecd1d398"], ["updated_at", "2014-12-09 09:09:57.568252"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'e43c02e1d359e63b212e0d6cecd1d398' LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 27ms (Views: 4.2ms | ActiveRecord: 1.0ms)
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.640603"], ["email", "test@email.com"], ["password_digest", "$2a$04$eURfJilzCJcfaVS7nfoLDOWHFXkxu5bnpbX6hktY1T9TU0AbcQhG2"], ["updated_at", "2014-12-09 09:09:57.640603"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b3938732ca81908eab69f4d199f8e4fc' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-09 09:09:57.656854"], ["expiration", "2014-12-10 09:09:57.657939"], ["key", "b3938732ca81908eab69f4d199f8e4fc"], ["updated_at", "2014-12-09 09:09:57.656854"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-09 01:09:57 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.2ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b3938732ca81908eab69f4d199f8e4fc' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 200 OK in 8ms (Views: 2.6ms | ActiveRecord: 0.8ms)
  [1m[36m (8.8ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:58.877802"], ["email", "test@email.com"], ["password_digest", "$2a$04$m9HWSMz.tDwryorH8y9gueOtQKMGLxu0GEoPG5LggD28qWChXJHiG"], ["updated_at", "2014-12-15 17:40:58.877802"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '1049df6f4dc3f310fdf381f47c29d562' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "1049df6f4dc3f310fdf381f47c29d562"], ["reset_password_token_exp", "2014-12-16 01:40:58.886175"], ["updated_at", "2014-12-15 17:40:58.888363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/1049df6f4dc3f310fdf381f47c29d562/" for 127.0.0.1 at 2014-12-15 09:40:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"1049df6f4dc3f310fdf381f47c29d562"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '1049df6f4dc3f310fdf381f47c29d562' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$9SEjZxK79q5ROi/Vx.yB2Om4y/xo0upZq0g9oUbnOPE9IC/MdqwQa"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-15 17:40:58.917657"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 18ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:58.933088"], ["email", "test@email.com"], ["password_digest", "$2a$04$6Ys3eU96ayDEOUT426KXNuDPR/nuKnZHssquPPO7MasJuA8MqW.3K"], ["updated_at", "2014-12-15 17:40:58.933088"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'efb78e6893ff0f1ec5e80f728ad587eb' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "efb78e6893ff0f1ec5e80f728ad587eb"], ["reset_password_token_exp", "2014-12-16 01:40:58.934609"], ["updated_at", "2014-12-15 17:40:58.935689"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/efb78e6893ff0f1ec5e80f728ad587eb/" for 127.0.0.1 at 2014-12-15 09:40:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"efb78e6893ff0f1ec5e80f728ad587eb"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'efb78e6893ff0f1ec5e80f728ad587eb' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["password_digest", "$2a$04$AJwaGVHKcvyr9S416n2DJe5s4iFWTdzUwV7lyVOS1FNTMsXOuMtKW"], ["reset_password_token", nil], ["reset_password_token_exp", nil], ["updated_at", "2014-12-15 17:40:58.941550"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Completed 204 No Content in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Started PUT "/password_resets/efb78e6893ff0f1ec5e80f728ad587eb/" for 127.0.0.1 at 2014-12-15 09:40:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"efb78e6893ff0f1ec5e80f728ad587eb"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'efb78e6893ff0f1ec5e80f728ad587eb' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:58.949552"], ["email", "test@email.com"], ["password_digest", "$2a$04$rl2zphO5jZ9M9Qj5A6aTGeKWIMFlF7sjTw8/mFGJNe.4EoViZahnq"], ["updated_at", "2014-12-15 17:40:58.949552"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'bb6f01ea97954811445c632dcec6ffa9' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "bb6f01ea97954811445c632dcec6ffa9"], ["reset_password_token_exp", "2014-12-16 01:40:58.950721"], ["updated_at", "2014-12-15 17:40:58.951682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/bb6f01ea97954811445c632dcec6ffa9/" for 127.0.0.1 at 2014-12-15 09:40:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"bb6f01ea97954811445c632dcec6ffa9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = 'bb6f01ea97954811445c632dcec6ffa9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 12ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:58.972641"], ["email", "test@email.com"], ["password_digest", "$2a$04$BTU8B4welwZjQpLwqOX/JORg0lnxB9izoiqKFmrr7NE/bKqwdWrF2"], ["updated_at", "2014-12-15 17:40:58.972641"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '2e12e0593d1b415b6f0dc371e014bcf9' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "2e12e0593d1b415b6f0dc371e014bcf9"], ["reset_password_token_exp", "2014-12-16 01:40:58.973980"], ["updated_at", "2014-12-15 17:40:58.974973"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets//" for 127.0.0.1 at 2014-12-15 09:40:58 -0800
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:58.985258"], ["email", "test@email.com"], ["password_digest", "$2a$04$sLauf5/kbLXyEk3iDauVK.gdAsC1yBsStNYOkUV0enmKlcdZvNBAK"], ["updated_at", "2014-12-15 17:40:58.985258"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a8acb848e4a029f87d812f0438c9549d' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "a8acb848e4a029f87d812f0438c9549d"], ["reset_password_token_exp", "2014-12-16 01:40:58.987161"], ["updated_at", "2014-12-15 17:40:58.988567"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/1a485be4f22c8db39b8b35bf11aaabf0/" for 127.0.0.1 at 2014-12-15 09:40:58 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"1a485be4f22c8db39b8b35bf11aaabf0"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '1a485be4f22c8db39b8b35bf11aaabf0' LIMIT 1[0m
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:58.996428"], ["email", "test@email.com"], ["password_digest", "$2a$04$RuWNtQ7Q87Ptiug09ruC7usk/1i0OXWkc5DlT2K5MxCbA9AzLRUeu"], ["updated_at", "2014-12-15 17:40:58.996428"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-15 09:40:58 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '4dd3d326c76a40a81ffbfda986325100' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "4dd3d326c76a40a81ffbfda986325100"], ["reset_password_token_exp", "2014-12-16 01:40:58.999553"], ["updated_at", "2014-12-15 17:40:59.001029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (5.9ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 233.4ms

Sent mail to test@email.com (11.0ms)
Date: Mon, 15 Dec 2014 09:40:59 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <548f1d2b3cc9a_8ec93fc3ddc61bec17474@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_548f1d2b3ae18_8ec93fc3ddc61bec17357";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_548f1d2b3ae18_8ec93fc3ddc61bec17357
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/4dd3d326c76a40a81ffbfda986325100/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_548f1d2b3ae18_8ec93fc3ddc61bec17357
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/4dd3d326c76a40a81ffbfda986325100/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_548f1d2b3ae18_8ec93fc3ddc61bec17357--

  Rendered text template (0.0ms)
Completed 204 No Content in 255ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.258355"], ["email", "test@email.com"], ["password_digest", "$2a$04$HjzY0ucEl/5GYLfwgmQWfOlGL/6UWV4ANs/0OspuwKZj.EOvj.3hi"], ["updated_at", "2014-12-15 17:40:59.258355"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (1.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 15.7ms

Sent mail to foo@bar.com (2.4ms)
Date: Mon, 15 Dec 2014 09:40:59 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <548f1d2b43deb_8ec93fc3ddc61bec1763a@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_548f1d2b42e6b_8ec93fc3ddc61bec17566";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_548f1d2b42e6b_8ec93fc3ddc61bec17566
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_548f1d2b42e6b_8ec93fc3ddc61bec17566
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_548f1d2b42e6b_8ec93fc3ddc61bec17566--

  Rendered text template (0.0ms)
Completed 204 No Content in 20ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.284370"], ["email", "test@email.com"], ["password_digest", "$2a$04$fGfQXJeR1cL2xE0p8FfGtOPwxdvho6M8HkKe8AqV4G/uoel8yEbgO"], ["updated_at", "2014-12-15 17:40:59.284370"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ccf3590ff9801d923ece207622b1213d' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "ccf3590ff9801d923ece207622b1213d"], ["reset_password_token_exp", "2014-12-16 01:40:59.287357"], ["updated_at", "2014-12-15 17:40:59.288996"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.2ms

Sent mail to test@email.com (2.8ms)
Date: Mon, 15 Dec 2014 09:40:59 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <548f1d2b498d4_8ec93fc3ddc61bec178ba@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_548f1d2b4922e_8ec93fc3ddc61bec177e2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_548f1d2b4922e_8ec93fc3ddc61bec177e2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/ccf3590ff9801d923ece207622b1213d/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_548f1d2b4922e_8ec93fc3ddc61bec177e2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/ccf3590ff9801d923ece207622b1213d/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_548f1d2b4922e_8ec93fc3ddc61bec177e2--

  Rendered text template (0.0ms)
Completed 204 No Content in 18ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.310251"], ["email", "test@email.com"], ["password_digest", "$2a$04$ku3HPSrY34JANOIcKW4r1OvMVaABRHi8xc7CubKvHrSj.XMJXWS6u"], ["updated_at", "2014-12-15 17:40:59.310251"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/password_resets/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1[0m
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.0ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 1.9ms

Sent mail to foo@bar.com (2.5ms)
Date: Mon, 15 Dec 2014 09:40:59 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <548f1d2b4d26b_8ec93fc3ddc61bec18014@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_548f1d2b4cbe5_8ec93fc3ddc61bec179a6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_548f1d2b4cbe5_8ec93fc3ddc61bec179a6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_548f1d2b4cbe5_8ec93fc3ddc61bec179a6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_548f1d2b4cbe5_8ec93fc3ddc61bec179a6--

  Rendered text template (0.0ms)
Completed 204 No Content in 6ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.323193"], ["email", "test@email.com"], ["password_digest", "$2a$04$Kz5ThwkkeTRODjSZ0SgWeeTnRP9UOKmMMkoMtPhW8WhBLtpVwegYS"], ["updated_at", "2014-12-15 17:40:59.323193"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test", "password"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test' OR email='test')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b34af28325b1c2a568159da5307c897a' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.340729"], ["expiration", "2014-12-16 17:40:59.344164"], ["key", "b34af28325b1c2a568159da5307c897a"], ["updated_at", "2014-12-15 17:40:59.340729"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 27ms (Views: 10.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.365163"], ["email", "test@email.com"], ["password_digest", "$2a$04$DFvX4w7zq25M.YURMxfbIOgkMLboWpkOaccEyTLAh5aDTnw/y2EZ2"], ["updated_at", "2014-12-15 17:40:59.365163"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/session/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b5eb02f1c6d648724960741938fc8a93' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.371462"], ["expiration", "2014-12-16 17:40:59.372106"], ["key", "b5eb02f1c6d648724960741938fc8a93"], ["updated_at", "2014-12-15 17:40:59.371462"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 201 Created in 6ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.379450"], ["email", "test@email.com"], ["password_digest", "$2a$04$muBTxXaNOL0qj8hDhM/8quGfLB3VuJqlbOJUwjY8efWGFL2Ad598C"], ["updated_at", "2014-12-15 17:40:59.379450"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"not_test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.390620"], ["email", "test@email.com"], ["password_digest", "$2a$04$xvJmAMyZhoG5VXwKzrvw3e7q.6KLXsq6CDUzAkpEWV/GzZVHlHJxi"], ["updated_at", "2014-12-15 17:40:59.390620"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/session/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by SessionsController#create as HTML
  Parameters: {"username"=>"test@email.com", "password"=>"text"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE (username='test@email.com' OR email='test@email.com')  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '562204578d62136a690d2885f38faa9c' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.397757"], ["expiration", "2014-12-16 17:40:59.398633"], ["key", "562204578d62136a690d2885f38faa9c"], ["updated_at", "2014-12-15 17:40:59.397757"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 201 Created in 7ms (Views: 1.6ms | ActiveRecord: 0.8ms)
Started GET "/session/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '562204578d62136a690d2885f38faa9c' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.3ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.412783"], ["email", "test@email.com"], ["password_digest", "$2a$04$YgTkEP5kuO3kHMI.RGvo5.xo4o6BAZFkTt/RKWNFdj2Sw4LlC2Sny"], ["updated_at", "2014-12-15 17:40:59.412783"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'b06b559b9c38ae3fda9d032a16358845' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.414044"], ["expiration", "2014-12-16 17:40:59.414693"], ["key", "b06b559b9c38ae3fda9d032a16358845"], ["updated_at", "2014-12-15 17:40:59.414044"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-15 17:35:59.415758"], ["updated_at", "2014-12-15 17:40:59.416014"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'b06b559b9c38ae3fda9d032a16358845' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.427116"], ["email", "test@email.com"], ["password_digest", "$2a$04$IxhbMT6qL7bFFO7S091HOOUbVQDHE78C5iZcl5z19i3kgfSTEBmTu"], ["updated_at", "2014-12-15 17:40:59.427116"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'c674350f70dd4189343536ea5ccde671' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.428599"], ["expiration", "2014-12-16 17:40:59.429198"], ["key", "c674350f70dd4189343536ea5ccde671"], ["updated_at", "2014-12-15 17:40:59.428599"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'c674350f70dd4189343536ea5ccde671' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.438800"], ["email", "test@email.com"], ["password_digest", "$2a$04$RZHSqic0gGpQYybpzpeiQ.V2mZEnAJ4.EAkuk0P4cNA1z0yyYnsyu"], ["updated_at", "2014-12-15 17:40:59.438800"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '4dcccbf7ebece116f020d97c431b864f' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.440640"], ["expiration", "2014-12-16 17:40:59.441302"], ["key", "4dcccbf7ebece116f020d97c431b864f"], ["updated_at", "2014-12-15 17:40:59.440640"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2014-12-15 17:35:59.442842"], ["updated_at", "2014-12-15 17:40:59.443341"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '4dcccbf7ebece116f020d97c431b864f' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2014-12-15 17:40:59.460213"], ["email", "test"], ["password_digest", "$2a$04$eO2PndGbNB5gkJBSv31oKOg/8zlbempn1D.gqBIRHaA9hokl0256u"], ["updated_at", "2014-12-15 17:40:59.460213"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started POST "/users/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.475035"], ["email", "test@email.com"], ["password_digest", "$2a$04$rR3aaEHANXbDBPaNQFboK.UpMiHlwj4n.JfPlFyHaay1MaFsqMvNC"], ["updated_at", "2014-12-15 17:40:59.475035"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'babb30c9cf9523af84b55d850c543765' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.476675"], ["expiration", "2014-12-16 17:40:59.477429"], ["key", "babb30c9cf9523af84b55d850c543765"], ["updated_at", "2014-12-15 17:40:59.476675"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by UsersController#index as HTML
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'babb30c9cf9523af84b55d850c543765' LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/users/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.490968"], ["email", "test@email.com"], ["password_digest", "$2a$04$idIzTgrpw.N/9wPLNO39Qe9xaPh0ZLO0LXtTT4Jdw6JJrzUYxID/u"], ["updated_at", "2014-12-15 17:40:59.490968"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'a41904373fb230d992c2b2ad511f0c19' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2014-12-15 17:40:59.492276"], ["expiration", "2014-12-16 17:40:59.492920"], ["key", "a41904373fb230d992c2b2ad511f0c19"], ["updated_at", "2014-12-15 17:40:59.492276"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/" for 127.0.0.1 at 2014-12-15 09:40:59 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSession Load (0.1ms)[0m  SELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'a41904373fb230d992c2b2ad511f0c19' LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:44.854872"], ["email", "test@email.com"], ["password_digest", "$2a$04$pbYcuuUrYAIatdrki1MFhuQW1ZNEim3Z0OEO7pKdtqj/4BlshOklq"], ["updated_at", "2015-02-10 20:57:44.854872"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a0e6c57ead42d44fb14bd125c9dbe07e' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:44.912879"], ["email", "test@email.com"], ["password_digest", "$2a$04$1iliBWQU1DoOKE8rJeayM.1UihMiWmJfk9q4Dtfg9K3bZXcYTVQM6"], ["updated_at", "2015-02-10 20:57:44.912879"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'f72a3f755928ef4a06de53f09523f28a' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:44.923356"], ["email", "test@email.com"], ["password_digest", "$2a$04$H.ivupLtfaMWO9HmZthTzuTFnpWdVdSIhVZ2wZgX0ZjXTZ04gUSqu"], ["updated_at", "2015-02-10 20:57:44.923356"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c903d368ed02496559e48ef66f458cb3' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:44.933011"], ["email", "test@email.com"], ["password_digest", "$2a$04$htb6YrZcd/8kyIkE9y6TEeu2neGdvKnmCG44SokklKuEITt/7U3Oa"], ["updated_at", "2015-02-10 20:57:44.933011"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'c83bba73873c70ca4fe4aa225abfaf75' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:44.943987"], ["email", "test@email.com"], ["password_digest", "$2a$04$VYhcNClcH3dXGuqW/vGZruf5CRVoQaXIRD9szW7vdNVnE7nsOjCT."], ["updated_at", "2015-02-10 20:57:44.943987"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '68c6bb641729b745c306b64704a64c5f' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:44.955683"], ["email", "test@email.com"], ["password_digest", "$2a$04$gUpMG.F9YLL9UmArt7ES4./BH2lCchAYu.Aim.Mhz.BySrLTfmXdO"], ["updated_at", "2015-02-10 20:57:44.955683"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2015-02-10 12:57:44 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '438f09d31f236fca17b9249e557cbad5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "438f09d31f236fca17b9249e557cbad5"], ["reset_password_token_exp", "2015-02-11 04:57:45.032091"], ["updated_at", "2015-02-10 20:57:45.033987"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 681.2ms

Sent mail to test@email.com (21.1ms)
Date: Tue, 10 Feb 2015 12:57:45 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54da70c9b43f0_15f873ff2c9065be86295@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54da70c9b02fd_15f873ff2c9065be8628e6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54da70c9b02fd_15f873ff2c9065be8628e6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/438f09d31f236fca17b9249e557cbad5/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54da70c9b02fd_15f873ff2c9065be8628e6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/438f09d31f236fca17b9249e557cbad5/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54da70c9b02fd_15f873ff2c9065be8628e6--

  Rendered text template (0.0ms)
Completed 204 No Content in 718ms (Views: 2.7ms | ActiveRecord: 2.2ms)
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:45.755571"], ["email", "test@email.com"], ["password_digest", "$2a$04$qA0cMF5gAKCNHXk36dtQFe2XNWLev2.waLJPTYFEKuWV5q1sJwxUu"], ["updated_at", "2015-02-10 20:57:45.755571"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.5ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.7ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 17.0ms

Sent mail to foo@bar.com (3.0ms)
Date: Tue, 10 Feb 2015 12:57:45 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54da70c9bd9ce_15f873ff2c9065be86315f@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54da70c9bb212_15f873ff2c9065be86304d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54da70c9bb212_15f873ff2c9065be86304d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54da70c9bb212_15f873ff2c9065be86304d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54da70c9bb212_15f873ff2c9065be86304d--

  Rendered text template (0.0ms)
Completed 204 No Content in 21ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:45.784296"], ["email", "test@email.com"], ["password_digest", "$2a$04$qk4ziezN4UBHI3jsfzGJUOv4ihZGcZeYKePeKLvUdnEbzClZIFWaG"], ["updated_at", "2015-02-10 20:57:45.784296"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '3ee6e12889fde2d232da21f253f17bd8' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "3ee6e12889fde2d232da21f253f17bd8"], ["reset_password_token_exp", "2015-02-11 04:57:45.787817"], ["updated_at", "2015-02-10 20:57:45.789157"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.6ms

Sent mail to test@email.com (2.9ms)
Date: Tue, 10 Feb 2015 12:57:45 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54da70c9c1ced_15f873ff2c9065be86331b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54da70c9c15cd_15f873ff2c9065be86328b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54da70c9c15cd_15f873ff2c9065be86328b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/3ee6e12889fde2d232da21f253f17bd8/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54da70c9c15cd_15f873ff2c9065be86328b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/3ee6e12889fde2d232da21f253f17bd8/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54da70c9c15cd_15f873ff2c9065be86328b--

  Rendered text template (0.0ms)
Completed 204 No Content in 10ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:45.802387"], ["email", "test@email.com"], ["password_digest", "$2a$04$9Lzk0f6S3iZCO5NNpkPWwuTR.vZTfrHhtEVXb0PCv2l2F5NUcOHdC"], ["updated_at", "2015-02-10 20:57:45.802387"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.1ms

Sent mail to foo@bar.com (3.5ms)
Date: Tue, 10 Feb 2015 12:57:45 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54da70c9c576e_15f873ff2c9065be8635b0@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54da70c9c4f1f_15f873ff2c9065be86342a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54da70c9c4f1f_15f873ff2c9065be86342a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54da70c9c4f1f_15f873ff2c9065be86342a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54da70c9c4f1f_15f873ff2c9065be86342a--

  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:45.836905"], ["email", "test@email.com"], ["password_digest", "$2a$04$VxTJb5moJ3epOqzfa3Iy1.eiJNLJGcf1m.cjASPGhl1xVjBSaaQMS"], ["updated_at", "2015-02-10 20:57:45.836905"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'f2367f3e8f95379e778c769602a3c126' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:45.859566"], ["expiration", "2015-02-11 20:57:45.860699"], ["key", "f2367f3e8f95379e778c769602a3c126"], ["updated_at", "2015-02-10 20:57:45.859566"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2015-02-10 20:52:45.861917"], ["updated_at", "2015-02-10 20:57:45.862216"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'f2367f3e8f95379e778c769602a3c126' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:45.877769"], ["email", "test@email.com"], ["password_digest", "$2a$04$tcFvpUQKlu1fPdkhQjQsouBhzPXgIbSiEoPBU4/2kPZog8tPm4C4S"], ["updated_at", "2015-02-10 20:57:45.877769"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'eaac31d1cba8f30ec50c43ddfc7555ac' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:45.879447"], ["expiration", "2015-02-11 20:57:45.880128"], ["key", "eaac31d1cba8f30ec50c43ddfc7555ac"], ["updated_at", "2015-02-10 20:57:45.879447"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'eaac31d1cba8f30ec50c43ddfc7555ac' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 6ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:45.894542"], ["email", "test@email.com"], ["password_digest", "$2a$04$dTtOHYZSVGMiF6lImf1EUOlE1lvFvWiYCPnijzdMY4K0ZMww8.Azu"], ["updated_at", "2015-02-10 20:57:45.894542"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'ba8a8d3eaaff488aa8a0bb231132820c' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:57:45.896202"], ["expiration", "2015-02-11 20:57:45.896852"], ["key", "ba8a8d3eaaff488aa8a0bb231132820c"], ["updated_at", "2015-02-10 20:57:45.896202"], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2015-02-10 20:52:45.898002"], ["updated_at", "2015-02-10 20:57:45.898359"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'ba8a8d3eaaff488aa8a0bb231132820c' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:45.932285"], ["email", "test@email.com"], ["password_digest", "$2a$04$znp5lYZQUduNhlr3.9j6.uy7HNlrM/n0bUAZZNCGHczqsg94XYAYe"], ["updated_at", "2015-02-10 20:57:45.932285"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'e96f2436378631ec026c17df0e550544' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:45.933827"], ["expiration", "2015-02-11 20:57:45.934448"], ["key", "e96f2436378631ec026c17df0e550544"], ["updated_at", "2015-02-10 20:57:45.933827"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by UsersController#index as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'e96f2436378631ec026c17df0e550544' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/users/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:45.950953"], ["email", "test@email.com"], ["password_digest", "$2a$04$E0Z8JWvtlKWvipaSVxVmJOctxcmkNAn0Ji88mG/lH3mU/1d6ovGBq"], ["updated_at", "2015-02-10 20:57:45.950953"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '1e9ae7774ca36b111ee0a2ff001ebf1c' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:57:45.953106"], ["expiration", "2015-02-11 20:57:45.953929"], ["key", "1e9ae7774ca36b111ee0a2ff001ebf1c"], ["updated_at", "2015-02-10 20:57:45.953106"], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1/" for 127.0.0.1 at 2015-02-10 12:57:45 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '1e9ae7774ca36b111ee0a2ff001ebf1c' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:06.918252"], ["email", "test@email.com"], ["password_digest", "$2a$04$o5jikX7rP2p0TH.9lzoan.HU9IVw1wr81hFwDeZI4uKyotFX9SViq"], ["updated_at", "2015-02-10 20:59:06.918252"], ["username", "test"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '0270a90e620bf847257031a0e5484f32' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "0270a90e620bf847257031a0e5484f32"], ["reset_password_token_exp", "2015-02-11 04:59:06.938330"], ["updated_at", "2015-02-10 20:59:06.940287"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/0270a90e620bf847257031a0e5484f32/" for 127.0.0.1 at 2015-02-10 12:59:06 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"0270a90e620bf847257031a0e5484f32"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '0270a90e620bf847257031a0e5484f32' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 35ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:07.016652"], ["email", "test@email.com"], ["password_digest", "$2a$04$2xAOVD.K1eeFSKxUtD9WF.Z8cgOksW6Eer2Kau.pfMCiFixbx/0l6"], ["updated_at", "2015-02-10 20:59:07.016652"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '93678ec7f133c46aa04fd921c38acd4c' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "93678ec7f133c46aa04fd921c38acd4c"], ["reset_password_token_exp", "2015-02-11 04:59:07.018472"], ["updated_at", "2015-02-10 20:59:07.020149"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/93678ec7f133c46aa04fd921c38acd4c/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"93678ec7f133c46aa04fd921c38acd4c"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '93678ec7f133c46aa04fd921c38acd4c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:07.034290"], ["email", "test@email.com"], ["password_digest", "$2a$04$q.K2cwFp/vVFS0qP6TYLtudlR26AW3agn8z83JAdyRGL2SRBB/jIi"], ["updated_at", "2015-02-10 20:59:07.034290"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '5157005539e79f098d1b039459bc3d69' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "5157005539e79f098d1b039459bc3d69"], ["reset_password_token_exp", "2015-02-11 04:59:07.036007"], ["updated_at", "2015-02-10 20:59:07.037285"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started PUT "/password_resets/5157005539e79f098d1b039459bc3d69/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test_ops", "id"=>"5157005539e79f098d1b039459bc3d69"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '5157005539e79f098d1b039459bc3d69' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 43ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.088576"], ["email", "test@email.com"], ["password_digest", "$2a$04$wWKy9oKgDsrdiKLhOqpyY.Upwwi4.7zeL.RiES6G6JC1S8ozDqu6m"], ["updated_at", "2015-02-10 20:59:07.088576"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'e9f0b94e5f419bd4fe9b64194f52a251' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "e9f0b94e5f419bd4fe9b64194f52a251"], ["reset_password_token_exp", "2015-02-11 04:59:07.090141"], ["updated_at", "2015-02-10 20:59:07.091660"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets//" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.110705"], ["email", "test@email.com"], ["password_digest", "$2a$04$6J.mMTBeYK8DrKnqb6W9jeq1SaiqzZvq2bxXOXRDy8XQktwNMYHYy"], ["updated_at", "2015-02-10 20:59:07.110705"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'a5117266c257065c7c47e4f911e7955a' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1  [["reset_password_token", "a5117266c257065c7c47e4f911e7955a"], ["reset_password_token_exp", "2015-02-11 04:59:07.112432"], ["updated_at", "2015-02-10 20:59:07.113473"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/password_resets/2506fee0eea83505e959a91e79769bd4/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"password"=>"test", "password_confirmation"=>"test", "id"=>"2506fee0eea83505e959a91e79769bd4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."reset_password_token" = '2506fee0eea83505e959a91e79769bd4' LIMIT 1
  Rendered text template (0.0ms)
Filter chain halted as :validate_reset_token rendered or redirected
Completed 404 Not Found in 15ms (Views: 13.9ms | ActiveRecord: 0.1ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.135292"], ["email", "test@email.com"], ["password_digest", "$2a$04$w19jyt78lXK04FE58di71eKl/SmO8jf7mlRglBh8iKIjTXWbYZura"], ["updated_at", "2015-02-10 20:59:07.135292"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = '01e4c93650357ff0a0846115674c651e' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "01e4c93650357ff0a0846115674c651e"], ["reset_password_token_exp", "2015-02-11 04:59:07.138453"], ["updated_at", "2015-02-10 20:59:07.140339"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (2.6ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.4ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 534.7ms

Sent mail to test@email.com (20.7ms)
Date: Tue, 10 Feb 2015 12:59:07 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54da711ba9e22_15fd23ff725065bec3042c@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54da711ba5cbc_15fd23ff725065bec3037d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54da711ba5cbc_15fd23ff725065bec3037d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/01e4c93650357ff0a0846115674c651e/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54da711ba5cbc_15fd23ff725065bec3037d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/01e4c93650357ff0a0846115674c651e/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54da711ba5cbc_15fd23ff725065bec3037d--

  Rendered text template (0.0ms)
Completed 204 No Content in 564ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.707362"], ["email", "test@email.com"], ["password_digest", "$2a$04$EifaidZ1X8MQNGkvSp4xgOkPEGMUEdgW/NxEamFjGe1AQQBvI76q2"], ["updated_at", "2015-02-10 20:59:07.707362"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.4ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.3ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 7.6ms

Sent mail to foo@bar.com (10.6ms)
Date: Tue, 10 Feb 2015 12:59:07 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54da711bb164a_15fd23ff725065bec30634@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54da711baf197_15fd23ff725065bec3057a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54da711baf197_15fd23ff725065bec3057a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54da711baf197_15fd23ff725065bec3057a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54da711baf197_15fd23ff725065bec3057a--

  Rendered text template (0.0ms)
Completed 204 No Content in 20ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.734617"], ["email", "test@email.com"], ["password_digest", "$2a$04$8V0bZyXt3vhqvODNrfHVoOVWQKLb0ZhpLo.JzUUn//te3.inqxhlS"], ["updated_at", "2015-02-10 20:59:07.734617"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"test@email.com"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'test@email.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."reset_password_token" = 'ba027cd274c8d1379ed9aaf5005715c2' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE (LOWER("users"."email") = LOWER('test@email.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE (LOWER("users"."username") = LOWER('test') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_exp" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["reset_password_token", "ba027cd274c8d1379ed9aaf5005715c2"], ["reset_password_token_exp", "2015-02-11 04:59:07.737682"], ["updated_at", "2015-02-10 20:59:07.739354"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/valid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#valid_user_reset_password_email: processed outbound mail in 2.3ms

Sent mail to test@email.com (4.0ms)
Date: Tue, 10 Feb 2015 12:59:07 -0800
From: no-reply@test.com
To: test@email.com
Message-ID: <54da711bb5ba3_15fd23ff725065bec30828@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54da711bb5273_15fd23ff725065bec307be";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54da711bb5273_15fd23ff725065bec307be
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi test
==================================

Someone has requested to change your password. You can do this through the link below.

Please go to http://example.org/reset-password/ba027cd274c8d1379ed9aaf5005715c2/ to change your password.

If you didn't request this, please ignore this email.
Your password won't change until you access the link above and create a new one.

----==_mimepart_54da711bb5273_15fd23ff725065bec307be
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi test</h1>

    <p>Someone has requested a link to change your password. You can do this through the link below.</p>

    <p><a href="http://example.org/reset-password/ba027cd274c8d1379ed9aaf5005715c2/">Change my password</a></p>

    <p>If you didn't request this, please ignore this email.</p>
    <p>Your password won't change until you access the link above and create a new one.</p>
  </body>
</html>

----==_mimepart_54da711bb5273_15fd23ff725065bec307be--

  Rendered text template (0.0ms)
Completed 204 No Content in 11ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.753510"], ["email", "test@email.com"], ["password_digest", "$2a$04$olBx15yiC1tOnoPf1BsaaOJefOfzfk6UlXyy4mbxizlzgTs5x47JS"], ["updated_at", "2015-02-10 20:59:07.753510"], ["username", "test"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/password_resets/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"email"=>"foo@bar.com"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."email" = 'foo@bar.com' LIMIT 1
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.html.erb (0.1ms)
  Rendered /Users/sam/Documents/projects/inigo/token_authenticate_me/app/views/token_authenticate_me_mailer/invalid_user_reset_password_email.text.erb (0.0ms)

TokenAuthenticateMeMailer#invalid_user_reset_password_email: processed outbound mail in 2.0ms

Sent mail to foo@bar.com (3.4ms)
Date: Tue, 10 Feb 2015 12:59:07 -0800
From: no-reply@test.com
To: foo@bar.com
Message-ID: <54da711bb98f6_15fd23ff725065bec3106b@Samuels-MacBook-Pro.local.mail>
Subject: Password Reset Error
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_54da711bb9111_15fd23ff725065bec30994";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_54da711bb9111_15fd23ff725065bec30994
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi foo@bar.com
=================================

<p>
Someone has requested a link to change your password, but we
do not have account associated with this email.
</p>

To create a new account, please go to the url below to create a new account.

http://example.org/sign-up

If you didn't request this password reset, please ignore this email.

----==_mimepart_54da711bb9111_15fd23ff725065bec30994
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi foo@bar.com</h1>

    <p>
      Someone has requested a link to change your password, but we
      do not have account associated with this email.
    </p>

    <p>To create a new account, please click the link below.</p>

    <p><a href="http://example.org/sign-up">Create new account.</a></p>

    <p>If you didn't request this password reset, please ignore this email.</p>
  </body>
</html>

----==_mimepart_54da711bb9111_15fd23ff725065bec30994--

  Rendered text template (0.0ms)
Completed 204 No Content in 7ms (Views: 0.4ms | ActiveRecord: 0.1ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.786284"], ["email", "test@email.com"], ["password_digest", "$2a$04$dU1wotcezwiiZrFB9Hu8YOt/WxEwsyFZGrcuNHcRo1AGZTzhEG6t."], ["updated_at", "2015-02-10 20:59:07.786284"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '9d68d1672cc367642308f7a98b7400ad' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.806009"], ["expiration", "2015-02-11 20:59:07.807232"], ["key", "9d68d1672cc367642308f7a98b7400ad"], ["updated_at", "2015-02-10 20:59:07.806009"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2015-02-10 20:54:07.808785"], ["updated_at", "2015-02-10 20:59:07.809104"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/session/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by SessionsController#show as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '9d68d1672cc367642308f7a98b7400ad' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:07.825413"], ["email", "test@email.com"], ["password_digest", "$2a$04$pB2dk3G.crKKjqyzUYBa7e1jRQeppbtrl29/VCaA9f4OjBuhr/zPm"], ["updated_at", "2015-02-10 20:59:07.825413"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '7f7e73c0da3ccf468528a705f140a3ce' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:07.827307"], ["expiration", "2015-02-11 20:59:07.827962"], ["key", "7f7e73c0da3ccf468528a705f140a3ce"], ["updated_at", "2015-02-10 20:59:07.827307"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '7f7e73c0da3ccf468528a705f140a3ce' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sessions" WHERE "sessions"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered text template (0.0ms)
Error cleaning up old authentication sessions
Completed 204 No Content in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.840167"], ["email", "test@email.com"], ["password_digest", "$2a$04$QjhUVCjcaoOHWTd34s/nGOV0MJ3yoBbJKZvj6WAz3VtOYwHK62doO"], ["updated_at", "2015-02-10 20:59:07.840167"], ["username", "test"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSession Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = 'd2d2463f7268c053d3c400511b5d383d' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["created_at", "2015-02-10 20:59:07.841916"], ["expiration", "2015-02-11 20:59:07.842685"], ["key", "d2d2463f7268c053d3c400511b5d383d"], ["updated_at", "2015-02-10 20:59:07.841916"], ["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sessions" SET "expiration" = ?, "updated_at" = ? WHERE "sessions"."id" = 1[0m  [["expiration", "2015-02-10 20:54:07.846067"], ["updated_at", "2015-02-10 20:59:07.846587"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started DELETE "/session/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by SessionsController#destroy as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = 'd2d2463f7268c053d3c400511b5d383d' LIMIT 1[0m
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"test", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started POST "/users/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"test", "password"=>"test", "password_confirmation"=>"invalid", "email"=>"test"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:07.883920"], ["email", "test@email.com"], ["password_digest", "$2a$04$b88bZWuWbL5n4Tr0M3aio.5W241bzHAIH4qm9tVM/TmI9gU3b.JZS"], ["updated_at", "2015-02-10 20:59:07.883920"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '111c8c001207f87f08c0e24db21f28fb' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:07.885323"], ["expiration", "2015-02-11 20:59:07.885943"], ["key", "111c8c001207f87f08c0e24db21f28fb"], ["updated_at", "2015-02-10 20:59:07.885323"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by UsersController#index as HTML
  [1m[36mSession Load (0.1ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '111c8c001207f87f08c0e24db21f28fb' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/users/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by UsersController#index as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE LOWER("users"."email") = LOWER('test@email.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users"  WHERE LOWER("users"."username") = LOWER('test') LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:07.901899"], ["email", "test@email.com"], ["password_digest", "$2a$04$vGv8bQo7GKTTRJxvcFWMJOZxwC1.du0fjK9f0nmXhBSKp2BmbaB2K"], ["updated_at", "2015-02-10 20:59:07.901899"], ["username", "test"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSession Exists (0.1ms)[0m  SELECT  1 AS one FROM "sessions"  WHERE "sessions"."key" = '942e4d2d06e0fbe99c920206ae7e0d8c' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sessions" ("created_at", "expiration", "key", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", "2015-02-10 20:59:07.903340"], ["expiration", "2015-02-11 20:59:07.904009"], ["key", "942e4d2d06e0fbe99c920206ae7e0d8c"], ["updated_at", "2015-02-10 20:59:07.903340"], ["user_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1/" for 127.0.0.1 at 2015-02-10 12:59:07 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSession Load (0.2ms)[0m  [1mSELECT  "sessions".* FROM "sessions"  WHERE "sessions"."key" = '942e4d2d06e0fbe99c920206ae7e0d8c' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (2.0ms)[0m  rollback transaction
